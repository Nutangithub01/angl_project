"use strict";(self.webpackChunkpipe=self.webpackChunkpipe||[]).push([[179],{2011:(rt,ye,k)=>{k.d(ye,{Dh:()=>ae,GT:()=>ee,cc:()=>Ee,hO:()=>ke,on:()=>H,pX:()=>ne,xv:()=>se});var c=k(4650),Y=k(9260),O=k(2122);rt=k.hmd(rt);const re=["ngOnDestroy"],ne=(Ce,we,Pe,ve={})=>new Proxy(Ce,{get:(me,De)=>Pe.runOutsideAngular(()=>{var Ne;if(Ce[De])return!(null===(Ne=ve?.spy)||void 0===Ne)&&Ne.get&&ve.spy.get(De,Ce[De]),Ce[De];if(re.indexOf(De)>-1)return()=>{};const Ae=we.toPromise().then(V=>{const pe=V&&V[De];return"function"==typeof pe?pe.bind(V):pe&&pe.then?pe.then(Oe=>Pe.run(()=>Oe)):Pe.run(()=>pe)});return new Proxy(()=>{},{get:(V,pe)=>Ae[pe],apply:(V,pe,Oe)=>Ae.then(Be=>{var it;const We=Be&&Be(...Oe);return!(null===(it=ve?.spy)||void 0===it)&&it.apply&&ve.spy.apply(De,Oe,We),We})})})}),ee=(Ce,we)=>{we.forEach(Pe=>{Object.getOwnPropertyNames(Pe.prototype||Pe).forEach(ve=>{Object.defineProperty(Ce.prototype,ve,Object.getOwnPropertyDescriptor(Pe.prototype||Pe,ve))})})};class ue{constructor(we){return we}}const ae=new c.OlP("angularfire2.app.options"),se=new c.OlP("angularfire2.app.name");function H(Ce,we,Pe){const me="object"==typeof Pe&&Pe||{};me.name=me.name||"string"==typeof Pe&&Pe||"[DEFAULT]";const Ne=Y.Z.apps.filter(Ae=>Ae&&Ae.name===me.name)[0]||we.runOutsideAngular(()=>Y.Z.initializeApp(Ce,me));try{JSON.stringify(Ce)!==JSON.stringify(Ne.options)&&j("error",`${Ne.name} Firebase App already initialized with different options${rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ue(Ne)}const j=(Ce,...we)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ce](...we)},Z={provide:ue,useFactory:H,deps:[ae,c.R0b,[new c.FiY,se]]};let ke=(()=>{class Ce{constructor(Pe){Y.Z.registerVersion("angularfire",O.q4.full,"core"),Y.Z.registerVersion("angularfire",O.q4.full,"app-compat"),Y.Z.registerVersion("angular",c.q4F.full,Pe.toString())}static initializeApp(Pe,ve){return{ngModule:Ce,providers:[{provide:ae,useValue:Pe},{provide:se,useValue:ve}]}}}return Ce.\u0275fac=function(Pe){return new(Pe||Ce)(c.LFG(c.Lbi))},Ce.\u0275mod=c.oAB({type:Ce}),Ce.\u0275inj=c.cJS({providers:[Z]}),Ce})();function Ee(Ce,we,Pe,ve,me){const[,De,Ne]=globalThis.\u0275AngularfireInstanceCache.find(Ae=>Ae[0]===Ce)||[];if(De)return function Ve(Ce,we){try{return Ce.toString()===we.toString()}catch{return Ce===we}}(me,Ne)||(ce("error",`${we} was already initialized on the ${Pe} Firebase App with different settings.${Qe?" You may need to reload as Firebase is not HMR aware.":""}`),ce("warn",{is:me,was:Ne})),De;{const Ae=ve();return globalThis.\u0275AngularfireInstanceCache.push([Ce,Ae,me]),Ae}}const Qe=!!rt.hot,ce=(Ce,...we)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ce](...we)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(rt,ye,k)=>{k.d(ye,{q4:()=>Ja,iC:()=>Jo,HU:()=>ki,vb:()=>tl,JM:()=>Jn});var c=k(4650),Y=k(259),O=k(5861),re=k(9681),ne=k(2090),ee=k(4859),ue=k(1877),ae=k(8766);const se="@firebase/installations",H="0.6.4",Z=`w:${H}`,ke="FIS_v2",we=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pe(b){return b instanceof ne.ZR&&b.code.includes("request-failed")}function ve({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function me(b){return{token:b.token,requestStatus:2,expiresIn:Be(b.expiresIn),creationTime:Date.now()}}function De(b,D){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,O.Z)(function*(b,D){const L=(yield D.json()).error;return we.create("request-failed",{requestName:b,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Ae({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function V(b,{refreshToken:D}){const A=Ae(b);return A.append("Authorization",function it(b){return`${ke} ${b}`}(D)),A}function pe(b){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,O.Z)(function*(b){const D=yield b();return D.status>=500&&D.status<600?b():D})).apply(this,arguments)}function Be(b){return Number(b.replace("s","000"))}function We(b,D){return ie.apply(this,arguments)}function ie(){return(ie=(0,O.Z)(function*({appConfig:b,heartbeatServiceProvider:D},{fid:A}){const L=ve(b),q=Ae(b),J=D.getImmediate({optional:!0});if(J){const Xe=yield J.getHeartbeatsHeader();Xe&&q.append("x-firebase-client",Xe)}const Ue={method:"POST",headers:q,body:JSON.stringify({fid:A,authVersion:ke,appId:b.appId,sdkVersion:Z})},nt=yield pe(()=>fetch(L,Ue));if(nt.ok){const Xe=yield nt.json();return{fid:Xe.fid||A,registrationStatus:2,refreshToken:Xe.refreshToken,authToken:me(Xe.authToken)}}throw yield De("Create Installation",nt)})).apply(this,arguments)}function le(b){return new Promise(D=>{setTimeout(D,b)})}const Ie=/^[cdef][\w-]{21}$/;function xe(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const A=function Ge(b){return function ge(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return Ie.test(A)?A:""}catch{return""}}function $e(b){return`${b.appName}!${b.appId}`}const zt=new Map;function ct(b,D){const A=$e(b);vt(A,D),function Cn(b,D){const A=function ln(){return!Xt&&"BroadcastChannel"in self&&(Xt=new BroadcastChannel("[Firebase] FID Change"),Xt.onmessage=b=>{vt(b.data.key,b.data.fid)}),Xt}();A&&A.postMessage({key:b,fid:D}),function cn(){0===zt.size&&Xt&&(Xt.close(),Xt=null)}()}(A,D)}function vt(b,D){const A=zt.get(b);if(A)for(const L of A)L(D)}let Xt=null;const Mr="firebase-installations-store";let sr=null;function zi(){return sr||(sr=(0,ae.X3)("firebase-installations-database",1,{upgrade:(b,D)=>{0===D&&b.createObjectStore(Mr)}})),sr}function nn(b,D){return yr.apply(this,arguments)}function yr(){return(yr=(0,O.Z)(function*(b,D){const A=$e(b),q=(yield zi()).transaction(Mr,"readwrite"),J=q.objectStore(Mr),be=yield J.get(A);return yield J.put(D,A),yield q.done,(!be||be.fid!==D.fid)&&ct(b,D.fid),D})).apply(this,arguments)}function st(b){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,O.Z)(function*(b){const D=$e(b),L=(yield zi()).transaction(Mr,"readwrite");yield L.objectStore(Mr).delete(D),yield L.done})).apply(this,arguments)}function Zr(b,D){return dn.apply(this,arguments)}function dn(){return(dn=(0,O.Z)(function*(b,D){const A=$e(b),q=(yield zi()).transaction(Mr,"readwrite"),J=q.objectStore(Mr),be=yield J.get(A),Ue=D(be);return void 0===Ue?yield J.delete(A):yield J.put(Ue,A),yield q.done,Ue&&(!be||be.fid!==Ue.fid)&&ct(b,Ue.fid),Ue})).apply(this,arguments)}function Zn(b){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,O.Z)(function*(b){let D;const A=yield Zr(b.appConfig,L=>{const q=Ct(L),J=lt(b,q);return D=J.registrationPromise,J.installationEntry});return""===A.fid?{installationEntry:yield D}:{installationEntry:A,registrationPromise:D}})).apply(this,arguments)}function Ct(b){return Kn(b||{fid:xe(),registrationStatus:0})}function lt(b,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(we.create("app-offline"))};const A={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},L=function gt(b,D){return ls.apply(this,arguments)}(b,A);return{installationEntry:A,registrationPromise:L}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:rn(b)}:{installationEntry:D}}function ls(){return(ls=(0,O.Z)(function*(b,D){try{const A=yield We(b,D);return nn(b.appConfig,A)}catch(A){throw Pe(A)&&409===A.customData.serverCode?yield st(b.appConfig):yield nn(b.appConfig,{fid:D.fid,registrationStatus:0}),A}})).apply(this,arguments)}function rn(b){return wn.apply(this,arguments)}function wn(){return(wn=(0,O.Z)(function*(b){let D=yield qn(b.appConfig);for(;1===D.registrationStatus;)yield le(100),D=yield qn(b.appConfig);if(0===D.registrationStatus){const{installationEntry:A,registrationPromise:L}=yield Zn(b);return L||A}return D})).apply(this,arguments)}function qn(b){return Zr(b,D=>{if(!D)throw we.create("installation-not-found");return Kn(D)})}function Kn(b){return function zs(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function Zt(b,D){return ui.apply(this,arguments)}function ui(){return(ui=(0,O.Z)(function*({appConfig:b,heartbeatServiceProvider:D},A){const L=Ut(b,A),q=V(b,A),J=D.getImmediate({optional:!0});if(J){const Xe=yield J.getHeartbeatsHeader();Xe&&q.append("x-firebase-client",Xe)}const Ue={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:Z,appId:b.appId}})},nt=yield pe(()=>fetch(L,Ue));if(nt.ok)return me(yield nt.json());throw yield De("Generate Auth Token",nt)})).apply(this,arguments)}function Ut(b,{fid:D}){return`${ve(b)}/${D}/authTokens:generate`}function or(b){return ci.apply(this,arguments)}function ci(){return(ci=(0,O.Z)(function*(b,D=!1){let A;const L=yield Zr(b.appConfig,J=>{if(!At(J))throw we.create("not-registered");const be=J.authToken;if(!D&&Yn(be))return J;if(1===be.requestStatus)return A=Le(b,D),J;{if(!navigator.onLine)throw we.create("app-offline");const Ue=U(J);return A=pt(b,Ue),Ue}});return A?yield A:L.authToken})).apply(this,arguments)}function Le(b,D){return _e.apply(this,arguments)}function _e(){return(_e=(0,O.Z)(function*(b,D){let A=yield qe(b.appConfig);for(;1===A.authToken.requestStatus;)yield le(100),A=yield qe(b.appConfig);const L=A.authToken;return 0===L.requestStatus?or(b,D):L})).apply(this,arguments)}function qe(b){return Zr(b,D=>{if(!At(D))throw we.create("not-registered");return function z(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function pt(b,D){return wt.apply(this,arguments)}function wt(){return(wt=(0,O.Z)(function*(b,D){try{const A=yield Zt(b,D),L=Object.assign(Object.assign({},D),{authToken:A});return yield nn(b.appConfig,L),A}catch(A){if(!Pe(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const L=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield nn(b.appConfig,L)}else yield st(b.appConfig);throw A}})).apply(this,arguments)}function At(b){return void 0!==b&&2===b.registrationStatus}function Yn(b){return 2===b.requestStatus&&!function B(b){const D=Date.now();return D<b.creationTime||b.creationTime+b.expiresIn<D+36e5}(b)}function U(b){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:D})}function te(){return(te=(0,O.Z)(function*(b){const D=b,{installationEntry:A,registrationPromise:L}=yield Zn(D);return L?L.catch(console.error):or(D).catch(console.error),A.fid})).apply(this,arguments)}function dt(){return(dt=(0,O.Z)(function*(b,D=!1){const A=b;return yield $t(A),(yield or(A,D)).token})).apply(this,arguments)}function $t(b){return ht.apply(this,arguments)}function ht(){return(ht=(0,O.Z)(function*(b){const{registrationPromise:D}=yield Zn(b);D&&(yield D)})).apply(this,arguments)}function Sa(b){return we.create("missing-app-config-values",{valueName:b})}const xl="installations",fn=b=>{const D=b.getProvider("app").getImmediate(),A=function Po(b){if(!b||!b.options)throw Sa("App Configuration");if(!b.name)throw Sa("App Name");const D=["projectId","apiKey","appId"];for(const A of D)if(!b.options[A])throw Sa(A);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(D);return{app:D,appConfig:A,heartbeatServiceProvider:(0,re._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},dc=b=>{const D=b.getProvider("app").getImmediate(),A=(0,re._getProvider)(D,xl).getImmediate();return{getId:()=>function he(b){return te.apply(this,arguments)}(A),getToken:q=>function Je(b){return dt.apply(this,arguments)}(A,q)}};(function Fl(){(0,re._registerComponent)(new ee.wA(xl,fn,"PUBLIC")),(0,re._registerComponent)(new ee.wA("installations-internal",dc,"PRIVATE"))})(),(0,re.registerVersion)(se,H),(0,re.registerVersion)(se,H,"esm2017");const No="@firebase/remote-config",Tn=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ds{constructor(D,A,L,q){this.client=D,this.storage=A,this.storageCache=L,this.logger=q}isCachedDataFresh(D,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-A,q=L<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${q}.`),q}fetch(D){var A=this;return(0,O.Z)(function*(){const[L,q]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(q&&A.isCachedDataFresh(D.cacheMaxAgeMillis,L))return q;D.eTag=q&&q.eTag;const J=yield A.client.fetch(D),be=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===J.status&&be.push(A.storage.setLastSuccessfulFetchResponse(J)),yield Promise.all(be),J})()}}function Yr(b=navigator){return b.languages&&b.languages[0]||b.language}class Ki{constructor(D,A,L,q,J,be){this.firebaseInstallations=D,this.sdkVersion=A,this.namespace=L,this.projectId=q,this.apiKey=J,this.appId=be}fetch(D){var A=this;return(0,O.Z)(function*(){const[L,q]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),be=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,Ue={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},nt={sdk_version:A.sdkVersion,app_instance_id:L,app_instance_id_token:q,app_id:A.appId,language_code:Yr()},Xe={method:"POST",headers:Ue,body:JSON.stringify(nt)},Tt=fetch(be,Xe),mt=new Promise((Xr,ei)=>{D.signal.addEventListener(()=>{const ti=new Error("The operation was aborted.");ti.name="AbortError",ei(ti)})});let Ln;try{yield Promise.race([Tt,mt]),Ln=yield Tt}catch(Xr){let ei="fetch-client-network";throw"AbortError"===Xr?.name&&(ei="fetch-timeout"),Tn.create(ei,{originalErrorMessage:Xr?.message})}let xn=Ln.status;const As=Ln.headers.get("ETag")||void 0;let Ms,Rs;if(200===Ln.status){let Xr;try{Xr=yield Ln.json()}catch(ei){throw Tn.create("fetch-client-parse",{originalErrorMessage:ei?.message})}Ms=Xr.entries,Rs=Xr.state}if("INSTANCE_STATE_UNSPECIFIED"===Rs?xn=500:"NO_CHANGE"===Rs?xn=304:("NO_TEMPLATE"===Rs||"EMPTY_CONFIG"===Rs)&&(Ms={}),304!==xn&&200!==xn)throw Tn.create("fetch-status",{httpStatus:xn});return{status:xn,eTag:As,config:Ms}})()}}class di{constructor(D,A){this.client=D,this.storage=A}fetch(D){var A=this;return(0,O.Z)(function*(){const L=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(D,L)})()}attemptFetch(D,{throttleEndTimeMillis:A,backoffCount:L}){var q=this;return(0,O.Z)(function*(){yield function Ai(b,D){return new Promise((A,L)=>{const q=Math.max(D-Date.now(),0),J=setTimeout(A,q);b.addEventListener(()=>{clearTimeout(J),L(Tn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,A);try{const J=yield q.client.fetch(D);return yield q.storage.deleteThrottleMetadata(),J}catch(J){if(!function en(b){if(!(b instanceof ne.ZR&&b.customData))return!1;const D=Number(b.customData.httpStatus);return 429===D||500===D||503===D||504===D}(J))throw J;const be={throttleEndTimeMillis:Date.now()+(0,ne.$s)(L),backoffCount:L+1};return yield q.storage.setThrottleMetadata(be),q.attemptFetch(D,be)}})()}}class qs{constructor(D,A,L,q,J){this.app=D,this._client=A,this._storageCache=L,this._storage=q,this._logger=J,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function hs(b,D){const A=b.target.error||void 0;return Tn.create(D,{originalErrorMessage:A&&A?.message})}const lr="app_namespace_store";class Or{constructor(D,A,L,q=function vr(){return new Promise((b,D)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=L=>{D(hs(L,"storage-open"))},A.onsuccess=L=>{b(L.target.result)},A.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(lr,{keyPath:"compositeKey"})}}catch(A){D(Tn.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=D,this.appName=A,this.namespace=L,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var A=this;return(0,O.Z)(function*(){const L=yield A.openDbPromise;return new Promise((q,J)=>{const Ue=L.transaction([lr],"readonly").objectStore(lr),nt=A.createCompositeKey(D);try{const Xe=Ue.get(nt);Xe.onerror=Tt=>{J(hs(Tt,"storage-get"))},Xe.onsuccess=Tt=>{const mt=Tt.target.result;q(mt?mt.value:void 0)}}catch(Xe){J(Tn.create("storage-get",{originalErrorMessage:Xe?.message}))}})})()}set(D,A){var L=this;return(0,O.Z)(function*(){const q=yield L.openDbPromise;return new Promise((J,be)=>{const nt=q.transaction([lr],"readwrite").objectStore(lr),Xe=L.createCompositeKey(D);try{const Tt=nt.put({compositeKey:Xe,value:A});Tt.onerror=mt=>{be(hs(mt,"storage-set"))},Tt.onsuccess=()=>{J()}}catch(Tt){be(Tn.create("storage-set",{originalErrorMessage:Tt?.message}))}})})()}delete(D){var A=this;return(0,O.Z)(function*(){const L=yield A.openDbPromise;return new Promise((q,J)=>{const Ue=L.transaction([lr],"readwrite").objectStore(lr),nt=A.createCompositeKey(D);try{const Xe=Ue.delete(nt);Xe.onerror=Tt=>{J(hs(Tt,"storage-delete"))},Xe.onsuccess=()=>{q()}}catch(Xe){J(Tn.create("storage-delete",{originalErrorMessage:Xe?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class ko{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,O.Z)(function*(){const A=D.storage.getLastFetchStatus(),L=D.storage.getLastSuccessfulFetchTimestampMillis(),q=D.storage.getActiveConfig(),J=yield A;J&&(D.lastFetchStatus=J);const be=yield L;be&&(D.lastSuccessfulFetchTimestampMillis=be);const Ue=yield q;Ue&&(D.activeConfig=Ue)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function xo(){return rh.apply(this,arguments)}function rh(){return(rh=(0,O.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function Qr(){(0,re._registerComponent)(new ee.wA("remote-config",function b(D,{instanceIdentifier:A}){const L=D.getProvider("app").getImmediate(),q=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Tn.create("registration-window");if(!(0,ne.hl)())throw Tn.create("indexed-db-unavailable");const{projectId:J,apiKey:be,appId:Ue}=L.options;if(!J)throw Tn.create("registration-project-id");if(!be)throw Tn.create("registration-api-key");if(!Ue)throw Tn.create("registration-app-id");const nt=new Or(Ue,L.name,A=A||"firebase"),Xe=new ko(nt),Tt=new ue.Yd(No);Tt.logLevel=ue.in.ERROR;const mt=new Ki(q,re.SDK_VERSION,A,J,be,Ue),Ln=new di(mt,nt),xn=new ds(Ln,nt,Xe,Tt),As=new qs(L,xn,Xe,nt,Tt);return function pn(b){const D=(0,ne.m9)(b);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(As),As},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(No,"0.4.4"),(0,re.registerVersion)(No,"0.4.4","esm2017")}();const Bl="/firebase-messaging-sw.js",hi="/firebase-cloud-messaging-push-scope",Ks="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Hl="google.c.a.c_id",pc="google.c.a.c_l",gc="google.c.a.ts",$f="google.c.a.e";var fs=(()=>{return(b=fs||(fs={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",fs;var b})();function kr(b){const D=new Uint8Array(b);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gf(b){const A=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(A),q=new Uint8Array(L.length);for(let J=0;J<L.length;++J)q[J]=L.charCodeAt(J);return q}const jl="fcm_token_details_db",cr="fcm_token_object_Store";function Gl(b){return mc.apply(this,arguments)}function mc(){return mc=(0,O.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(J=>J.name).includes(jl))return null;let D=null;return(yield(0,ae.X3)(jl,5,{upgrade:(L=(0,O.Z)(function*(q,J,be,Ue){var nt;if(J<2||!q.objectStoreNames.contains(cr))return;const Xe=Ue.objectStore(cr),Tt=yield Xe.index("fcmSenderId").get(b);if(yield Xe.clear(),Tt)if(2===J){const mt=Tt;if(!mt.auth||!mt.p256dh||!mt.endpoint)return;D={token:mt.fcmToken,createTime:null!==(nt=mt.createTime)&&void 0!==nt?nt:Date.now(),subscriptionOptions:{auth:mt.auth,p256dh:mt.p256dh,endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:"string"==typeof mt.vapidKey?mt.vapidKey:kr(mt.vapidKey)}}}else if(3===J){const mt=Tt;D={token:mt.fcmToken,createTime:mt.createTime,subscriptionOptions:{auth:kr(mt.auth),p256dh:kr(mt.p256dh),endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:kr(mt.vapidKey)}}}else if(4===J){const mt=Tt;D={token:mt.fcmToken,createTime:mt.createTime,subscriptionOptions:{auth:kr(mt.auth),p256dh:kr(mt.p256dh),endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:kr(mt.vapidKey)}}}}),function(J,be,Ue,nt){return L.apply(this,arguments)})})).close(),yield(0,ae.Lj)(jl),yield(0,ae.Lj)("fcm_vapid_details_db"),yield(0,ae.Lj)("undefined"),ih(D)?D:null;var L}),mc.apply(this,arguments)}function ih(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:D}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const gs="firebase-messaging-store";let Ta=null;function Qs(){return Ta||(Ta=(0,ae.X3)("firebase-messaging-database",1,{upgrade:(b,D)=>{0===D&&b.createObjectStore(gs)}})),Ta}function Aa(b){return Js.apply(this,arguments)}function Js(){return(Js=(0,O.Z)(function*(b){const D=eo(b),L=yield(yield Qs()).transaction(gs).objectStore(gs).get(D);if(L)return L;{const q=yield Gl(b.appConfig.senderId);if(q)return yield ms(b,q),q}})).apply(this,arguments)}function ms(b,D){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,O.Z)(function*(b,D){const A=eo(b),q=(yield Qs()).transaction(gs,"readwrite");return yield q.objectStore(gs).put(D,A),yield q.done,D})).apply(this,arguments)}function Wl(b){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,O.Z)(function*(b){const D=eo(b),L=(yield Qs()).transaction(gs,"readwrite");yield L.objectStore(gs).delete(D),yield L.done})).apply(this,arguments)}function eo({appConfig:b}){return b.appId}const yn=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ma(b,D){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,O.Z)(function*(b,D){const A=yield ys(b),L=Vo(D),q={method:"POST",headers:A,body:JSON.stringify(L)};let J;try{J=yield(yield fetch(to(b.appConfig),q)).json()}catch(be){throw yn.create("token-subscribe-failed",{errorInfo:be?.toString()})}if(J.error)throw yn.create("token-subscribe-failed",{errorInfo:J.error.message});if(!J.token)throw yn.create("token-subscribe-no-token");return J.token})).apply(this,arguments)}function Uo(b,D){return _s.apply(this,arguments)}function _s(){return(_s=(0,O.Z)(function*(b,D){const A=yield ys(b),L=Vo(D.subscriptionOptions),q={method:"PATCH",headers:A,body:JSON.stringify(L)};let J;try{J=yield(yield fetch(`${to(b.appConfig)}/${D.token}`,q)).json()}catch(be){throw yn.create("token-update-failed",{errorInfo:be?.toString()})}if(J.error)throw yn.create("token-update-failed",{errorInfo:J.error.message});if(!J.token)throw yn.create("token-update-no-token");return J.token})).apply(this,arguments)}function Mn(b,D){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,O.Z)(function*(b,D){const L={method:"DELETE",headers:yield ys(b)};try{const J=yield(yield fetch(`${to(b.appConfig)}/${D}`,L)).json();if(J.error)throw yn.create("token-unsubscribe-failed",{errorInfo:J.error.message})}catch(q){throw yn.create("token-unsubscribe-failed",{errorInfo:q?.toString()})}})).apply(this,arguments)}function to({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function ys(b){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,O.Z)(function*({appConfig:b,installations:D}){const A=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function Vo({p256dh:b,auth:D,endpoint:A,vapidKey:L}){const q={web:{endpoint:A,auth:D,p256dh:b}};return L!==Ks&&(q.web.applicationPubKey=L),q}const no=6048e5;function Ra(b){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,O.Z)(function*(b){const D=yield ql(b.swRegistration,b.vapidKey),A={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:D.endpoint,auth:kr(D.getKey("auth")),p256dh:kr(D.getKey("p256dh"))},L=yield Aa(b.firebaseDependencies);if(L){if(Oa(L.subscriptionOptions,A))return Date.now()>=L.createTime+no?Et(b,{token:L.token,createTime:Date.now(),subscriptionOptions:A}):L.token;try{yield Mn(b.firebaseDependencies,L.token)}catch(q){console.warn(q)}return _c(b.firebaseDependencies,A)}return _c(b.firebaseDependencies,A)})).apply(this,arguments)}function Bo(b){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,O.Z)(function*(b){const D=yield Aa(b.firebaseDependencies);D&&(yield Mn(b.firebaseDependencies,D.token),yield Wl(b.firebaseDependencies));const A=yield b.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()})).apply(this,arguments)}function Et(b,D){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,O.Z)(function*(b,D){try{const A=yield Uo(b.firebaseDependencies,D),L=Object.assign(Object.assign({},D),{token:A,createTime:Date.now()});return yield ms(b.firebaseDependencies,L),A}catch(A){throw yield Bo(b),A}})).apply(this,arguments)}function _c(b,D){return Na.apply(this,arguments)}function Na(){return(Na=(0,O.Z)(function*(b,D){const L={token:yield Ma(b,D),createTime:Date.now(),subscriptionOptions:D};return yield ms(b,L),L.token})).apply(this,arguments)}function ql(b,D){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,O.Z)(function*(b,D){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gf(D)})})).apply(this,arguments)}function Oa(b,D){return D.vapidKey===b.vapidKey&&D.endpoint===b.endpoint&&D.auth===b.auth&&D.p256dh===b.p256dh}function sh(b){const D={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function Yl(b,D){if(!D.notification)return;b.notification={};const A=D.notification.title;A&&(b.notification.title=A);const L=D.notification.body;L&&(b.notification.body=L);const q=D.notification.image;q&&(b.notification.image=q);const J=D.notification.icon;J&&(b.notification.icon=J)}(D,b),function de(b,D){D.data&&(b.data=D.data)}(D,b),function Bt(b,D){var A,L,q,J,be;if(!(D.fcmOptions||null!==(A=D.notification)&&void 0!==A&&A.click_action))return;b.fcmOptions={};const Ue=null!==(q=null===(L=D.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==q?q:null===(J=D.notification)||void 0===J?void 0:J.click_action;Ue&&(b.fcmOptions.link=Ue);const nt=null===(be=D.fcmOptions)||void 0===be?void 0:be.analytics_label;nt&&(b.fcmOptions.analyticsLabel=nt)}(D,b),D}function Ql(b){return"object"==typeof b&&!!b&&Hl in b}function yc(b,D){const A=[];for(let L=0;L<b.length;L++)A.push(b.charAt(L)),L<D.length&&A.push(D.charAt(L));return A.join("")}function jo(b){return yn.create("missing-app-config-values",{valueName:b})}yc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),yc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ka{constructor(D,A,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function $n(b){if(!b||!b.options)throw jo("App Configuration Object");if(!b.name)throw jo("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:A}=b;for(const L of D)if(!A[L])throw jo(L);return{appName:b.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:q,installations:A,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Cr(b){return xa.apply(this,arguments)}function xa(){return(xa=(0,O.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(Bl,{scope:hi}),b.swRegistration.update().catch(()=>{})}catch(D){throw yn.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function Fa(b,D){return vc.apply(this,arguments)}function vc(){return(vc=(0,O.Z)(function*(b,D){if(!D&&!b.swRegistration&&(yield Cr(b)),D||!b.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw yn.create("invalid-sw-registration");b.swRegistration=D}})).apply(this,arguments)}function Jl(b,D){return La.apply(this,arguments)}function La(){return(La=(0,O.Z)(function*(b,D){D?b.vapidKey=D:b.vapidKey||(b.vapidKey=Ks)})).apply(this,arguments)}function wr(){return(wr=(0,O.Z)(function*(b,D){if(!navigator)throw yn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yn.create("permission-blocked");return yield Jl(b,D?.vapidKey),yield Fa(b,D?.serviceWorkerRegistration),Ra(b)})).apply(this,arguments)}function Yi(b,D,A){return vs.apply(this,arguments)}function vs(){return(vs=(0,O.Z)(function*(b,D,A){const L=fi(D);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:A[Hl],message_name:A[pc],message_time:A[gc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fi(b){switch(b){case fs.NOTIFICATION_CLICKED:return"notification_open";case fs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function $o(){return($o=(0,O.Z)(function*(b,D){const A=D.data;if(!A.isFirebaseMessaging)return;b.onMessageHandler&&A.messageType===fs.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(sh(A)):b.onMessageHandler.next(sh(A)));const L=A.data;Ql(L)&&"1"===L[$f]&&(yield Yi(b,A.messageType,L))})).apply(this,arguments)}const Cc="@firebase/messaging",eu=b=>{const D=new ka(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function Ec(b,D){return $o.apply(this,arguments)}(D,A)),D},Ri=b=>{const D=b.getProvider("messaging").getImmediate();return{getToken:L=>function kn(b,D){return wr.apply(this,arguments)}(D,L)}};function tu(){return bc.apply(this,arguments)}function bc(){return(bc=(0,O.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wc(){(0,re._registerComponent)(new ee.wA("messaging",eu,"PUBLIC")),(0,re._registerComponent)(new ee.wA("messaging-internal",Ri,"PRIVATE")),(0,re.registerVersion)(Cc,"0.12.4"),(0,re.registerVersion)(Cc,"0.12.4","esm2017")}();const Dc="analytics",dr="firebase_id",io="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ru="https://www.googletagmanager.com/gtag/js",Gn=new ue.Yd("@firebase/analytics");function lh(b){return Promise.all(b.map(D=>D.catch(A=>A)))}function Zf(b,D){const A=document.createElement("script");A.src=`${ru}?l=${b}&id=${D}`,A.async=!0,document.head.appendChild(A)}function Go(b,D,A,L,q,J){return Es.apply(this,arguments)}function Es(){return(Es=(0,O.Z)(function*(b,D,A,L,q,J){const be=L[q];try{if(be)yield D[be];else{const nt=(yield lh(A)).find(Xe=>Xe.measurementId===q);nt&&(yield D[nt.appId])}}catch(Ue){Gn.error(Ue)}b("config",q,J)})).apply(this,arguments)}function Va(b,D,A,L,q){return pi.apply(this,arguments)}function pi(){return(pi=(0,O.Z)(function*(b,D,A,L,q){try{let J=[];if(q&&q.send_to){let be=q.send_to;Array.isArray(be)||(be=[be]);const Ue=yield lh(A);for(const nt of be){const Xe=Ue.find(mt=>mt.measurementId===nt),Tt=Xe&&D[Xe.appId];if(!Tt){J=[];break}J.push(Tt)}}0===J.length&&(J=Object.values(D)),yield Promise.all(J),b("event",L,q||{})}catch(J){Gn.error(J)}})).apply(this,arguments)}function Pi(b){const D=window.document.getElementsByTagName("script");for(const A of Object.values(D))if(A.src&&A.src.includes(ru)&&A.src.includes(b))return A;return null}const br=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Sc=new class ws{constructor(D={},A=1e3){this.throttleMetadata=D,this.intervalMillis=A}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,A){this.throttleMetadata[D]=A}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Ba(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function bs(b){return su.apply(this,arguments)}function su(){return(su=(0,O.Z)(function*(b){var D;const{appId:A,apiKey:L}=b,q={method:"GET",headers:Ba(L)},J=io.replace("{app-id}",A),be=yield fetch(J,q);if(200!==be.status&&304!==be.status){let Ue="";try{const nt=yield be.json();null!==(D=nt.error)&&void 0!==D&&D.message&&(Ue=nt.error.message)}catch{}throw br.create("config-fetch-failed",{httpStatus:be.status,responseMessage:Ue})}return be.json()})).apply(this,arguments)}function gn(b){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,O.Z)(function*(b,D=Sc,A){const{appId:L,apiKey:q,measurementId:J}=b.options;if(!L)throw br.create("no-app-id");if(!q){if(J)return{measurementId:J,appId:L};throw br.create("no-api-key")}const be=D.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ue=new Wo;return setTimeout((0,O.Z)(function*(){Ue.abort()}),void 0!==A?A:6e4),so({appId:L,apiKey:q,measurementId:J},be,Ue,D)})).apply(this,arguments)}function so(b,D,A){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,O.Z)(function*(b,{throttleEndTimeMillis:D,backoffCount:A},L,q=Sc){var J;const{appId:be,measurementId:Ue}=b;try{yield oo(L,D)}catch(nt){if(Ue)return Gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${nt?.message}]`),{appId:be,measurementId:Ue};throw nt}try{const nt=yield bs(b);return q.deleteThrottleMetadata(be),nt}catch(nt){const Xe=nt;if(!ou(Xe)){if(q.deleteThrottleMetadata(be),Ue)return Gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${Xe?.message}]`),{appId:be,measurementId:Ue};throw nt}const Tt=503===Number(null===(J=Xe?.customData)||void 0===J?void 0:J.httpStatus)?(0,ne.$s)(A,q.intervalMillis,30):(0,ne.$s)(A,q.intervalMillis),mt={throttleEndTimeMillis:Date.now()+Tt,backoffCount:A+1};return q.setThrottleMetadata(be,mt),Gn.debug(`Calling attemptFetch again in ${Tt} millis`),so(b,mt,L,q)}})).apply(this,arguments)}function oo(b,D){return new Promise((A,L)=>{const q=Math.max(D-Date.now(),0),J=setTimeout(A,q);b.addEventListener(()=>{clearTimeout(J),L(br.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function ou(b){if(!(b instanceof ne.ZR&&b.customData))return!1;const D=Number(b.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Wo{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Ha,Ss;function Ji(){return(Ji=(0,O.Z)(function*(b,D,A,L,q){if(q&&q.global)b("event",A,L);else{const J=yield D;b("event",A,Object.assign(Object.assign({},L),{send_to:J}))}})).apply(this,arguments)}function Ga(b){Ss=b}function za(b){Ha=b}function Wa(){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,O.Z)(function*(){if(!(0,ne.hl)())return Gn.warn(br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(b){return Gn.warn(br.create("indexeddb-unavailable",{errorInfo:b?.toString()}).message),!1}return!0})).apply(this,arguments)}function Za(){return(Za=(0,O.Z)(function*(b,D,A,L,q,J,be){var Ue;const nt=gn(b);nt.then(xn=>{A[xn.measurementId]=xn.appId,b.options.measurementId&&xn.measurementId!==b.options.measurementId&&Gn.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${xn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(xn=>Gn.error(xn)),D.push(nt);const Xe=Wa().then(xn=>{if(xn)return L.getId()}),[Tt,mt]=yield Promise.all([nt,Xe]);Pi(J)||Zf(J,Tt.measurementId),Ss&&(q("consent","default",Ss),Ga(void 0)),q("js",new Date);const Ln=null!==(Ue=be?.config)&&void 0!==Ue?Ue:{};return Ln.origin="firebase",Ln.update=!0,null!=mt&&(Ln[dr]=mt),q("config",Tt.measurementId,Ln),Ha&&(q("set",Ha),za(void 0)),Tt.measurementId})).apply(this,arguments)}class qa{constructor(D){this.app=D}_delete(){return delete Oi[this.app.options.appId],Promise.resolve()}}let Oi={},au=[];const lo={};let uu,mi,gi="dataLayer",xr=!1;function Ka(b,D,A){!function cu(){const b=[];if((0,ne.ru)()&&b.push("This is a browser extension environment."),(0,ne.zI)()||b.push("Cookies are not available."),b.length>0){const D=b.map((L,q)=>`(${q+1}) ${L}`).join(" "),A=br.create("invalid-analytics-context",{errorInfo:D});Gn.warn(A.message)}}();const L=b.options.appId;if(!L)throw br.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw br.create("no-api-key");Gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Oi[L])throw br.create("already-exists",{id:L});if(!xr){!function qf(b){let D=[];Array.isArray(window[b])?D=window[b]:window[b]=D}(gi);const{wrappedGtag:J,gtagCore:be}=function uh(b,D,A,L,q){let J=function(...be){window[L].push(arguments)};return window[q]&&"function"==typeof window[q]&&(J=window[q]),window[q]=function Cs(b,D,A,L){function J(){return(J=(0,O.Z)(function*(be,Ue,nt){try{"event"===be?yield Va(b,D,A,Ue,nt):"config"===be?yield Go(b,D,A,L,Ue,nt):"consent"===be?b("consent","update",nt):b("set",Ue)}catch(Xe){Gn.error(Xe)}})).apply(this,arguments)}return function q(be,Ue,nt){return J.apply(this,arguments)}}(J,b,D,A),{gtagCore:J,wrappedGtag:window[q]}}(Oi,au,lo,gi,"gtag");mi=J,uu=be,xr=!0}return Oi[L]=function Ts(b,D,A,L,q,J,be){return Za.apply(this,arguments)}(b,au,lo,D,uu,gi,A),new qa(b)}function Ac(){return es.apply(this,arguments)}function es(){return(es=(0,O.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const Kt="@firebase/analytics";!function Yf(){(0,re._registerComponent)(new ee.wA(Dc,(D,{options:A})=>Ka(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,re._registerComponent)(new ee.wA("analytics-internal",function b(D){try{const A=D.getProvider(Dc).getImmediate();return{logEvent:(L,q,J)=>function Xg(b,D,A,L){b=(0,ne.m9)(b),function ja(b,D,A,L,q){return Ji.apply(this,arguments)}(mi,Oi[b.app.options.appId],D,A,L).catch(q=>Gn.error(q))}(A,L,q,J)}}catch(A){throw br.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,re.registerVersion)(Kt,"0.9.4"),(0,re.registerVersion)(Kt,"0.9.4","esm2017")}();var Rc=k(4408),pu=k(7565);const dh=new class Nc extends pu.v{}(class Pc extends Rc.o{constructor(D,A){super(D,A),this.scheduler=D,this.work=A}schedule(D,A=0){return A>0?super.schedule(D,A):(this.delay=A,this.state=D,this.scheduler.flush(this),this)}execute(D,A){return A>0||this.closed?super.execute(D,A):this._execute(D,A)}requestAsyncId(D,A,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(D,A,L):(D.flush(this),0)}});var Oc=k(4986),mu=k(8505),an=k(9468),Qa=k(5363);const Ja=new c.GfV("7.5.0"),kc="__angularfire_symbol__analyticsIsSupportedValue",hr="__angularfire_symbol__analyticsIsSupported",yi="__angularfire_symbol__remoteConfigIsSupportedValue",Xa="__angularfire_symbol__remoteConfigIsSupported",Qo="__angularfire_symbol__messagingIsSupportedValue",uo="__angularfire_symbol__messagingIsSupported";function Jn(b,D,A){if(D){if(1===D.length)return D[0];const J=D.filter(be=>be.app===A);if(1===J.length)return J[0]}return A.container.getProvider(b).getImmediate({optional:!0})}globalThis[hr]||(globalThis[hr]=Ac().then(b=>globalThis[kc]=b).catch(()=>globalThis[kc]=!1)),globalThis[uo]||(globalThis[uo]=tu().then(b=>globalThis[Qo]=b).catch(()=>globalThis[Qo]=!1)),globalThis[Xa]||(globalThis[Xa]=xo().then(b=>globalThis[yi]=b).catch(()=>globalThis[yi]=!1));const tl=(b,D)=>{const A=D?[D]:(0,Y.C6)(),L=[];return A.forEach(q=>{q.container.getProvider(b).instances.forEach(be=>{L.includes(be)||L.push(be)})}),L};function Gt(){}class Jr{constructor(D,A=dh){this.zone=D,this.delegate=A}now(){return this.delegate.now()}schedule(D,A,L){const q=this.zone;return this.delegate.schedule(function(be){q.runGuarded(()=>{D.apply(this,[be])})},A,L)}}class Ye{constructor(D){this.zone=D,this.task=null}call(D,A){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gt,{},Gt,Gt)),A.pipe((0,mu.b)({next:L,complete:L,error:L})).subscribe(D).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ki=(()=>{class b{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new Jr(Zone.current)),this.insideAngular=A.run(()=>new Jr(Zone.current,Oc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(A){return new(A||b)(c.LFG(c.R0b))},b.\u0275prov=c.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function Rn(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Jo(b){return Rn(),function Xo(b){return function(A){return(A=A.lift(new Ye(b.ngZone))).pipe((0,an.R)(b.outsideAngular),(0,Qa.Q)(b.insideAngular))}}(Rn())(b)}},2090:(rt,ye,k)=>{k.d(ye,{$s:()=>pt,BH:()=>De,DV:()=>sr,Dv:()=>wn,GJ:()=>Gi,L:()=>se,LL:()=>ct,Pz:()=>me,Sg:()=>Ne,UG:()=>pe,UI:()=>nn,US:()=>ee,Wj:()=>zs,Wl:()=>Cn,Yr:()=>ge,ZB:()=>Z,ZR:()=>zt,aH:()=>ve,b$:()=>it,cI:()=>vt,dS:()=>ui,eu:()=>xe,g5:()=>O,gK:()=>qn,gQ:()=>Zi,h$:()=>ae,hl:()=>Re,hu:()=>Y,jU:()=>Oe,lb:()=>Zt,m9:()=>Yn,ne:()=>Ct,p$:()=>j,pd:()=>Zn,r3:()=>Mr,ru:()=>Be,tV:()=>H,uI:()=>V,ug:()=>Ut,vZ:()=>yr,w1:()=>ie,w9:()=>_r,xO:()=>Zr,xb:()=>zi,z$:()=>Ae,zI:()=>Ge,zd:()=>dn});const Y=function(B,U){if(!B)throw O(U)},O=function(B){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+B)},re=function(B){const U=[];let z=0;for(let he=0;he<B.length;he++){let te=B.charCodeAt(he);te<128?U[z++]=te:te<2048?(U[z++]=te>>6|192,U[z++]=63&te|128):55296==(64512&te)&&he+1<B.length&&56320==(64512&B.charCodeAt(he+1))?(te=65536+((1023&te)<<10)+(1023&B.charCodeAt(++he)),U[z++]=te>>18|240,U[z++]=te>>12&63|128,U[z++]=te>>6&63|128,U[z++]=63&te|128):(U[z++]=te>>12|224,U[z++]=te>>6&63|128,U[z++]=63&te|128)}return U},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,U){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,he=[];for(let te=0;te<B.length;te+=3){const Je=B[te],dt=te+1<B.length,$t=dt?B[te+1]:0,ht=te+2<B.length,hn=ht?B[te+2]:0;let qr=(15&$t)<<2|hn>>6,Nn=63&hn;ht||(Nn=64,dt||(qr=64)),he.push(z[Je>>2],z[(3&Je)<<4|$t>>4],z[qr],z[Nn])}return he.join("")},encodeString(B,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(B):this.encodeByteArray(re(B),U)},decodeString(B,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(B):function(B){const U=[];let z=0,he=0;for(;z<B.length;){const te=B[z++];if(te<128)U[he++]=String.fromCharCode(te);else if(te>191&&te<224){const Je=B[z++];U[he++]=String.fromCharCode((31&te)<<6|63&Je)}else if(te>239&&te<365){const ht=((7&te)<<18|(63&B[z++])<<12|(63&B[z++])<<6|63&B[z++])-65536;U[he++]=String.fromCharCode(55296+(ht>>10)),U[he++]=String.fromCharCode(56320+(1023&ht))}else{const Je=B[z++],dt=B[z++];U[he++]=String.fromCharCode((15&te)<<12|(63&Je)<<6|63&dt)}}return U.join("")}(this.decodeStringToByteArray(B,U))},decodeStringToByteArray(B,U){this.init_();const z=U?this.charToByteMapWebSafe_:this.charToByteMap_,he=[];for(let te=0;te<B.length;){const Je=z[B.charAt(te++)],$t=te<B.length?z[B.charAt(te)]:0;++te;const hn=te<B.length?z[B.charAt(te)]:64;++te;const kt=te<B.length?z[B.charAt(te)]:64;if(++te,null==Je||null==$t||null==hn||null==kt)throw new ue;he.push(Je<<2|$t>>4),64!==hn&&(he.push($t<<4&240|hn>>2),64!==kt&&he.push(hn<<6&192|kt))}return he},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}};class ue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ae=function(B){const U=re(B);return ee.encodeByteArray(U,!0)},se=function(B){return ae(B).replace(/\./g,"")},H=function(B){try{return ee.decodeString(B,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function j(B){return Z(void 0,B)}function Z(B,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return U}for(const z in U)!U.hasOwnProperty(z)||!ke(z)||(B[z]=Z(B[z],U[z]));return B}function ke(B){return"__proto__"!==B}const Ce=()=>{try{return function Ee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const B=process.env.__FIREBASE_DEFAULTS__;return B?JSON.parse(B):void 0})()||(()=>{if(typeof document>"u")return;let B;try{B=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=B&&H(B[1]);return U&&JSON.parse(U)})()}catch(B){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${B}`)}},ve=()=>{var B;return null===(B=Ce())||void 0===B?void 0:B.config},me=B=>{var U;return null===(U=Ce())||void 0===U?void 0:U[`_${B}`]};class De{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,z)=>{this.resolve=U,this.reject=z})}wrapCallback(U){return(z,he)=>{z?this.reject(z):this.resolve(he),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(z):U(z,he))}}}function Ne(B,U){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const he=U||"demo-project",te=B.iat||0,Je=B.sub||B.user_id;if(!Je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const dt=Object.assign({iss:`https://securetoken.google.com/${he}`,aud:he,iat:te,exp:te+3600,auth_time:te,sub:Je,user_id:Je,firebase:{sign_in_provider:"custom",identities:{}}},B);return[se(JSON.stringify({alg:"none",type:"JWT"})),se(JSON.stringify(dt)),""].join(".")}function Ae(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function V(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function pe(){var B;const U=null===(B=Ce())||void 0===B?void 0:B.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Oe(){return"object"==typeof self&&self.self===self}function Be(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function it(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ie(){const B=Ae();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function ge(){return!1}function Re(){try{return"object"==typeof indexedDB}catch{return!1}}function xe(){return new Promise((B,U)=>{try{let z=!0;const he="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(he);te.onsuccess=()=>{te.result.close(),z||self.indexedDB.deleteDatabase(he),B(!0)},te.onupgradeneeded=()=>{z=!1},te.onerror=()=>{var Je;U((null===(Je=te.error)||void 0===Je?void 0:Je.message)||"")}}catch(z){U(z)}})}function Ge(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class zt extends Error{constructor(U,z,he){super(z),this.code=U,this.customData=he,this.name="FirebaseError",Object.setPrototypeOf(this,zt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ct.prototype.create)}}class ct{constructor(U,z,he){this.service=U,this.serviceName=z,this.errors=he}create(U,...z){const he=z[0]||{},te=`${this.service}/${U}`,Je=this.errors[U],dt=Je?function jt(B,U){return B.replace(Ze,(z,he)=>{const te=U[he];return null!=te?String(te):`<${he}?>`})}(Je,he):"Error";return new zt(te,`${this.serviceName}: ${dt} (${te}).`,he)}}const Ze=/\{\$([^}]+)}/g;function vt(B){return JSON.parse(B)}function Cn(B){return JSON.stringify(B)}const Xt=function(B){let U={},z={},he={},te="";try{const Je=B.split(".");U=vt(H(Je[0])||""),z=vt(H(Je[1])||""),te=Je[2],he=z.d||{},delete z.d}catch{}return{header:U,claims:z,data:he,signature:te}},_r=function(B){const z=Xt(B).claims;return!!z&&"object"==typeof z&&z.hasOwnProperty("iat")},Gi=function(B){const U=Xt(B).claims;return"object"==typeof U&&!0===U.admin};function Mr(B,U){return Object.prototype.hasOwnProperty.call(B,U)}function sr(B,U){if(Object.prototype.hasOwnProperty.call(B,U))return B[U]}function zi(B){for(const U in B)if(Object.prototype.hasOwnProperty.call(B,U))return!1;return!0}function nn(B,U,z){const he={};for(const te in B)Object.prototype.hasOwnProperty.call(B,te)&&(he[te]=U.call(z,B[te],te,B));return he}function yr(B,U){if(B===U)return!0;const z=Object.keys(B),he=Object.keys(U);for(const te of z){if(!he.includes(te))return!1;const Je=B[te],dt=U[te];if(st(Je)&&st(dt)){if(!yr(Je,dt))return!1}else if(Je!==dt)return!1}for(const te of he)if(!z.includes(te))return!1;return!0}function st(B){return null!==B&&"object"==typeof B}function Zr(B){const U=[];for(const[z,he]of Object.entries(B))Array.isArray(he)?he.forEach(te=>{U.push(encodeURIComponent(z)+"="+encodeURIComponent(te))}):U.push(encodeURIComponent(z)+"="+encodeURIComponent(he));return U.length?"&"+U.join("&"):""}function dn(B){const U={};return B.replace(/^\?/,"").split("&").forEach(he=>{if(he){const[te,Je]=he.split("=");U[decodeURIComponent(te)]=decodeURIComponent(Je)}}),U}function Zn(B){const U=B.indexOf("?");if(!U)return"";const z=B.indexOf("#",U);return B.substring(U,z>0?z:void 0)}class Zi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let U=1;U<this.blockSize;++U)this.pad_[U]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(U,z){z||(z=0);const he=this.W_;if("string"==typeof U)for(let kt=0;kt<16;kt++)he[kt]=U.charCodeAt(z)<<24|U.charCodeAt(z+1)<<16|U.charCodeAt(z+2)<<8|U.charCodeAt(z+3),z+=4;else for(let kt=0;kt<16;kt++)he[kt]=U[z]<<24|U[z+1]<<16|U[z+2]<<8|U[z+3],z+=4;for(let kt=16;kt<80;kt++){const qr=he[kt-3]^he[kt-8]^he[kt-14]^he[kt-16];he[kt]=4294967295&(qr<<1|qr>>>31)}let hn,Sn,te=this.chain_[0],Je=this.chain_[1],dt=this.chain_[2],$t=this.chain_[3],ht=this.chain_[4];for(let kt=0;kt<80;kt++){kt<40?kt<20?(hn=$t^Je&(dt^$t),Sn=1518500249):(hn=Je^dt^$t,Sn=1859775393):kt<60?(hn=Je&dt|$t&(Je|dt),Sn=2400959708):(hn=Je^dt^$t,Sn=3395469782);const qr=(te<<5|te>>>27)+hn+ht+Sn+he[kt]&4294967295;ht=$t,$t=dt,dt=4294967295&(Je<<30|Je>>>2),Je=te,te=qr}this.chain_[0]=this.chain_[0]+te&4294967295,this.chain_[1]=this.chain_[1]+Je&4294967295,this.chain_[2]=this.chain_[2]+dt&4294967295,this.chain_[3]=this.chain_[3]+$t&4294967295,this.chain_[4]=this.chain_[4]+ht&4294967295}update(U,z){if(null==U)return;void 0===z&&(z=U.length);const he=z-this.blockSize;let te=0;const Je=this.buf_;let dt=this.inbuf_;for(;te<z;){if(0===dt)for(;te<=he;)this.compress_(U,te),te+=this.blockSize;if("string"==typeof U){for(;te<z;)if(Je[dt]=U.charCodeAt(te),++dt,++te,dt===this.blockSize){this.compress_(Je),dt=0;break}}else for(;te<z;)if(Je[dt]=U[te],++dt,++te,dt===this.blockSize){this.compress_(Je),dt=0;break}}this.inbuf_=dt,this.total_+=z}digest(){const U=[];let z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let te=this.blockSize-1;te>=56;te--)this.buf_[te]=255&z,z/=256;this.compress_(this.buf_);let he=0;for(let te=0;te<5;te++)for(let Je=24;Je>=0;Je-=8)U[he]=this.chain_[te]>>Je&255,++he;return U}}function Ct(B,U){const z=new lt(B,U);return z.subscribe.bind(z)}class lt{constructor(U,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{U(this)}).catch(he=>{this.error(he)})}next(U){this.forEachObserver(z=>{z.next(U)})}error(U){this.forEachObserver(z=>{z.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,z,he){let te;if(void 0===U&&void 0===z&&void 0===he)throw new Error("Missing Observer.");te=function ls(B,U){if("object"!=typeof B||null===B)return!1;for(const z of U)if(z in B&&"function"==typeof B[z])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:z,complete:he},void 0===te.next&&(te.next=rn),void 0===te.error&&(te.error=rn),void 0===te.complete&&(te.complete=rn);const Je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch{}}),this.observers.push(te),Je}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,U)}sendOne(U,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{z(this.observers[U])}catch(he){typeof console<"u"&&console.error&&console.error(he)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rn(){}const wn=function(B,U,z,he){let te;if(he<U?te="at least "+U:he>z&&(te=0===z?"none":"no more than "+z),te)throw new Error(B+" failed: Was called with "+he+(1===he?" argument.":" arguments.")+" Expects "+te+".")};function qn(B,U){return`${B} failed: ${U} argument `}function zs(B,U,z,he){if((!he||z)&&"function"!=typeof z)throw new Error(qn(B,U)+"must be a valid function.")}function Zt(B,U,z,he){if((!he||z)&&("object"!=typeof z||null===z))throw new Error(qn(B,U)+"must be a valid context object.")}const ui=function(B){const U=[];let z=0;for(let he=0;he<B.length;he++){let te=B.charCodeAt(he);if(te>=55296&&te<=56319){const Je=te-55296;he++,Y(he<B.length,"Surrogate pair missing trail surrogate."),te=65536+(Je<<10)+(B.charCodeAt(he)-56320)}te<128?U[z++]=te:te<2048?(U[z++]=te>>6|192,U[z++]=63&te|128):te<65536?(U[z++]=te>>12|224,U[z++]=te>>6&63|128,U[z++]=63&te|128):(U[z++]=te>>18|240,U[z++]=te>>12&63|128,U[z++]=te>>6&63|128,U[z++]=63&te|128)}return U},Ut=function(B){let U=0;for(let z=0;z<B.length;z++){const he=B.charCodeAt(z);he<128?U++:he<2048?U+=2:he>=55296&&he<=56319?(U+=4,z++):U+=3}return U};function pt(B,U=1e3,z=2){const he=U*Math.pow(z,B),te=Math.round(.5*he*(Math.random()-.5)*2);return Math.min(144e5,he+te)}function Yn(B){return B&&B._delegate?B._delegate:B}},441:(rt,ye,k)=>{var c=k(4650);let Y=null;function O(){return Y}class ne{}const ee=new c.OlP("DocumentToken");let ue=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ae(){return(0,c.LFG)(H)}()},providedIn:"platform"}),n})();const se=new c.OlP("Location Initialized");let H=(()=>{class n extends ue{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(e){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,a){j()?this._history.pushState(e,r,a):this._location.hash=a}replaceState(e,r,a){j()?this._history.replaceState(e,r,a):this._location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Z(){return new H((0,c.LFG)(ee))}()},providedIn:"platform"}),n})();function j(){return!!window.history.pushState}function ke(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ee(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ve(n){return n&&"?"!==n[0]?"?"+n:n}let Qe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Ce)},providedIn:"root"}),n})();const ce=new c.OlP("appBaseHref");let Ce=(()=>{class n extends Qe{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ke(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Ve(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${r}${a}`:r}pushState(e,r,a,u){const f=this.prepareExternalUrl(a+Ve(u));this._platformLocation.pushState(e,r,f)}replaceState(e,r,a,u){const f=this.prepareExternalUrl(a+Ve(u));this._platformLocation.replaceState(e,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ue),c.LFG(ce,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),we=(()=>{class n extends Qe{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=ke(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,a,u){let f=this.prepareExternalUrl(a+Ve(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(e,r,f)}replaceState(e,r,a,u){let f=this.prepareExternalUrl(a+Ve(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ue),c.LFG(ce,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(e){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function Ne(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(Ee(De(r))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Ve(r))}normalize(e){return n.stripTrailingSlash(function me(n,t){return n&&new RegExp(`^${n}([/;?#]|$)`).test(t)?t.substring(n.length):t}(this._basePath,De(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",a=null){this._locationStrategy.pushState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ve(r)),a)}replaceState(e,r="",a=null){this._locationStrategy.replaceState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ve(r)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(a=>a(e,r))}subscribe(e,r,a){return this._subject.subscribe({next:e,error:r,complete:a})}}return n.normalizeQueryParams=Ve,n.joinWithSlash=ke,n.stripTrailingSlash=Ee,n.\u0275fac=function(e){return new(e||n)(c.LFG(Qe))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ve(){return new Pe((0,c.LFG)(Qe))}()},providedIn:"root"}),n})();function De(n){return n.replace(/\/index.html$/,"")}var V=(()=>((V=V||{})[V.Decimal=0]="Decimal",V[V.Percent=1]="Percent",V[V.Currency=2]="Currency",V[V.Scientific=3]="Scientific",V))(),Oe=(()=>((Oe=Oe||{})[Oe.Format=0]="Format",Oe[Oe.Standalone=1]="Standalone",Oe))(),Be=(()=>((Be=Be||{})[Be.Narrow=0]="Narrow",Be[Be.Abbreviated=1]="Abbreviated",Be[Be.Wide=2]="Wide",Be[Be.Short=3]="Short",Be))(),it=(()=>((it=it||{})[it.Short=0]="Short",it[it.Medium=1]="Medium",it[it.Long=2]="Long",it[it.Full=3]="Full",it))(),We=(()=>((We=We||{})[We.Decimal=0]="Decimal",We[We.Group=1]="Group",We[We.List=2]="List",We[We.PercentSign=3]="PercentSign",We[We.PlusSign=4]="PlusSign",We[We.MinusSign=5]="MinusSign",We[We.Exponential=6]="Exponential",We[We.SuperscriptingExponent=7]="SuperscriptingExponent",We[We.PerMille=8]="PerMille",We[We.Infinity=9]="Infinity",We[We.NaN=10]="NaN",We[We.TimeSeparator=11]="TimeSeparator",We[We.CurrencyDecimal=12]="CurrencyDecimal",We[We.CurrencyGroup=13]="CurrencyGroup",We))();function zt(n,t){return nn((0,c.cg1)(n)[c.wAp.DateFormat],t)}function ct(n,t){return nn((0,c.cg1)(n)[c.wAp.TimeFormat],t)}function jt(n,t){return nn((0,c.cg1)(n)[c.wAp.DateTimeFormat],t)}function Ze(n,t){const e=(0,c.cg1)(n),r=e[c.wAp.NumberSymbols][t];if(typeof r>"u"){if(t===We.CurrencyDecimal)return e[c.wAp.NumberSymbols][We.Decimal];if(t===We.CurrencyGroup)return e[c.wAp.NumberSymbols][We.Group]}return r}function vt(n,t){return(0,c.cg1)(n)[c.wAp.NumberFormats][t]}function Gi(n){if(!n[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function nn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function yr(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const dn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Zn={},Zi=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ct=(()=>((Ct=Ct||{})[Ct.Short=0]="Short",Ct[Ct.ShortGMT=1]="ShortGMT",Ct[Ct.Long=2]="Long",Ct[Ct.Extended=3]="Extended",Ct))(),lt=(()=>((lt=lt||{})[lt.FullYear=0]="FullYear",lt[lt.Month=1]="Month",lt[lt.Date=2]="Date",lt[lt.Hours=3]="Hours",lt[lt.Minutes=4]="Minutes",lt[lt.Seconds=5]="Seconds",lt[lt.FractionalSeconds=6]="FractionalSeconds",lt[lt.Day=7]="Day",lt))(),gt=(()=>((gt=gt||{})[gt.DayPeriods=0]="DayPeriods",gt[gt.Days=1]="Days",gt[gt.Months=2]="Months",gt[gt.Eras=3]="Eras",gt))();function ls(n,t,e,r){let a=function te(n){if(dt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[a,u=1,f=1]=n.split("-").map(y=>+y);return rn(a,u-1,f)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(dn))return function Je(n){const t=new Date(0);let e=0,r=0;const a=n[8]?t.setUTCFullYear:t.setFullYear,u=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),a.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const f=Number(n[4]||0)-e,y=Number(n[5]||0)-r,C=Number(n[6]||0),I=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(t,f,y,C,I),t}(r)}const t=new Date(n);if(!dt(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=wn(e,t)||t;let y,f=[];for(;t;){if(y=Zi.exec(t),!y){f.push(t);break}{f=f.concat(y.slice(1));const P=f.pop();if(!P)break;t=P}}let C=a.getTimezoneOffset();r&&(C=U(r,C),a=function he(n,t,e){const r=e?-1:1,a=n.getTimezoneOffset();return function z(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,r*(U(t,a)-a))}(a,r,!0));let I="";return f.forEach(P=>{const N=function B(n){if(Yn[n])return Yn[n];let t;switch(n){case"G":case"GG":case"GGG":t=Ut(gt.Eras,Be.Abbreviated);break;case"GGGG":t=Ut(gt.Eras,Be.Wide);break;case"GGGGG":t=Ut(gt.Eras,Be.Narrow);break;case"y":t=Zt(lt.FullYear,1,0,!1,!0);break;case"yy":t=Zt(lt.FullYear,2,0,!0,!0);break;case"yyy":t=Zt(lt.FullYear,3,0,!1,!0);break;case"yyyy":t=Zt(lt.FullYear,4,0,!1,!0);break;case"Y":t=At(1);break;case"YY":t=At(2,!0);break;case"YYY":t=At(3);break;case"YYYY":t=At(4);break;case"M":case"L":t=Zt(lt.Month,1,1);break;case"MM":case"LL":t=Zt(lt.Month,2,1);break;case"MMM":t=Ut(gt.Months,Be.Abbreviated);break;case"MMMM":t=Ut(gt.Months,Be.Wide);break;case"MMMMM":t=Ut(gt.Months,Be.Narrow);break;case"LLL":t=Ut(gt.Months,Be.Abbreviated,Oe.Standalone);break;case"LLLL":t=Ut(gt.Months,Be.Wide,Oe.Standalone);break;case"LLLLL":t=Ut(gt.Months,Be.Narrow,Oe.Standalone);break;case"w":t=wt(1);break;case"ww":t=wt(2);break;case"W":t=wt(1,!0);break;case"d":t=Zt(lt.Date,1);break;case"dd":t=Zt(lt.Date,2);break;case"c":case"cc":t=Zt(lt.Day,1);break;case"ccc":t=Ut(gt.Days,Be.Abbreviated,Oe.Standalone);break;case"cccc":t=Ut(gt.Days,Be.Wide,Oe.Standalone);break;case"ccccc":t=Ut(gt.Days,Be.Narrow,Oe.Standalone);break;case"cccccc":t=Ut(gt.Days,Be.Short,Oe.Standalone);break;case"E":case"EE":case"EEE":t=Ut(gt.Days,Be.Abbreviated);break;case"EEEE":t=Ut(gt.Days,Be.Wide);break;case"EEEEE":t=Ut(gt.Days,Be.Narrow);break;case"EEEEEE":t=Ut(gt.Days,Be.Short);break;case"a":case"aa":case"aaa":t=Ut(gt.DayPeriods,Be.Abbreviated);break;case"aaaa":t=Ut(gt.DayPeriods,Be.Wide);break;case"aaaaa":t=Ut(gt.DayPeriods,Be.Narrow);break;case"b":case"bb":case"bbb":t=Ut(gt.DayPeriods,Be.Abbreviated,Oe.Standalone,!0);break;case"bbbb":t=Ut(gt.DayPeriods,Be.Wide,Oe.Standalone,!0);break;case"bbbbb":t=Ut(gt.DayPeriods,Be.Narrow,Oe.Standalone,!0);break;case"B":case"BB":case"BBB":t=Ut(gt.DayPeriods,Be.Abbreviated,Oe.Format,!0);break;case"BBBB":t=Ut(gt.DayPeriods,Be.Wide,Oe.Format,!0);break;case"BBBBB":t=Ut(gt.DayPeriods,Be.Narrow,Oe.Format,!0);break;case"h":t=Zt(lt.Hours,1,-12);break;case"hh":t=Zt(lt.Hours,2,-12);break;case"H":t=Zt(lt.Hours,1);break;case"HH":t=Zt(lt.Hours,2);break;case"m":t=Zt(lt.Minutes,1);break;case"mm":t=Zt(lt.Minutes,2);break;case"s":t=Zt(lt.Seconds,1);break;case"ss":t=Zt(lt.Seconds,2);break;case"S":t=Zt(lt.FractionalSeconds,1);break;case"SS":t=Zt(lt.FractionalSeconds,2);break;case"SSS":t=Zt(lt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ci(Ct.Short);break;case"ZZZZZ":t=ci(Ct.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ci(Ct.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ci(Ct.Long);break;default:return null}return Yn[n]=t,t}(P);I+=N?N(a,e,C):"''"===P?"'":P.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),I}function rn(n,t,e){const r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function wn(n,t){const e=function le(n){return(0,c.cg1)(n)[c.wAp.LocaleId]}(n);if(Zn[e]=Zn[e]||{},Zn[e][t])return Zn[e][t];let r="";switch(t){case"shortDate":r=zt(n,it.Short);break;case"mediumDate":r=zt(n,it.Medium);break;case"longDate":r=zt(n,it.Long);break;case"fullDate":r=zt(n,it.Full);break;case"shortTime":r=ct(n,it.Short);break;case"mediumTime":r=ct(n,it.Medium);break;case"longTime":r=ct(n,it.Long);break;case"fullTime":r=ct(n,it.Full);break;case"short":const a=wn(n,"shortTime"),u=wn(n,"shortDate");r=qn(jt(n,it.Short),[a,u]);break;case"medium":const f=wn(n,"mediumTime"),y=wn(n,"mediumDate");r=qn(jt(n,it.Medium),[f,y]);break;case"long":const C=wn(n,"longTime"),I=wn(n,"longDate");r=qn(jt(n,it.Long),[C,I]);break;case"full":const P=wn(n,"fullTime"),N=wn(n,"fullDate");r=qn(jt(n,it.Full),[P,N])}return r&&(Zn[e][t]=r),r}function qn(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),n}function Kn(n,t,e="-",r,a){let u="";(n<0||a&&n<=0)&&(a?n=1-n:(n=-n,u=e));let f=String(n);for(;f.length<t;)f="0"+f;return r&&(f=f.slice(f.length-t)),u+f}function Zt(n,t,e=0,r=!1,a=!1){return function(u,f){let y=function ui(n,t){switch(n){case lt.FullYear:return t.getFullYear();case lt.Month:return t.getMonth();case lt.Date:return t.getDate();case lt.Hours:return t.getHours();case lt.Minutes:return t.getMinutes();case lt.Seconds:return t.getSeconds();case lt.FractionalSeconds:return t.getMilliseconds();case lt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((e>0||y>-e)&&(y+=e),n===lt.Hours)0===y&&-12===e&&(y=12);else if(n===lt.FractionalSeconds)return function zs(n,t){return Kn(n,3).substring(0,t)}(y,t);const C=Ze(f,We.MinusSign);return Kn(y,t,C,r,a)}}function Ut(n,t,e=Oe.Format,r=!1){return function(a,u){return function or(n,t,e,r,a,u){switch(e){case gt.Months:return function Re(n,t,e){const r=(0,c.cg1)(n),u=nn([r[c.wAp.MonthsFormat],r[c.wAp.MonthsStandalone]],t);return nn(u,e)}(t,a,r)[n.getMonth()];case gt.Days:return function Ie(n,t,e){const r=(0,c.cg1)(n),u=nn([r[c.wAp.DaysFormat],r[c.wAp.DaysStandalone]],t);return nn(u,e)}(t,a,r)[n.getDay()];case gt.DayPeriods:const f=n.getHours(),y=n.getMinutes();if(u){const I=function Mr(n){const t=(0,c.cg1)(n);return Gi(t),(t[c.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?yr(r):[yr(r[0]),yr(r[1])])}(t),P=function sr(n,t,e){const r=(0,c.cg1)(n);Gi(r);const u=nn([r[c.wAp.ExtraData][0],r[c.wAp.ExtraData][1]],t)||[];return nn(u,e)||[]}(t,a,r),N=I.findIndex($=>{if(Array.isArray($)){const[K,X]=$,Se=f>=K.hours&&y>=K.minutes,je=f<X.hours||f===X.hours&&y<X.minutes;if(K.hours<X.hours){if(Se&&je)return!0}else if(Se||je)return!0}else if($.hours===f&&$.minutes===y)return!0;return!1});if(-1!==N)return P[N]}return function ge(n,t,e){const r=(0,c.cg1)(n),u=nn([r[c.wAp.DayPeriodsFormat],r[c.wAp.DayPeriodsStandalone]],t);return nn(u,e)}(t,a,r)[f<12?0:1];case gt.Eras:return function xe(n,t){return nn((0,c.cg1)(n)[c.wAp.Eras],t)}(t,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(a,u,n,t,e,r)}}function ci(n){return function(t,e,r){const a=-1*r,u=Ze(e,We.MinusSign),f=a>0?Math.floor(a/60):Math.ceil(a/60);switch(n){case Ct.Short:return(a>=0?"+":"")+Kn(f,2,u)+Kn(Math.abs(a%60),2,u);case Ct.ShortGMT:return"GMT"+(a>=0?"+":"")+Kn(f,1,u);case Ct.Long:return"GMT"+(a>=0?"+":"")+Kn(f,2,u)+":"+Kn(Math.abs(a%60),2,u);case Ct.Extended:return 0===r?"Z":(a>=0?"+":"")+Kn(f,2,u)+":"+Kn(Math.abs(a%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}function pt(n){return rn(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function wt(n,t=!1){return function(e,r){let a;if(t){const u=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,f=e.getDate();a=1+Math.floor((f+u)/7)}else{const u=pt(e),f=function qe(n){const t=rn(n,0,1).getDay();return rn(n,0,1+(t<=4?4:11)-t)}(u.getFullYear()),y=u.getTime()-f.getTime();a=1+Math.round(y/6048e5)}return Kn(a,n,Ze(r,We.MinusSign))}}function At(n,t=!1){return function(e,r){return Kn(pt(e).getFullYear(),n,Ze(r,We.MinusSign),t)}}const Yn={};function U(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function dt(n){return n instanceof Date&&!isNaN(n.valueOf())}const $t=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Po(n,t,e,r,a,u,f=!1){let y="",C=!1;if(isFinite(n)){let I=function Fl(n){let r,a,u,f,y,t=Math.abs(n)+"",e=0;for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(u=t.search(/e/i))>0?(a<0&&(a=u),a+=+t.slice(u+1),t=t.substring(0,u)):a<0&&(a=t.length),u=0;"0"===t.charAt(u);u++);if(u===(y=t.length))r=[0],a=1;else{for(y--;"0"===t.charAt(y);)y--;for(a-=u,r=[],f=0;u<=y;u++,f++)r[f]=Number(t.charAt(u))}return a>22&&(r=r.splice(0,21),e=a-1,a=1),{digits:r,exponent:e,integerLen:a}}(n);f&&(I=function dc(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(I));let P=t.minInt,N=t.minFrac,$=t.maxFrac;if(u){const Dt=u.match($t);if(null===Dt)throw new Error(`${u} is not a valid digit info`);const qt=Dt[1],Ot=Dt[3],Ar=Dt[5];null!=qt&&(P=Oo(qt)),null!=Ot&&(N=Oo(Ot)),null!=Ar?$=Oo(Ar):null!=Ot&&N>$&&($=N)}!function No(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let r=n.digits,a=r.length-n.integerLen;const u=Math.min(Math.max(t,a),e);let f=u+n.integerLen,y=r[f];if(f>0){r.splice(Math.max(n.integerLen,f));for(let N=f;N<r.length;N++)r[N]=0}else{a=Math.max(0,a),n.integerLen=1,r.length=Math.max(1,f=u+1),r[0]=0;for(let N=1;N<f;N++)r[N]=0}if(y>=5)if(f-1<0){for(let N=0;N>f;N--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[f-1]++;for(;a<Math.max(0,u);a++)r.push(0);let C=0!==u;const I=t+n.integerLen,P=r.reduceRight(function(N,$,K,X){return X[K]=($+=N)<10?$:$-10,C&&(0===X[K]&&K>=I?X.pop():C=!1),$>=10?1:0},0);P&&(r.unshift(P),n.integerLen++)}(I,N,$);let K=I.digits,X=I.integerLen;const Se=I.exponent;let je=[];for(C=K.every(Dt=>!Dt);X<P;X++)K.unshift(0);for(;X<0;X++)K.unshift(0);X>0?je=K.splice(X,K.length):(je=K,K=[0]);const tt=[];for(K.length>=t.lgSize&&tt.unshift(K.splice(-t.lgSize,K.length).join(""));K.length>t.gSize;)tt.unshift(K.splice(-t.gSize,K.length).join(""));K.length&&tt.unshift(K.join("")),y=tt.join(Ze(e,r)),je.length&&(y+=Ze(e,a)+je.join("")),Se&&(y+=Ze(e,We.Exponential)+"+"+Se)}else y=Ze(e,We.Infinity);return y=n<0&&!C?t.negPre+y+t.negSuf:t.posPre+y+t.posSuf,y}function fn(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),a=r[0],u=r[1],f=-1!==a.indexOf(".")?a.split("."):[a.substring(0,a.lastIndexOf("0")+1),a.substring(a.lastIndexOf("0")+1)],y=f[0],C=f[1]||"";e.posPre=y.substring(0,y.indexOf("#"));for(let P=0;P<C.length;P++){const N=C.charAt(P);"0"===N?e.minFrac=e.maxFrac=P+1:"#"===N?e.maxFrac=P+1:e.posSuf+=N}const I=y.split(",");if(e.gSize=I[1]?I[1].length:0,e.lgSize=I[2]||I[1]?(I[2]||I[1]).length:0,u){const P=a.length-e.posPre.length-e.posSuf.length,N=u.indexOf("#");e.negPre=u.substring(0,N).replace(/'/g,""),e.negSuf=u.slice(N+P).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function Oo(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function Hn(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[a,u]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(a.trim()===t)return decodeURIComponent(u)}return null}class An{constructor(t,e,r,a){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Pr=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,a){this._viewContainer=e,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((a,u,f)=>{if(null==a.previousIndex)r.createEmbeddedView(this._template,new An(a.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)r.remove(null===u?void 0:u);else if(null!==u){const y=r.get(u);r.move(y,f),pn(y,a)}});for(let a=0,u=r.length;a<u;a++){const y=r.get(a).context;y.index=a,y.count=u,y.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{pn(r.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function pn(n,t){n.context.$implicit=t.item}let cs=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new Mt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ll("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ll("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Mt{constructor(){this.$implicit=null,this.ngIf=null}}function Ll(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}function di(n,t){return new c.vHH(2100,!1)}let jn=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw di();return e.toLowerCase()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=c.Yjl({name:"lowercase",type:n,pure:!0,standalone:!0}),n})(),Or=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw di();return e.toUpperCase()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=c.Yjl({name:"uppercase",type:n,pure:!0,standalone:!0}),n})();const Qr=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Vl=new c.OlP("DATE_PIPE_DEFAULT_OPTIONS");let ur=(()=>{class n{constructor(e,r,a){this.locale=e,this.defaultTimezone=r,this.defaultOptions=a}transform(e,r,a,u){if(null==e||""===e||e!=e)return null;try{return ls(e,r??this.defaultOptions?.dateFormat??"mediumDate",u||this.locale,a??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(f){throw di()}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.soG,16),c.Y36(Qr,24),c.Y36(Vl,24))},n.\u0275pipe=c.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),hi=(()=>{class n{transform(e){return JSON.stringify(e,null,2)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=c.Yjl({name:"json",type:n,pure:!1,standalone:!0}),n})(),pc=(()=>{class n{constructor(e){this._locale=e}transform(e,r,a){if(!Ys(e))return null;a=a||this._locale;try{return function cc(n,t,e){return Po(n,fn(vt(t,V.Decimal),Ze(t,We.MinusSign)),t,We.Group,We.Decimal,e)}(fs(e),a,r)}catch(u){throw di()}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.soG,16))},n.\u0275pipe=c.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})(),gc=(()=>{class n{constructor(e){this._locale=e}transform(e,r,a){if(!Ys(e))return null;a=a||this._locale;try{return function xl(n,t,e){return Po(n,fn(vt(t,V.Percent),Ze(t,We.MinusSign)),t,We.Group,We.Decimal,e,!0).replace(new RegExp("%","g"),Ze(t,We.PercentSign))}(fs(e),a,r)}catch(u){throw di()}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.soG,16))},n.\u0275pipe=c.Yjl({name:"percent",type:n,pure:!0,standalone:!0}),n})();function Ys(n){return!(null==n||""===n||n!=n)}function fs(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}let kr=(()=>{class n{transform(e,r,a){if(null==e)return null;if(!this.supports(e))throw di();return e.slice(r,a)}supports(e){return"string"==typeof e||Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=c.Yjl({name:"slice",type:n,pure:!1,standalone:!0}),n})(),jl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();let Qs=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Aa((0,c.LFG)(ee),window)}),n})();class Aa{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ms(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const u=a.shadowRoot;if(u){const f=u.getElementById(t)||u.querySelector(`[name="${t}"]`);if(f)return f}a=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],a-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Js(this.window.history)||Js(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Js(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Wl{}class Va extends ne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pi extends Va{static makeCurrent(){!function re(n){Y||(Y=n)}(new pi)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function uh(){return Cs=Cs||document.querySelector("base"),Cs?Cs.getAttribute("href"):null}();return null==e?null:function zo(n){Pi=Pi||document.createElement("a"),Pi.setAttribute("href",n);const t=Pi.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Cs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Hn(document.cookie,t)}}let Pi,Cs=null;const br=new c.OlP("TRANSITION_ID"),Ic=[{provide:c.ip1,useFactory:function iu(n,t,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const r=O(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<a.length;u++)r.remove(a[u])})}},deps:[br,ee,c.zs3],multi:!0}];let Sc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ba=new c.OlP("EventManagerPlugins");let bs=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,a){return this._findPluginFor(r).addEventListener(e,r,a)}addGlobalEventListener(e,r,a){return this._findPluginFor(r).addGlobalEventListener(e,r,a)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const a=this._plugins;for(let u=0;u<a.length;u++){const f=a[u];if(f.supports(e))return this._eventNameToPlugin.set(e,f),f}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ba),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class su{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const a=O().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,r)}}let gn=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Qi=(()=>{class n extends gn{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,a){e.forEach(u=>{const f=this._doc.createElement("style");f.textContent=u,a.push(r.appendChild(f))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(so),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(e,a,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(so))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function so(n){O().remove(n)}const Ni={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},oo=/%COMP%/g;function Xi(n,t){return t.flat(100).map(e=>e.replace(oo,n))}function ao(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ds=(()=>{class n{constructor(e,r,a){this.eventManager=e,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new qo(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new Ss(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(e),a}case c.ifc.ShadowDom:return new Ga(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const a=Xi(r.id,r.styles);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(bs),c.LFG(Qi),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class qo{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ni[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Is(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(Is(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,a){if(a){e=a+":"+e;const u=Ni[a];u?t.setAttributeNS(u,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const a=Ni[r];a?t.removeAttributeNS(a,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,a){a&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,r,a&c.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ao(r)):this.eventManager.addEventListener(t,e,ao(r))}}function Is(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ss extends qo{constructor(t,e,r,a){super(t),this.component=r;const u=Xi(a+"-"+r.id,r.styles);e.addStyles(u),this.contentAttr=function Ji(n){return"_ngcontent-%COMP%".replace(oo,n)}(a+"-"+r.id),this.hostAttr=function Zo(n){return"_nghost-%COMP%".replace(oo,n)}(a+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class Ga extends qo{constructor(t,e,r,a){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Xi(a.id,a.styles);for(let f=0;f<u.length;f++){const y=document.createElement("style");y.textContent=u[f],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let za=(()=>{class n extends su{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,a){return e.addEventListener(r,a,!1),()=>this.removeEventListener(e,r,a)}removeEventListener(e,r,a){return e.removeEventListener(r,a)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Wa=["alt","control","meta","shift"],Tc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ts={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Za=(()=>{class n extends su{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,a){const u=n.parseEventName(r),f=n.eventCallback(u.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,u.domEventName,f))}static parseEventName(e){const r=e.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const u=n._normalizeKey(r.pop());let f="",y=r.indexOf("code");if(y>-1&&(r.splice(y,1),f="code."),Wa.forEach(I=>{const P=r.indexOf(I);P>-1&&(r.splice(P,1),f+=I+".")}),f+=u,0!=r.length||0===u.length)return null;const C={};return C.domEventName=a,C.fullKey=f,C}static matchEventFullKeyCode(e,r){let a=Tc[e.key]||e.key,u="";return r.indexOf("code.")>-1&&(a=e.code,u="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Wa.forEach(f=>{f!==a&&(0,Ts[f])(e)&&(u+=f+".")}),u+=a,u===r)}static eventCallback(e,r,a){return u=>{n.matchEventFullKeyCode(u,e)&&a.runGuarded(()=>r(u))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Kf=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function lu(){pi.makeCurrent()},multi:!0},{provide:ee,useFactory:function mi(){return(0,c.RDi)(document),document},deps:[]}]),cu=new c.OlP(""),Ka=[{provide:c.rWj,useClass:class ws{addToWindow(t){c.dqk.getAngularTestability=(r,a=!0)=>{const u=t.findTestabilityInTree(r,a);if(null==u)throw new Error("Could not find testability for element.");return u},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const a=c.dqk.getAllAngularTestabilities();let u=a.length,f=!1;const y=function(C){f=f||C,u--,0==u&&r(f)};a.forEach(function(C){C.whenStable(y)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?O().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],du=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function uu(){return new c.qLn},deps:[]},{provide:Ba,useClass:za,multi:!0,deps:[ee,c.R0b,c.Lbi]},{provide:Ba,useClass:Za,multi:!0,deps:[ee]},{provide:Ds,useClass:Ds,deps:[bs,Qi,c.AFp]},{provide:c.FYo,useExisting:Ds},{provide:gn,useExisting:Qi},{provide:Qi,useClass:Qi,deps:[ee]},{provide:bs,useClass:bs,deps:[Ba,c.R0b]},{provide:Wl,useClass:Sc,deps:[]},[]];let hu=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId},{provide:br,useExisting:c.AFp},Ic]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(cu,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...du,...Ka],imports:[jl,c.hGG]}),n})(),fu=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function Ko(){return new fu((0,c.LFG)(ee))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Gt=k(8996),Jr=k(7669);function Ye(...n){const t=(0,Jr.yG)(n);return(0,Gt.D)(n,t)}var ki=k(7579);class Rn extends ki.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const Fr=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var vi=k(9751);const{isArray:xc}=Array,{getPrototypeOf:Jo,prototype:Xo,keys:yu}=Object;function ea(n){if(1===n.length){const t=n[0];if(xc(t))return{args:t,keys:null};if(function b(n){return n&&"object"==typeof n&&Jo(n)===Xo}(t)){const e=yu(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var D=k(4671),A=k(4004);const{isArray:L}=Array;function J(n){return(0,A.U)(t=>function q(n,t){return L(t)?n(...t):n(t)}(n,t))}function be(n,t){return n.reduce((e,r,a)=>(e[r]=t[a],e),{})}var Ue=k(5403),nt=k(9672);function Xe(...n){const t=(0,Jr.yG)(n),e=(0,Jr.jO)(n),{args:r,keys:a}=ea(n);if(0===r.length)return(0,Gt.D)([],t);const u=new vi.y(function Tt(n,t,e=D.y){return r=>{mt(t,()=>{const{length:a}=n,u=new Array(a);let f=a,y=a;for(let C=0;C<a;C++)mt(t,()=>{const I=(0,Gt.D)(n[C],t);let P=!1;I.subscribe((0,Ue.x)(r,N=>{u[C]=N,P||(P=!0,y--),y||r.next(e(u.slice()))},()=>{--f||r.complete()}))},r)},r)}}(r,t,a?f=>be(a,f):D.y));return e?u.pipe(J(e)):u}function mt(n,t,e){n?(0,nt.f)(e,n,t):t()}var Ln=k(8189);function As(...n){return function xn(){return(0,Ln.J)(1)}()((0,Gt.D)(n,(0,Jr.yG)(n)))}var Ms=k(8421);function Rs(n){return new vi.y(t=>{(0,Ms.Xf)(n()).subscribe(t)})}var Xr=k(9635),ei=k(576);function ti(n,t){const e=(0,ei.m)(n)?n:()=>n,r=a=>a.error(e());return new vi.y(t?a=>t.schedule(r,0,a):r)}var Ps=k(515),Qf=k(727),Xn=k(4482);function Fc(){return(0,Xn.e)((n,t)=>{let e=null;n._refCount++;const r=(0,Ue.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,u=e;e=null,a&&(!u||a===u)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class fh extends vi.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Xn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Qf.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Ue.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Qf.w0.EMPTY)}return t}refCount(){return Fc()(this)}}function zn(n,t){return(0,Xn.e)((e,r)=>{let a=null,u=0,f=!1;const y=()=>f&&!a&&r.complete();e.subscribe((0,Ue.x)(r,C=>{a?.unsubscribe();let I=0;const P=u++;(0,Ms.Xf)(n(C,P)).subscribe(a=(0,Ue.x)(r,N=>r.next(t?t(C,N,P,I++):N),()=>{a=null,y()}))},()=>{f=!0,y()}))})}function nl(n){return n<=0?()=>Ps.E:(0,Xn.e)((t,e)=>{let r=0;t.subscribe((0,Ue.x)(e,a=>{++r<=n&&(e.next(a),n<=r&&e.complete())}))})}function Wn(n,t){return(0,Xn.e)((e,r)=>{let a=0;e.subscribe((0,Ue.x)(r,u=>n.call(t,u,a++)&&r.next(u)))})}var Lr=k(5577);function ph(n){return(0,Xn.e)((t,e)=>{let r=!1;t.subscribe((0,Ue.x)(e,a=>{r=!0,e.next(a)},()=>{r||e.next(n),e.complete()}))})}function Lc(n=pv){return(0,Xn.e)((t,e)=>{let r=!1;t.subscribe((0,Ue.x)(e,a=>{r=!0,e.next(a)},()=>r?e.complete():e.error(n())))})}function pv(){return new Fr}function co(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Wn((a,u)=>n(a,u,r)):D.y,nl(1),e?ph(t):Lc(()=>new Fr))}function ta(n,t){return(0,ei.m)(t)?(0,Lr.z)(n,t,1):(0,Lr.z)(n,1)}var Ir=k(8505);function na(n){return(0,Xn.e)((t,e)=>{let u,r=null,a=!1;r=t.subscribe((0,Ue.x)(e,void 0,void 0,f=>{u=(0,Ms.Xf)(n(f,na(n)(t))),r?(r.unsubscribe(),r=null,u.subscribe(e)):a=!0})),a&&(r.unsubscribe(),r=null,u.subscribe(e))})}function gh(n,t,e,r,a){return(u,f)=>{let y=e,C=t,I=0;u.subscribe((0,Ue.x)(f,P=>{const N=I++;C=y?n(C,P,N):(y=!0,P),r&&f.next(C)},a&&(()=>{y&&f.next(C),f.complete()})))}}function vu(n,t){return(0,Xn.e)(gh(n,t,arguments.length>=2,!0))}function Eu(n){return n<=0?()=>Ps.E:(0,Xn.e)((t,e)=>{let r=[];t.subscribe((0,Ue.x)(e,a=>{r.push(a),n<r.length&&r.shift()},()=>{for(const a of r)e.next(a);e.complete()},void 0,()=>{r=null}))})}function mh(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Wn((a,u)=>n(a,u,r)):D.y,Eu(1),e?ph(t):Lc(()=>new Fr))}function ni(n){return(0,Xn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Rt="primary",Cu=Symbol("RouteTitle");class tm{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ra(n){return new tm(n)}function wu(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const a={};for(let u=0;u<r.length;u++){const f=r[u],y=n[u];if(f.startsWith(":"))a[f.substring(1)]=y;else if(f!==y.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function Ei(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let a;for(let u=0;u<e.length;u++)if(a=e[u],!ep(n[a],t[a]))return!1;return!0}function ep(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((a,u)=>r[u]===a)}return n===t}function Uc(n){return Array.prototype.concat.apply([],n)}function tp(n){return n.length>0?n[n.length-1]:null}function Yt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function xi(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Gt.D)(Promise.resolve(n)):Ye(n)}const rl=!1,_h={exact:function yh(n,t,e){if(!Li(n.segments,t.segments)||!Fi(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!yh(n.children[r],t.children[r],e))return!1;return!0},subset:vh},er={exact:function rp(n,t){return Ei(n,t)},subset:function ip(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>ep(n[e],t[e]))},ignored:()=>!0};function il(n,t,e){return _h[e.paths](n.root,t.root,e.matrixParams)&&er[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function vh(n,t,e){return rm(n,t,t.segments,e)}function rm(n,t,e,r){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!Li(a,e)||t.hasChildren()||!Fi(a,e,r))}if(n.segments.length===e.length){if(!Li(n.segments,e)||!Fi(n.segments,e,r))return!1;for(const a in t.children)if(!n.children[a]||!vh(n.children[a],t.children[a],r))return!1;return!0}{const a=e.slice(0,n.segments.length),u=e.slice(n.segments.length);return!!(Li(n.segments,a)&&Fi(n.segments,a,r)&&n.children[Rt])&&rm(n.children[Rt],t,u,r)}}function Fi(n,t,e){return t.every((r,a)=>er[e](n[a].parameters,r.parameters))}class ia{constructor(t=new xt([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ra(this.queryParams)),this._queryParamMap}toString(){return sm.serialize(this)}}class xt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Yt(e,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vc(this)}}class sa{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ra(this.parameters)),this._parameterMap}toString(){return ol(this)}}function Li(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let bu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new Ns},providedIn:"root"}),n})();class Ns{parse(t){const e=new sp(t);return new ia(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Os(t.root,!0)}`,r=function am(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(a=>`${Du(e)}=${Du(a)}`).join("&"):`${Du(e)}=${Du(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function sl(n){return encodeURI(n)}(t.fragment)}`:""}`}}const sm=new Ns;function Vc(n){return n.segments.map(t=>ol(t)).join("/")}function Os(n,t){if(!n.hasChildren())return Vc(n);if(t){const e=n.children[Rt]?Os(n.children[Rt],!1):"",r=[];return Yt(n.children,(a,u)=>{u!==Rt&&r.push(`${u}:${Os(a,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function Eh(n,t){let e=[];return Yt(n.children,(r,a)=>{a===Rt&&(e=e.concat(t(r,a)))}),Yt(n.children,(r,a)=>{a!==Rt&&(e=e.concat(t(r,a)))}),e}(n,(r,a)=>a===Rt?[Os(n.children[Rt],!1)]:[`${a}:${Os(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Rt]?`${Vc(n)}/${e[0]}`:`${Vc(n)}/(${e.join("//")})`}}function Bc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Du(n){return Bc(n).replace(/%3B/gi,";")}function Iu(n){return Bc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Su(n){return decodeURIComponent(n)}function Ch(n){return Su(n.replace(/\+/g,"%20"))}function ol(n){return`${Iu(n.path)}${function om(n){return Object.keys(n).map(t=>`;${Iu(t)}=${Iu(n[t])}`).join("")}(n.parameters)}`}const wh=/^[^\/()?;=#]+/;function al(n){const t=n.match(wh);return t?t[0]:""}const lm=/^[^=?&#]+/,Tu=/^[^&#]+/;class sp{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Rt]=new xt(t,e)),r}parseSegment(){const t=al(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new c.vHH(4009,rl);return this.capture(t),new sa(Su(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=al(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const a=al(this.remaining);a&&(r=a,this.capture(r))}t[Su(e)]=Su(r)}parseQueryParam(t){const e=function um(n){const t=n.match(lm);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const f=function bh(n){const t=n.match(Tu);return t?t[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const a=Ch(e),u=Ch(r);if(t.hasOwnProperty(a)){let f=t[a];Array.isArray(f)||(f=[f],t[a]=f),f.push(u)}else t[a]=u}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=al(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new c.vHH(4010,rl);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):t&&(u=Rt);const f=this.parseChildren();e[u]=1===Object.keys(f).length?f[Rt]:new xt([],f),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new c.vHH(4011,rl)}}function Au(n){return n.segments.length>0?new xt([],{[Rt]:n}):n}function Mu(n){const t={};for(const r of Object.keys(n.children)){const u=Mu(n.children[r]);(u.segments.length>0||u.hasChildren())&&(t[r]=u)}return function cm(n){if(1===n.numberOfChildren&&n.children[Rt]){const t=n.children[Rt];return new xt(n.segments.concat(t.segments),t.children)}return n}(new xt(n.segments,t))}function ho(n){return n instanceof ia}function ap(n,t,e,r,a){if(0===e.length)return cl(t.root,t.root,t.root,r,a);const u=function Ru(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new $c(!0,0,n);let t=0,e=!1;const r=n.reduce((a,u,f)=>{if("object"==typeof u&&null!=u){if(u.outlets){const y={};return Yt(u.outlets,(C,I)=>{y[I]="string"==typeof C?C.split("/"):C}),[...a,{outlets:y}]}if(u.segmentPath)return[...a,u.segmentPath]}return"string"!=typeof u?[...a,u]:0===f?(u.split("/").forEach((y,C)=>{0==C&&"."===y||(0==C&&""===y?e=!0:".."===y?t++:""!=y&&a.push(y))}),a):[...a,u]},[]);return new $c(e,t,r)}(e);return u.toRoot()?cl(t.root,t.root,new xt([],{}),r,a):function f(C){const I=function Gc(n,t,e,r){if(n.isAbsolute)return new ts(t.root,!0,0);if(-1===r)return new ts(e,e===t.root,0);return function oa(n,t,e){let r=n,a=t,u=e;for(;u>a;){if(u-=a,r=r.parent,!r)throw new c.vHH(4005,!1);a=r.segments.length}return new ts(r,!1,a-u)}(e,r+(jc(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,t,n.snapshot?._urlSegment,C),P=I.processChildren?Ci(I.segmentGroup,I.index,u.commands):tr(I.segmentGroup,I.index,u.commands);return cl(t.root,I.segmentGroup,P,r,a)}(n.snapshot?._lastPathIndex)}function jc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function fo(n){return"object"==typeof n&&null!=n&&n.outlets}function cl(n,t,e,r,a){let f,u={};r&&Yt(r,(C,I)=>{u[I]=Array.isArray(C)?C.map(P=>`${P}`):`${C}`}),f=n===t?e:Dh(n,t,e);const y=Au(Mu(f));return new ia(y,u,a)}function Dh(n,t,e){const r={};return Yt(n.children,(a,u)=>{r[u]=a===t?e:Dh(a,t,e)}),new xt(n.segments,r)}class $c{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&jc(r[0]))throw new c.vHH(4003,!1);const a=r.find(fo);if(a&&a!==tp(r))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ts{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function tr(n,t,e){if(n||(n=new xt([],{})),0===n.segments.length&&n.hasChildren())return Ci(n,t,e);const r=function zc(n,t,e){let r=0,a=t;const u={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=e.length)return u;const f=n.segments[a],y=e[r];if(fo(y))break;const C=`${y}`,I=r<e.length-1?e[r+1]:null;if(a>0&&void 0===C)break;if(C&&I&&"object"==typeof I&&void 0===I.outlets){if(!up(C,I,f))return u;r+=2}else{if(!up(C,{},f))return u;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,t,e),a=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new xt(n.segments.slice(0,r.pathIndex),{});return u.children[Rt]=new xt(n.segments.slice(r.pathIndex),n.children),Ci(u,0,a)}return r.match&&0===a.length?new xt(n.segments,{}):r.match&&!n.hasChildren()?aa(n,t,e):r.match?Ci(n,0,a):aa(n,t,e)}function Ci(n,t,e){if(0===e.length)return new xt(n.segments,{});{const r=function lp(n){return fo(n[0])?n[0].outlets:{[Rt]:n}}(e),a={};return!r[Rt]&&n.children[Rt]&&1===n.numberOfChildren&&0===n.children[Rt].segments.length?Ci(n.children[Rt],t,e):(Yt(r,(u,f)=>{"string"==typeof u&&(u=[u]),null!==u&&(a[f]=tr(n.children[f],t,u))}),Yt(n.children,(u,f)=>{void 0===r[f]&&(a[f]=u)}),new xt(n.segments,a))}}function aa(n,t,e){const r=n.segments.slice(0,t);let a=0;for(;a<e.length;){const u=e[a];if(fo(u)){const C=Sh(u.outlets);return new xt(r,C)}if(0===a&&jc(e[0])){r.push(new sa(n.segments[t].path,Pu(e[0]))),a++;continue}const f=fo(u)?u.outlets[Rt]:`${u}`,y=a<e.length-1?e[a+1]:null;f&&y&&jc(y)?(r.push(new sa(f,Pu(y))),a+=2):(r.push(new sa(f,{})),a++)}return new xt(r,{})}function Sh(n){const t={};return Yt(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=aa(new xt([],{}),0,e))}),t}function Pu(n){const t={};return Yt(n,(e,r)=>t[r]=`${e}`),t}function up(n,t,e){return n==e.path&&Ei(t,e.parameters)}const dl="imperative";class ns{constructor(t,e){this.id=t,this.url=e}}class Ui extends ns{constructor(t,e,r="imperative",a=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ks extends ns{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class la extends ns{constructor(t,e,r,a){super(t,e),this.reason=r,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wc extends ns{constructor(t,e,r,a){super(t,e),this.reason=r,this.code=a,this.type=16}}class po extends ns{constructor(t,e,r,a){super(t,e),this.error=r,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cp extends ns{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ur extends ns{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dp extends ns{constructor(t,e,r,a,u){super(t,e),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Th extends ns{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ah extends ns{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xs{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hl{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nu{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zc{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hp{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qc{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mh{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let dm=(()=>{class n{createUrlTree(e,r,a,u,f,y){return ap(e||r.root,a,u,f,y)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),h=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){return dm.\u0275fac(t)},providedIn:"root"}),n})();class g{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=v(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=v(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=T(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return T(t,this._root).map(e=>e.value)}}function v(n,t){if(n===t.value)return t;for(const e of t.children){const r=v(n,e);if(r)return r}return null}function T(n,t){if(n===t.value)return[t];for(const e of t.children){const r=T(n,e);if(r.length)return r.unshift(t),r}return[]}class R{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function W(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class oe extends g{constructor(t,e){super(t),this.snapshot=e,Kc(this,t)}toString(){return this.snapshot.toString()}}function Fe(n,t){const e=function Ke(n,t){const f=new Vr([],{},{},"",{},Rt,t,null,n.root,-1,{});return new Ou("",new R(f,[]))}(n,t),r=new Rn([new sa("",{})]),a=new Rn({}),u=new Rn({}),f=new Rn({}),y=new Rn(""),C=new ut(r,a,f,y,u,Rt,t,e.root);return C.snapshot=e.root,new oe(new R(C,[]),e)}class ut{constructor(t,e,r,a,u,f,y,C){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=u,this.outlet=f,this.component=y,this.title=this.data?.pipe((0,A.U)(I=>I[Cu]))??Ye(void 0),this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,A.U)(t=>ra(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,A.U)(t=>ra(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function at(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const a=e[r],u=e[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(u.component)break;r--}}return function Un(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Vr{get title(){return this.data?.[Cu]}constructor(t,e,r,a,u,f,y,C,I,P,N){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=u,this.outlet=f,this.component=y,this.routeConfig=C,this._urlSegment=I,this._lastPathIndex=P,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ra(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ra(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ou extends g{constructor(t,e){super(e),this.url=t,Kc(this,e)}toString(){return fl(this._root)}}function Kc(n,t){t.value._routerState=n,t.children.forEach(e=>Kc(n,e))}function fl(n){const t=n.children.length>0?` { ${n.children.map(fl).join(", ")} } `:"";return`${n.value}${t}`}function wi(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ei(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Ei(t.params,e.params)||n.params.next(e.params),function nm(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ei(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Ei(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function go(n,t){const e=Ei(n.params,t.params)&&function im(n,t){return Li(n,t)&&n.every((e,r)=>Ei(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||go(n.parent,t.parent))}function ua(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const a=function Rh(n,t,e){return t.children.map(r=>{for(const a of e.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return ua(n,r,a);return ua(n,r)})}(n,t,e);return new R(r,a)}{if(n.shouldAttach(t.value)){const u=n.retrieve(t.value);if(null!==u){const f=u.route;return f.value._futureSnapshot=t.value,f.children=t.children.map(y=>ua(n,y)),f}}const r=function pp(n){return new ut(new Rn(n.url),new Rn(n.params),new Rn(n.queryParams),new Rn(n.fragment),new Rn(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(u=>ua(n,u));return new R(r,a)}}const Ph="ngNavigationCancelingError";function hm(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=ho(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=pl(!1,0,t);return a.url=e,a.navigationBehaviorOptions=r,a}function pl(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[Ph]=!0,r.cancellationCode=t,e&&(r.url=e),r}function Qc(n){return l0(n)&&ho(n.url)}function l0(n){return n&&n[Ph]}class QI{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Jc,this.attachRef=null}}let Jc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const a=this.getOrCreateContext(e);a.outlet=r,this.contexts.set(e,a)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new QI,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gp=!1;let mp=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Rt,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Jc),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb)}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:a}=e.name;if(r)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,gp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,gp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,gp);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new c.vHH(4013,gp);this._activatedRoute=e;const a=this.location,f=e.snapshot.component,y=this.parentContexts.getOrCreateContext(this.name).children,C=new u0(e,y,a.injector);if(r&&function c0(n){return!!n.resolveComponentFactory}(r)){const I=r.resolveComponentFactory(f);this.activated=a.createComponent(I,a.length,C)}else this.activated=a.createComponent(f,{index:a.length,injector:C,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class u0{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===ut?this.route:t===Jc?this.childContexts:this.parent.get(t,e)}}let _p=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(e,r){1&e&&c._UZ(0,"router-outlet")},dependencies:[mp],encapsulation:2}),n})();function Nh(n,t){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function pm(n){const t=n.children&&n.children.map(pm),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Rt&&(e.component=_p),e}function rs(n){return n.outlet||Rt}function vv(n,t){const e=n.filter(r=>rs(r)===t);return e.push(...n.filter(r=>rs(r)!==t)),e}function Oh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class eS{constructor(t,e,r,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=a}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),wi(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const a=W(e);t.children.forEach(u=>{const f=u.value.outlet;this.deactivateRoutes(u,a[f],r),delete a[f]}),Yt(a,(u,f)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(t,e,r){const a=t.value,u=e?e.value:null;if(a===u)if(a.component){const f=r.getContext(a.outlet);f&&this.deactivateChildRoutes(t,e,f.children)}else this.deactivateChildRoutes(t,e,r);else u&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,u=W(t);for(const f of Object.keys(u))this.deactivateRouteAndItsChildren(u[f],a);if(r&&r.outlet){const f=r.outlet.detach(),y=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:f,route:t,contexts:y})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,u=W(t);for(const f of Object.keys(u))this.deactivateRouteAndItsChildren(u[f],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const a=W(e);t.children.forEach(u=>{this.activateRoutes(u,a[u.value.outlet],r),this.forwardEvent(new qc(u.value.snapshot))}),t.children.length&&this.forwardEvent(new Zc(t.value.snapshot))}activateRoutes(t,e,r){const a=t.value,u=e?e.value:null;if(wi(a),a===u)if(a.component){const f=r.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,f.children)}else this.activateChildRoutes(t,e,r);else if(a.component){const f=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(y.contexts),f.attachRef=y.componentRef,f.route=y.route.value,f.outlet&&f.outlet.attach(y.componentRef,y.route.value),wi(y.route.value),this.activateChildRoutes(t,null,f.children)}else{const y=Oh(a.snapshot),C=y?.get(c._Vd)??null;f.attachRef=null,f.route=a,f.resolver=C,f.injector=y,f.outlet&&f.outlet.activateWith(a,f.injector),this.activateChildRoutes(t,null,f.children)}}else this.activateChildRoutes(t,null,r)}}class h0{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class gl{constructor(t,e){this.component=t,this.route=e}}function gm(n,t,e){const r=n._root;return Xc(r,t?t._root:null,e,[r.value])}function ku(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||(0,c.Z0I)(n)?t.get(n):n:r}function Xc(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const u=W(t);return n.children.forEach(f=>{(function f0(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,f=t?t.value:null,y=e?e.getContext(n.value.outlet):null;if(f&&u.routeConfig===f.routeConfig){const C=function p0(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Li(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Li(n.url,t.url)||!Ei(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!go(n,t)||!Ei(n.queryParams,t.queryParams);default:return!go(n,t)}}(f,u,u.routeConfig.runGuardsAndResolvers);C?a.canActivateChecks.push(new h0(r)):(u.data=f.data,u._resolvedData=f._resolvedData),Xc(n,t,u.component?y?y.children:null:e,r,a),C&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new gl(y.outlet.component,f))}else f&&ed(t,y,a),a.canActivateChecks.push(new h0(r)),Xc(n,null,u.component?y?y.children:null:e,r,a)})(f,u[f.value.outlet],e,r.concat([f.value]),a),delete u[f.value.outlet]}),Yt(u,(f,y)=>ed(f,e.getContext(y),a)),a}function ed(n,t,e){const r=W(n),a=n.value;Yt(r,(u,f)=>{ed(u,a.component?t?t.children.getContext(f):null:t,e)}),e.canDeactivateChecks.push(new gl(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function td(n){return"function"==typeof n}function vm(n){return n instanceof Fr||"EmptyError"===n?.name}const nd=Symbol("INITIAL_VALUE");function ca(){return zn(n=>Xe(n.map(t=>t.pipe(nl(1),function em(...n){const t=(0,Jr.yG)(n);return(0,Xn.e)((e,r)=>{(t?As(n,e,t):As(n,e)).subscribe(r)})}(nd)))).pipe((0,A.U)(t=>{for(const e of t)if(!0!==e){if(e===nd)return nd;if(!1===e||e instanceof ia)return e}return!0}),Wn(t=>t!==nd),nl(1)))}function Lu(n){return(0,Xr.z)((0,Ir.b)(t=>{if(ho(t))throw hm(0,t)}),(0,A.U)(t=>!0===t))}const wm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Iv(n,t,e,r,a){const u=kh(n,t,e);return u.matched?function E0(n,t,e,r){const a=t.canMatch;return a&&0!==a.length?Ye(a.map(f=>{const y=ku(f,n);return xi(function wv(n){return n&&td(n.canMatch)}(y)?y.canMatch(t,e):n.runInContext(()=>y(t,e)))})).pipe(ca(),Lu()):Ye(!0)}(r=Nh(t,r),t,e).pipe((0,A.U)(f=>!0===f?u:{...wm})):Ye(u)}function kh(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...wm}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||wu)(e,n,t);if(!a)return{...wm};const u={};Yt(a.posParams,(y,C)=>{u[C]=y.path});const f=a.consumed.length>0?{...u,...a.consumed[a.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:f,positionalParamSegments:a.posParams??{}}}function vp(n,t,e,r){if(e.length>0&&function Tv(n,t,e){return e.some(r=>Ep(n,t,r)&&rs(r)!==Rt)}(n,e,r)){const u=new xt(t,function C0(n,t,e,r){const a={};a[Rt]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const u of e)if(""===u.path&&rs(u)!==Rt){const f=new xt([],{});f._sourceSegment=n,f._segmentIndexShift=t.length,a[rs(u)]=f}return a}(n,t,r,new xt(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function nS(n,t,e){return e.some(r=>Ep(n,t,r))}(n,e,r)){const u=new xt(n.segments,function Sv(n,t,e,r,a){const u={};for(const f of r)if(Ep(n,e,f)&&!a[rs(f)]){const y=new xt([],{});y._sourceSegment=n,y._segmentIndexShift=t.length,u[rs(f)]=y}return{...a,...u}}(n,t,e,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const a=new xt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}function Ep(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function rd(n,t,e,r){return!!(rs(n)===r||r!==Rt&&Ep(t,e,n))&&("**"===n.path||kh(t,n,e).matched)}function Av(n,t,e){return 0===t.length&&!n.children[e]}const da=!1;class ml{constructor(t){this.segmentGroup=t||null}}class Mv{constructor(t){this.urlTree=t}}function id(n){return ti(new ml(n))}function Rv(n){return ti(new Mv(n))}class Nv{constructor(t,e,r,a,u){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=a,this.config=u,this.allowRedirects=!0}apply(){const t=vp(this.urlTree.root,[],[],this.config).segmentGroup,e=new xt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Rt).pipe((0,A.U)(u=>this.createUrlTree(Mu(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(na(u=>{if(u instanceof Mv)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof ml?this.noMatchError(u):u}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Rt).pipe((0,A.U)(a=>this.createUrlTree(Mu(a),t.queryParams,t.fragment))).pipe(na(a=>{throw a instanceof ml?this.noMatchError(a):a}))}noMatchError(t){return new c.vHH(4002,da)}createUrlTree(t,e,r){const a=Au(t);return new ia(a,e,r)}expandSegmentGroup(t,e,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,A.U)(u=>new xt([],u))):this.expandSegment(t,r,e,r.segments,a,!0)}expandChildren(t,e,r){const a=[];for(const u of Object.keys(r.children))"primary"===u?a.unshift(u):a.push(u);return(0,Gt.D)(a).pipe(ta(u=>{const f=r.children[u],y=vv(e,u);return this.expandSegmentGroup(t,y,f,u).pipe((0,A.U)(C=>({segment:C,outlet:u})))}),vu((u,f)=>(u[f.outlet]=f.segment,u),{}),mh())}expandSegment(t,e,r,a,u,f){return(0,Gt.D)(r).pipe(ta(y=>this.expandSegmentAgainstRoute(t,e,r,y,a,u,f).pipe(na(I=>{if(I instanceof ml)return Ye(null);throw I}))),co(y=>!!y),na((y,C)=>{if(vm(y))return Av(e,a,u)?Ye(new xt([],{})):id(e);throw y}))}expandSegmentAgainstRoute(t,e,r,a,u,f,y){return rd(a,e,u,f)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,u,f):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,a,u,f):id(e):id(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,a,u,f){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,a,f):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,u,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,a){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Rv(u):this.lineralizeSegments(r,u).pipe((0,Lr.z)(f=>{const y=new xt(f,{});return this.expandSegment(t,y,e,f,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,u,f){const{matched:y,consumedSegments:C,remainingSegments:I,positionalParamSegments:P}=kh(e,a,u);if(!y)return id(e);const N=this.applyRedirectCommands(C,a.redirectTo,P);return a.redirectTo.startsWith("/")?Rv(N):this.lineralizeSegments(a,N).pipe((0,Lr.z)($=>this.expandSegment(t,e,r,$.concat(I),f,!1)))}matchSegmentAgainstRoute(t,e,r,a,u){return"**"===r.path?(t=Nh(r,t),r.loadChildren?(r._loadedRoutes?Ye({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe((0,A.U)(y=>(r._loadedRoutes=y.routes,r._loadedInjector=y.injector,new xt(a,{})))):Ye(new xt(a,{}))):Iv(e,r,a,t).pipe(zn(({matched:f,consumedSegments:y,remainingSegments:C})=>f?this.getChildConfig(t=r._injector??t,r,a).pipe((0,Lr.z)(P=>{const N=P.injector??t,$=P.routes,{segmentGroup:K,slicedSegments:X}=vp(e,y,C,$),Se=new xt(K.segments,K.children);if(0===X.length&&Se.hasChildren())return this.expandChildren(N,$,Se).pipe((0,A.U)(qt=>new xt(y,qt)));if(0===$.length&&0===X.length)return Ye(new xt(y,{}));const je=rs(r)===u;return this.expandSegment(N,Se,$,X,je?Rt:u,!0).pipe((0,A.U)(Dt=>new xt(y.concat(Dt.segments),Dt.children)))})):id(e)))}getChildConfig(t,e,r){return e.children?Ye({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Ye({routes:e._loadedRoutes,injector:e._loadedInjector}):function Dv(n,t,e,r){const a=t.canLoad;return void 0===a||0===a.length?Ye(!0):Ye(a.map(f=>{const y=ku(f,n);return xi(function tS(n){return n&&td(n.canLoad)}(y)?y.canLoad(t,e):n.runInContext(()=>y(t,e)))})).pipe(ca(),Lu())}(t,e,r).pipe((0,Lr.z)(a=>a?this.configLoader.loadChildren(t,e).pipe((0,Ir.b)(u=>{e._loadedRoutes=u.routes,e._loadedInjector=u.injector})):function b0(n){return ti(pl(da,3))}())):Ye({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],a=e.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return Ye(r);if(a.numberOfChildren>1||!a.children[Rt])return ti(new c.vHH(4e3,da));a=a.children[Rt]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,a){const u=this.createSegmentGroup(t,e.root,r,a);return new ia(u,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Yt(t,(a,u)=>{if("string"==typeof a&&a.startsWith(":")){const y=a.substring(1);r[u]=e[y]}else r[u]=a}),r}createSegmentGroup(t,e,r,a){const u=this.createSegments(t,e.segments,r,a);let f={};return Yt(e.children,(y,C)=>{f[C]=this.createSegmentGroup(t,y,r,a)}),new xt(u,f)}createSegments(t,e,r,a){return e.map(u=>u.path.startsWith(":")?this.findPosParam(t,u,a):this.findOrReturn(u,r))}findPosParam(t,e,r){const a=r[e.path.substring(1)];if(!a)throw new c.vHH(4001,da);return a}findOrReturn(t,e){let r=0;for(const a of e){if(a.path===t.path)return e.splice(r),a;r++}return t}}class D0{}class I0{constructor(t,e,r,a,u,f,y){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=a,this.url=u,this.paramsInheritanceStrategy=f,this.urlSerializer=y}recognize(){const t=vp(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Rt).pipe((0,A.U)(e=>{if(null===e)return null;const r=new Vr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new R(r,e),u=new Ou(this.url,a);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(t){const e=t.value,r=at(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,r,a){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,a)}processChildren(t,e,r){return(0,Gt.D)(Object.keys(r.children)).pipe(ta(a=>{const u=r.children[a],f=vv(e,a);return this.processSegmentGroup(t,f,u,a)}),vu((a,u)=>a&&u?(a.push(...u),a):null),function Jf(n,t=!1){return(0,Xn.e)((e,r)=>{let a=0;e.subscribe((0,Ue.x)(r,u=>{const f=n(u,a++);(f||t)&&r.next(u),!f&&r.complete()}))})}(a=>null!==a),ph(null),mh(),(0,A.U)(a=>{if(null===a)return null;const u=Ov(a);return function S0(n){n.sort((t,e)=>t.value.outlet===Rt?-1:e.value.outlet===Rt?1:t.value.outlet.localeCompare(e.value.outlet))}(u),u}))}processSegment(t,e,r,a,u){return(0,Gt.D)(e).pipe(ta(f=>this.processSegmentAgainstRoute(f._injector??t,f,r,a,u)),co(f=>!!f),na(f=>{if(vm(f))return Av(r,a,u)?Ye([]):Ye(null);throw f}))}processSegmentAgainstRoute(t,e,r,a,u){if(e.redirectTo||!rd(e,r,a,u))return Ye(null);let f;if("**"===e.path){const y=a.length>0?tp(a).parameters:{},C=Uu(r)+a.length;f=Ye({snapshot:new Vr(a,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xv(e),rs(e),e.component??e._loadedComponent??null,e,kv(r),C,Fv(e)),consumedSegments:[],remainingSegments:[]})}else f=Iv(r,e,a,t).pipe((0,A.U)(({matched:y,consumedSegments:C,remainingSegments:I,parameters:P})=>{if(!y)return null;const N=Uu(r)+C.length;return{snapshot:new Vr(C,P,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xv(e),rs(e),e.component??e._loadedComponent??null,e,kv(r),N,Fv(e)),consumedSegments:C,remainingSegments:I}}));return f.pipe(zn(y=>{if(null===y)return Ye(null);const{snapshot:C,consumedSegments:I,remainingSegments:P}=y;t=e._injector??t;const N=e._loadedInjector??t,$=function T0(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:K,slicedSegments:X}=vp(r,I,P,$.filter(je=>void 0===je.redirectTo));if(0===X.length&&K.hasChildren())return this.processChildren(N,$,K).pipe((0,A.U)(je=>null===je?null:[new R(C,je)]));if(0===$.length&&0===X.length)return Ye([new R(C,[])]);const Se=rs(e)===u;return this.processSegment(N,$,K,X,Se?Rt:u).pipe((0,A.U)(je=>null===je?null:[new R(C,je)]))}))}}function A0(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Ov(n){const t=[],e=new Set;for(const r of n){if(!A0(r)){t.push(r);continue}const a=t.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==a?(a.children.push(...r.children),e.add(a)):t.push(r)}for(const r of e){const a=Ov(r.children);t.push(new R(r.value,a))}return t.filter(r=>!e.has(r))}function kv(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Uu(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function xv(n){return n.data||{}}function Fv(n){return n.resolve||{}}function Bv(n){return"string"==typeof n.title||null===n.title}function wp(n){return zn(t=>{const e=n(t);return e?(0,Gt.D)(e).pipe((0,A.U)(()=>t)):Ye(t)})}const Br=new c.OlP("ROUTES");let Im=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ye(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=xi(e.loadComponent()).pipe((0,A.U)($v),(0,Ir.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=u}),ni(()=>{this.componentLoaders.delete(e)})),a=new fh(r,()=>new ki.x).pipe(Fc());return this.componentLoaders.set(e,a),a}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ye({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,A.U)(y=>{this.onLoadEndListener&&this.onLoadEndListener(r);let C,I,P=!1;Array.isArray(y)?I=y:(C=y.create(e).injector,I=Uc(C.get(Br,[],c.XFs.Self|c.XFs.Optional)));return{routes:I.map(pm),injector:C}}),ni(()=>{this.childrenLoaders.delete(r)})),f=new fh(u,()=>new ki.x).pipe(Fc());return this.childrenLoaders.set(r,f),f}loadModuleFactoryOrRoutes(e){return xi(e()).pipe((0,A.U)($v),(0,Lr.z)(a=>a instanceof c.YKP||Array.isArray(a)?Ye(a):(0,Gt.D)(this.compiler.compileModuleAsync(a))))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $v(n){return function jv(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Dp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ki.x,this.configLoader=(0,c.f3M)(Im),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(bu),this.rootContexts=(0,c.f3M)(Jc),this.navigationId=0,this.afterPreactivation=()=>Ye(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=a=>this.events.next(new hl(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new xs(a))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e){return this.transitions=new Rn({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:dl,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Wn(r=>0!==r.id),(0,A.U)(r=>({...r,extractedUrl:e.urlHandlingStrategy.extract(r.rawUrl)})),zn(r=>{let a=!1,u=!1;return Ye(r).pipe((0,Ir.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),zn(f=>{const y=e.browserUrlTree.toString(),C=!e.navigated||f.extractedUrl.toString()!==y||y!==e.currentUrlTree.toString();if(!C&&"reload"!==(f.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const P="";return this.events.next(new Wc(f.id,e.serializeUrl(r.rawUrl),P,0)),e.rawUrlTree=f.rawUrl,f.resolve(null),Ps.E}if(e.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Gv(f.source)&&(e.browserUrlTree=f.extractedUrl),Ye(f).pipe(zn(P=>{const N=this.transitions?.getValue();return this.events.next(new Ui(P.id,this.urlSerializer.serialize(P.extractedUrl),P.source,P.restoredState)),N!==this.transitions?.getValue()?Ps.E:Promise.resolve(P)}),function bm(n,t,e,r){return zn(a=>function Pv(n,t,e,r,a){return new Nv(n,t,e,r,a).apply()}(n,t,e,a.extractedUrl,r).pipe((0,A.U)(u=>({...a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,Ir.b)(P=>{this.currentNavigation={...this.currentNavigation,finalUrl:P.urlAfterRedirects},r.urlAfterRedirects=P.urlAfterRedirects}),function rS(n,t,e,r,a){return(0,Lr.z)(u=>function xh(n,t,e,r,a,u,f="emptyOnly"){return new I0(n,t,e,r,a,f,u).recognize().pipe(zn(y=>null===y?function Dm(n){return new vi.y(t=>t.error(n))}(new D0):Ye(y)))}(n,t,e,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,a).pipe((0,A.U)(f=>({...u,targetSnapshot:f}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Ir.b)(P=>{if(r.targetSnapshot=P.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!P.extras.skipLocationChange){const $=e.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl);e.setBrowserUrl($,P)}e.browserUrlTree=P.urlAfterRedirects}const N=new cp(P.id,this.urlSerializer.serialize(P.extractedUrl),this.urlSerializer.serialize(P.urlAfterRedirects),P.targetSnapshot);this.events.next(N)}));if(C&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:P,extractedUrl:N,source:$,restoredState:K,extras:X}=f,Se=new Ui(P,this.urlSerializer.serialize(N),$,K);this.events.next(Se);const je=Fe(N,this.rootComponentType).snapshot;return Ye(r={...f,targetSnapshot:je,urlAfterRedirects:N,extras:{...X,skipLocationChange:!1,replaceUrl:!1}})}{const P="";return this.events.next(new Wc(f.id,e.serializeUrl(r.extractedUrl),P,1)),e.rawUrlTree=f.rawUrl,f.resolve(null),Ps.E}}),(0,Ir.b)(f=>{const y=new Ur(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}),(0,A.U)(f=>r={...f,guards:gm(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function _0(n,t){return(0,Lr.z)(e=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:u,canDeactivateChecks:f}}=e;return 0===f.length&&0===u.length?Ye({...e,guardsResult:!0}):function Em(n,t,e,r){return(0,Gt.D)(n).pipe((0,Lr.z)(a=>function v0(n,t,e,r,a){const u=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return u&&0!==u.length?Ye(u.map(y=>{const C=Oh(t)??a,I=ku(y,C);return xi(function ym(n){return n&&td(n.canDeactivate)}(I)?I.canDeactivate(n,t,e,r):C.runInContext(()=>I(n,t,e,r))).pipe(co())})).pipe(ca()):Ye(!0)}(a.component,a.route,e,t,r)),co(a=>!0!==a,!0))}(f,r,a,n).pipe((0,Lr.z)(y=>y&&function mm(n){return"boolean"==typeof n}(y)?function yp(n,t,e,r){return(0,Gt.D)(t).pipe(ta(a=>As(function bv(n,t){return null!==n&&t&&t(new Nu(n)),Ye(!0)}(a.route.parent,r),function Fu(n,t){return null!==n&&t&&t(new hp(n)),Ye(!0)}(a.route,r),function y0(n,t,e){const r=t[t.length-1],u=t.slice(0,t.length-1).reverse().map(f=>function Cv(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(f)).filter(f=>null!==f).map(f=>Rs(()=>Ye(f.guards.map(C=>{const I=Oh(f.node)??e,P=ku(C,I);return xi(function g0(n){return n&&td(n.canActivateChild)}(P)?P.canActivateChild(r,n):I.runInContext(()=>P(r,n))).pipe(co())})).pipe(ca())));return Ye(u).pipe(ca())}(n,a.path,e),function Cm(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Ye(!0);const a=r.map(u=>Rs(()=>{const f=Oh(t)??e,y=ku(u,f);return xi(function _m(n){return n&&td(n.canActivate)}(y)?y.canActivate(t,n):f.runInContext(()=>y(t,n))).pipe(co())}));return Ye(a).pipe(ca())}(n,a.route,e))),co(a=>!0!==a,!0))}(r,u,n,t):Ye(y)),(0,A.U)(y=>({...e,guardsResult:y})))})}(this.environmentInjector,f=>this.events.next(f)),(0,Ir.b)(f=>{if(r.guardsResult=f.guardsResult,ho(f.guardsResult))throw hm(0,f.guardsResult);const y=new dp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(y)}),Wn(f=>!!f.guardsResult||(e.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),wp(f=>{if(f.guards.canActivateChecks.length)return Ye(f).pipe((0,Ir.b)(y=>{const C=new Th(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(C)}),zn(y=>{let C=!1;return Ye(y).pipe(function iS(n,t){return(0,Lr.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=e;if(!a.length)return Ye(e);let u=0;return(0,Gt.D)(a).pipe(ta(f=>function Lv(n,t,e,r){const a=n.routeConfig,u=n._resolve;return void 0!==a?.title&&!Bv(a)&&(u[Cu]=a.title),function sS(n,t,e,r){const a=function Uv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===a.length)return Ye({});const u={};return(0,Gt.D)(a).pipe((0,Lr.z)(f=>function Vv(n,t,e,r){const a=Oh(t)??r,u=ku(n,a);return xi(u.resolve?u.resolve(t,e):a.runInContext(()=>u(t,e)))}(n[f],t,e,r).pipe(co(),(0,Ir.b)(y=>{u[f]=y}))),Eu(1),function Xf(n){return(0,A.U)(()=>n)}(u),na(f=>vm(f)?Ps.E:ti(f)))}(u,n,t,r).pipe((0,A.U)(f=>(n._resolvedData=f,n.data=at(n,e).resolve,a&&Bv(a)&&(n.data[Cu]=a.title),null)))}(f.route,r,n,t)),(0,Ir.b)(()=>u++),Eu(1),(0,Lr.z)(f=>u===a.length?Ye(e):Ps.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Ir.b)({next:()=>C=!0,complete:()=>{C||(e.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,Ir.b)(y=>{const C=new Ah(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(C)}))}),wp(f=>{const y=C=>{const I=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(C.routeConfig).pipe((0,Ir.b)(P=>{C.component=P}),(0,A.U)(()=>{})));for(const P of C.children)I.push(...y(P));return I};return Xe(y(f.targetSnapshot.root)).pipe(ph(),nl(1))}),wp(()=>this.afterPreactivation()),(0,A.U)(f=>{const y=function Yc(n,t,e){const r=ua(n,t._root,e?e._root:void 0);return new oe(r,t)}(e.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return r={...f,targetRouterState:y}}),(0,Ir.b)(f=>{e.currentUrlTree=f.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),e.routerState=f.targetRouterState,"deferred"===e.urlUpdateStrategy&&(f.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,f),e.browserUrlTree=f.urlAfterRedirects)}),((n,t,e)=>(0,A.U)(r=>(new eS(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,f=>this.events.next(f)),(0,Ir.b)({next:f=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new ks(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{a=!0}}),ni(()=>{a||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),na(f=>{if(u=!0,l0(f)){Qc(f)||(e.navigated=!0,e.restoreHistory(r,!0));const y=new la(r.id,this.urlSerializer.serialize(r.extractedUrl),f.message,f.cancellationCode);if(this.events.next(y),Qc(f)){const C=e.urlHandlingStrategy.merge(f.url,e.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||Gv(r.source)};e.scheduleNavigation(C,dl,null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{e.restoreHistory(r,!0);const y=new po(r.id,this.urlSerializer.serialize(r.extractedUrl),f,r.targetSnapshot??void 0);this.events.next(y);try{r.resolve(e.errorHandler(f))}catch(C){r.reject(C)}}return Ps.E}))}))}cancelNavigationTransition(e,r,a){const u=new la(e.id,this.urlSerializer.serialize(e.extractedUrl),r,a);this.events.next(u),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gv(n){return n!==dl}let Sm=(()=>{class n{buildTitle(e){let r,a=e.root;for(;void 0!==a;)r=this.getResolvedTitleForRoute(a)??r,a=a.children.find(u=>u.outlet===Rt);return r}getResolvedTitleForRoute(e){return e.data[Cu]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(P0)},providedIn:"root"}),n})(),P0=(()=>{class n extends Sm{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(fu))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),N0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Pt)},providedIn:"root"}),n})();class O0{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Pt=(()=>{class n extends O0{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=c.n5z(n)))(r||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fh=new c.OlP("",{providedIn:"root",factory:()=>({})});let Wv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(k0)},providedIn:"root"}),n})(),k0=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qv(n){throw n}function x0(n,t,e){return t.parse("/")}const Kv={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},F0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(Fh,{optional:!0})||{},this.errorHandler=this.options.errorHandler||qv,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||x0,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(Wv),this.routeReuseStrategy=(0,c.f3M)(N0),this.urlCreationStrategy=(0,c.f3M)(h),this.titleStrategy=(0,c.f3M)(Sm),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Uc((0,c.f3M)(Br,{optional:!0})??[]),this.navigationTransitions=(0,c.f3M)(Dp),this.urlSerializer=(0,c.f3M)(bu),this.location=(0,c.f3M)(Pe),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ia,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Fe(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),dl,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,a){const u={replaceUrl:!0},f=a?.navigationId?a:null;if(a){const C={...a};delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(u.state=C)}const y=this.parseUrl(e);this.scheduleNavigation(y,r,f,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(pm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:a,queryParams:u,fragment:f,queryParamsHandling:y,preserveFragment:C}=r,I=C?this.currentUrlTree.fragment:f;let P=null;switch(y){case"merge":P={...this.currentUrlTree.queryParams,...u};break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=u||null}return null!==P&&(P=this.removeEmptyProps(P)),this.urlCreationStrategy.createUrlTree(a,this.routerState,this.currentUrlTree,e,P,I??null)}navigateByUrl(e,r={skipLocationChange:!1}){const a=ho(e)?e:this.parseUrl(e),u=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(u,dl,null,r)}navigate(e,r={skipLocationChange:!1}){return function oS(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new c.vHH(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return r}isActive(e,r){let a;if(a=!0===r?{...Kv}:!1===r?{...F0}:r,ho(e))return il(this.currentUrlTree,e,a);const u=this.parseUrl(e);return il(this.currentUrlTree,u,a)}removeEmptyProps(e){return Object.keys(e).reduce((r,a)=>{const u=e[a];return null!=u&&(r[a]=u),r},{})}scheduleNavigation(e,r,a,u,f){if(this.disposed)return Promise.resolve(!1);let y,C,I,P;return f?(y=f.resolve,C=f.reject,I=f.promise):I=new Promise((N,$)=>{y=N,C=$}),P="computed"===this.canceledNavigationResolution?a&&a.\u0275routerPageId?a.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:P,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:u,resolve:y,reject:C,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(N=>Promise.reject(N))}setBrowserUrl(e,r){const a=this.urlSerializer.serialize(e),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",u):this.location.go(a,"",u)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===a?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sd=(()=>{class n{constructor(e,r,a,u,f,y){this.router=e,this.route=r,this.tabIndexAttribute=a,this.renderer=u,this.el=f,this.locationStrategy=y,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ki.x;const C=f.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===C||"area"===C,this.isAnchorElement?this.subscription=e.events.subscribe(I=>{I instanceof ks&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,c.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,c.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,c.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,a,u,f){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||r||a||u||f||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){const a=this.renderer,u=this.el.nativeElement;null!==r?a.setAttribute(u,e,r):a.removeAttribute(u,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(bi),c.Y36(ut),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Qe))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,r){1&e&&c.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&e&&c.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class Qv{}let L0=(()=>{class n{constructor(e,r,a,u,f){this.router=e,this.injector=a,this.preloadingStrategy=u,this.loader=f}setUpPreloading(){this.subscription=this.router.events.pipe(Wn(e=>e instanceof ks),ta(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const a=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,c.MMx)(u.providers,e,`Route: ${u.path}`));const f=u._injector??e,y=u._loadedInjector??f;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?a.push(this.preloadConfig(f,u)):(u.children||u._loadedRoutes)&&a.push(this.processRoutes(y,u.children??u._loadedRoutes))}return(0,Gt.D)(a).pipe((0,Ln.J)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let a;a=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Ye(null);const u=a.pipe((0,Lr.z)(f=>null===f?Ye(void 0):(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,this.processRoutes(f.injector??e,f.routes))));if(r.loadComponent&&!r._loadedComponent){const f=this.loader.loadComponent(r);return(0,Gt.D)([u,f]).pipe((0,Ln.J)())}return u})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(bi),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Qv),c.LFG(Im))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eE=new c.OlP("");let U0=(()=>{class n{constructor(e,r,a,u,f={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=a,this.zone=u,this.options=f,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},f.scrollPositionRestoration=f.scrollPositionRestoration||"disabled",f.anchorScrolling=f.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ui?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ks&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Mh&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Mh(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function od(n,t){return{\u0275kind:n,\u0275providers:t}}function Uh(){const n=(0,c.f3M)(c.zs3);return t=>{const e=n.get(c.z2F);if(t!==e.components[0])return;const r=n.get(bi),a=n.get(tE);1===n.get(Ip)&&r.initialNavigation(),n.get(nE,null,c.XFs.Optional)?.setUpPreloading(),n.get(eE,null,c.XFs.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),a.closed||(a.next(),a.unsubscribe())}}const tE=new c.OlP("",{factory:()=>new ki.x}),Ip=new c.OlP("",{providedIn:"root",factory:()=>1});const nE=new c.OlP("");function $0(n){return od(0,[{provide:nE,useExisting:L0},{provide:Qv,useExisting:n}])}const Sp=new c.OlP("ROUTER_FORROOT_GUARD"),cS=[Pe,{provide:bu,useClass:Ns},bi,Jc,{provide:ut,useFactory:function Tm(n){return n.routerState.root},deps:[bi]},Im,[]];function Mm(){return new c.PXZ("Router",bi)}let rE=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[cS,[],{provide:Br,multi:!0,useValue:e},{provide:Sp,useFactory:W0,deps:[[bi,new c.FiY,new c.tp0]]},{provide:Fh,useValue:r||{}},r?.useHash?{provide:Qe,useClass:we}:{provide:Qe,useClass:Ce},{provide:eE,useFactory:()=>{const n=(0,c.f3M)(Qs),t=(0,c.f3M)(c.R0b),e=(0,c.f3M)(Fh),r=(0,c.f3M)(Dp),a=(0,c.f3M)(bu);return e.scrollOffset&&n.setOffset(e.scrollOffset),new U0(a,r,n,t,e)}},r?.preloadingStrategy?$0(r.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:Mm},r?.initialNavigation?sE(r):[],[{provide:oE,useFactory:Uh},{provide:c.tb,multi:!0,useExisting:oE}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Br,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Sp,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[_p]}),n})();function W0(n){return"guarded"}function sE(n){return["disabled"===n.initialNavigation?od(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const t=(0,c.f3M)(bi);return()=>{t.setUpLocationChangeListener()}}},{provide:Ip,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?od(2,[{provide:Ip,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:t=>{const e=t.get(se,Promise.resolve());return()=>e.then(()=>new Promise(a=>{const u=t.get(bi),f=t.get(tE);(function r(a){t.get(bi).events.pipe(Wn(f=>f instanceof ks||f instanceof la||f instanceof po),(0,A.U)(f=>f instanceof ks||f instanceof la&&(0===f.code||1===f.code)&&null),Wn(f=>null!==f),nl(1)).subscribe(()=>{a()})})(()=>{a(!0)}),t.get(Dp).afterPreactivation=()=>(a(!0),f.closed?Ye(void 0):f),u.initialNavigation()}))}}]).\u0275providers:[]]}const oE=new c.OlP("");class Bu{}class Pm{}const Vi="*";function Vh(n,t=null){return{type:4,styles:t,timings:n}}function Tp(n,t=null){return{type:2,steps:n,options:t}}function cd(n){return{type:6,styles:n,offset:null}}function Ap(n,t,e){return{type:0,name:n,styles:t,options:e}}function Mp(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Om(n){Promise.resolve().then(n)}class Bh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Om(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class aE{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,a=0;const u=this.players.length;0==u?Om(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++e==u&&this._onFinish()}),f.onDestroy(()=>{++r==u&&this._onDestroy()}),f.onStart(()=>{++a==u&&this._onStart()})}),this.totalTime=this.players.reduce((f,y)=>Math.max(f,y.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const a=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(a)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class dd{constructor(){this.isOpen=!0}ngOnInit(){}toggle(){this.isOpen=!this.isOpen}}dd.\u0275fac=function(t){return new(t||dd)},dd.\u0275cmp=c.Xpm({type:dd,selectors:[["app-animation"]],decls:4,vars:2,consts:[[1,"btn","btn-warning",3,"click"]],template:function(t,e){1&t&&(c.TgZ(0,"button",0),c.NdJ("click",function(){return e.toggle()}),c._uU(1,"Toggle"),c.qZA(),c.TgZ(2,"div"),c._uU(3),c.qZA()),2&t&&(c.xp6(2),c.Q6J("@openclose",e.isOpen?"open":"close"),c.xp6(1),c.hij(" This box is ",e.isOpen?"Open":"Closed",".\n"))},data:{animation:[function Nm(n,t){return{type:7,name:n,definitions:t,options:{}}}("openclose",[Ap("open",cd({height:"300px",backgroundColor:"yellow"})),Ap("close",cd({height:"100px",backgroundColor:"lightblue"})),Mp("open=>close",[Vh("1s")]),Mp("close=>open",[Vh("0.5s")])])]}});let X0=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),ha=(()=>{class n extends X0{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Fs=new c.OlP("NgValueAccessor"),tb={provide:Fs,useExisting:(0,c.Gpc)(()=>Hu),multi:!0},nb=new c.OlP("CompositionEventMode");let Hu=(()=>{class n extends X0{constructor(e,r,a){super(e,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function uE(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(nb,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&c.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[c._Bn([tb]),c.qOj]}),n})();function yl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function cE(n){return null!=n&&"number"==typeof n.length}const Hr=new c.OlP("NgValidators"),vl=new c.OlP("NgAsyncValidators"),rb=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class In{static min(t){return function Rp(n){return t=>{if(yl(t.value)||yl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function dE(n){return t=>{if(yl(t.value)||yl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function hE(n){return yl(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function xm(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function fE(n){return yl(n.value)||rb.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function pE(n){return t=>yl(t.value)||!cE(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function gE(n){return t=>cE(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Pp(n){if(!n)return Np;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(yl(r.value))return null;const a=r.value;return t.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}(t)}static nullValidator(t){return null}static compose(t){return ib(t)}static composeAsync(t){return Fm(t)}}function Np(n){return null}function mE(n){return null!=n}function Hh(n){return(0,c.QGY)(n)?(0,Gt.D)(n):n}function Op(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function jh(n,t){return t.map(e=>e(n))}function kp(n){return n.map(t=>function gS(n){return!n.validate}(t)?t:e=>t.validate(e))}function ib(n){if(!n)return null;const t=n.filter(mE);return 0==t.length?null:function(e){return Op(jh(e,t))}}function xp(n){return null!=n?ib(kp(n)):null}function Fm(n){if(!n)return null;const t=n.filter(mE);return 0==t.length?null:function(e){return function J0(...n){const t=(0,Jr.jO)(n),{args:e,keys:r}=ea(n),a=new vi.y(u=>{const{length:f}=e;if(!f)return void u.complete();const y=new Array(f);let C=f,I=f;for(let P=0;P<f;P++){let N=!1;(0,Ms.Xf)(e[P]).subscribe((0,Ue.x)(u,$=>{N||(N=!0,I--),y[P]=$},()=>C--,void 0,()=>{(!C||!N)&&(I||u.next(r?be(r,y):y),u.complete())}))}});return t?a.pipe(J(t)):a}(jh(e,t).map(Hh)).pipe((0,A.U)(Op))}}function Fp(n){return null!=n?Fm(kp(n)):null}function Lm(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Lp(n){return n._rawValidators}function mo(n){return n._rawAsyncValidators}function hd(n){return n?Array.isArray(n)?n:[n]:[]}function ju(n,t){return Array.isArray(n)?n.includes(t):n===t}function fd(n,t){const e=hd(t);return hd(n).forEach(a=>{ju(e,a)||e.push(a)}),e}function _E(n,t){return hd(t).filter(e=>!ju(n,e))}class Um{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=xp(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Fp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class jr extends Um{get formDirective(){return null}get path(){return null}}class El extends Um{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yE{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Vp=(()=>{class n extends yE{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(El,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]}),n})(),Vm=(()=>{class n extends yE{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(jr,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]}),n})();const pd="VALID",jp="INVALID",$h="PENDING",gd="DISABLED";function md(n){return(Gp(n)?n.validators:n)||null}function wE(n,t){return(Gp(t)?t.asyncValidators:n)||null}function Gp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function bE(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function zp(n,t,e){n._forEachChild((r,a)=>{if(void 0===e[a])throw new c.vHH(1002,"")})}class Wp{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===pd}get invalid(){return this.status===jp}get pending(){return this.status==$h}get disabled(){return this.status===gd}get enabled(){return this.status!==gd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(fd(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(fd(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(_E(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(_E(t,this._rawAsyncValidators))}hasValidator(t){return ju(this._rawValidators,t)}hasAsyncValidator(t){return ju(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=$h,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=gd,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=pd,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pd||this.status===$h)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gd:pd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=$h,this._hasOwnPendingAsyncValidator=!0;const e=Hh(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,a)=>r&&r._find(a),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?gd:this.errors?jp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($h)?$h:this._anyControlsHaveStatus(jp)?jp:pd}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Gp(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function $u(n){return Array.isArray(n)?xp(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function $p(n){return Array.isArray(n)?Fp(n):n||null}(this._rawAsyncValidators)}}class Di extends Wp{constructor(t,e,r){super(md(e),wE(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){zp(this,0,t),Object.keys(t).forEach(r=>{bE(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const a=this.controls[r];a&&a.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,a)=>{r.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,a)=>((r.enabled||this.disabled)&&(e[a]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((a,u)=>{r=e(r,a,u)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class Cl extends Di{}const Sr=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>_d}),_d="always";function fa(n,t){return[...t.path,n]}function _o(n,t,e=_d){wl(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function vd(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&$m(n,t)})}(n,t),function DE(n,t){const e=(r,a)=>{t.valueAccessor.writeValue(r),a&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Ed(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&$m(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function yd(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function pa(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),ma(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ga(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function wl(n,t){const e=Lp(n);null!==t.validator?n.setValidators(Lm(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=mo(n);null!==t.asyncValidator?n.setAsyncValidators(Lm(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();ga(t._rawValidators,a),ga(t._rawAsyncValidators,a)}function ma(n,t){let e=!1;if(null!==n){if(null!==t.validator){const a=Lp(n);if(Array.isArray(a)&&a.length>0){const u=a.filter(f=>f!==t.validator);u.length!==a.length&&(e=!0,n.setValidators(u))}}if(null!==t.asyncValidator){const a=mo(n);if(Array.isArray(a)&&a.length>0){const u=a.filter(f=>f!==t.asyncValidator);u.length!==a.length&&(e=!0,n.setAsyncValidators(u))}}}const r=()=>{};return ga(t._rawValidators,r),ga(t._rawAsyncValidators,r),e}function $m(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function zm(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function Zm(n,t){if(!t)return null;let e,r,a;return Array.isArray(t),t.forEach(u=>{u.constructor===Hu?e=u:function gb(n){return Object.getPrototypeOf(n.constructor)===ha}(u)?r=u:a=u}),a||r||e||null}function zh(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Kp(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Wh=class extends Wp{constructor(t=null,e,r){super(md(e),wE(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Kp(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){zh(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){zh(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Kp(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Eb={provide:El,useExisting:(0,c.Gpc)(()=>Zh)},Xm=(()=>Promise.resolve())();let Zh=(()=>{class n extends El{constructor(e,r,a,u,f,y){super(),this._changeDetectorRef=f,this.callSetDisabledState=y,this.control=new Wh,this._registered=!1,this.update=new c.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=Zm(0,u)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),zm(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_o(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Xm.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,a=0!==r&&(0,c.D6c)(r);Xm.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?fa(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(jr,9),c.Y36(Hr,10),c.Y36(vl,10),c.Y36(Fs,10),c.Y36(c.sBO,8),c.Y36(Sr,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Eb]),c.qOj,c.TTD]}),n})(),Yp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),e_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Qp=new c.OlP("NgModelWithFormControlWarning"),kE={provide:jr,useExisting:(0,c.Gpc)(()=>wd)};let wd=(()=>{class n extends jr{constructor(e,r,a){super(),this.callSetDisabledState=a,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ma(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return _o(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){pa(e.control||null,e,!1),function mb(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function Wm(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,a=this.form.get(e.path);r!==a&&(pa(r||null,e),(n=>n instanceof Wh)(a)&&(_o(a,e,this.callSetDisabledState),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function Gm(n,t){wl(n,t)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function IE(n,t){return ma(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wl(this.form,this),this._oldForm&&ma(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Hr,10),c.Y36(vl,10),c.Y36(Sr,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([kE]),c.qOj,c.TTD]}),n})();const Gu={provide:El,useExisting:(0,c.Gpc)(()=>bd)};let bd=(()=>{class n extends El{set isDisabled(e){}constructor(e,r,a,u,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=Zm(0,u)}ngOnChanges(e){this._added||this._setUpControl(),zm(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return fa(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(c.Y36(jr,13),c.Y36(Hr,10),c.Y36(vl,10),c.Y36(Fs,10),c.Y36(Qp,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Gu]),c.qOj,c.TTD]}),n})(),HE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[e_]}),n})();class jE extends Wp{constructor(t,e,r){super(md(e),wE(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let a=this._adjustIndex(t);a<0&&(a=0),this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),e&&(this.controls.splice(a,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){zp(this,0,t),t.forEach((r,a)=>{bE(this,!1,a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,a)=>{r.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function ng(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Id=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,r=null){const a=this._reduceControls(e);let u={};return ng(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new Di(a,u)}record(e,r=null){const a=this._reduceControls(e);return new Cl(a,r)}control(e,r,a){let u={};return this.useNonNullable?(ng(r)?u=r:(u.validators=r,u.asyncValidators=a),new Wh(e,{...u,nonNullable:!0})):new Wh(e,r,a)}array(e,r,a){const u=e.map(f=>this._createControl(f));return new jE(u,r,a)}_reduceControls(e){const r={};return Object.keys(e).forEach(a=>{r[a]=this._createControl(e[a])}),r}_createControl(e){return e instanceof Wh||e instanceof Wp?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$E=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Sr,useValue:e.callSetDisabledState??_d}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[HE]}),n})(),GE=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Qp,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Sr,useValue:e.callSetDisabledState??_d}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[HE]}),n})();var Sd=k(6451),rg=k(5363),zE=k(6063);class WE extends ki.x{constructor(t=1/0,e=1/0,r=zE.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:a,_timestampProvider:u,_windowTime:f}=this;e||(r.push(t),!a&&r.push(u.now()+f)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:a}=this,u=a.slice();for(let f=0;f<u.length&&!t.closed;f+=r?1:2)t.next(u[f]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:a}=this,u=(a?1:2)*t;if(t<1/0&&u<r.length&&r.splice(0,r.length-u),!a){const f=e.now();let y=0;for(let C=1;C<r.length&&r[C]<=f;C+=2)y=C;y&&r.splice(0,y+1)}}}var ig=k(3099);function qh(n,t,e){let r,a=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:e}=n):r=n??1/0,(0,ig.B)({connector:()=>new WE(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function f_(n,t){return(0,ei.m)(t)?zn(()=>n,t):zn(()=>n)}var sg=k(9468),Ii=k(2122),ss=k(2011);k(259);var Wu=k(5861),Zu=k(9681),qu=k(4859),x=k(2090),Yh=k(1877);const og=new Map,m_={activated:!1,tokenObservers:[]},qE={initialized:!1,enabled:!1};function pr(n){return og.get(n)||Object.assign({},m_)}function Qh(){return qE}class Ub{constructor(t,e,r,a,u){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=a,a>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Wu.Z)(function*(){e.stop();try{e.pending=new x.BH,yield function Td(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new x.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Tr=new x.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function y_(n){if(!pr(n).activated)throw Tr.create("use-before-activation",{appName:n.name})}function ft(n,t){return E_.apply(this,arguments)}function E_(){return(E_=(0,Wu.Z)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});if(a){const N=yield a.getHeartbeatsHeader();N&&(r["X-Firebase-Client"]=N)}const u={method:"POST",body:JSON.stringify(t),headers:r};let f,y;try{f=yield fetch(n,u)}catch(N){throw Tr.create("fetch-network-error",{originalErrorMessage:N?.message})}if(200!==f.status)throw Tr.create("fetch-status-error",{httpStatus:f.status});try{y=yield f.json()}catch(N){throw Tr.create("fetch-parse-error",{originalErrorMessage:N?.message})}const C=y.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw Tr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const I=1e3*Number(C[1]),P=Date.now();return{token:y.token,expireTimeMillis:P+I,issuedAtTimeMillis:P}})).apply(this,arguments)}function Ad(n,t){const{projectId:e,appId:r,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${r}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const Dl="firebase-app-check-store";let C_=null;function w_(){return C_||(C_=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var a;t(Tr.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Dl,{keyPath:"compositeKey"})}}catch(e){t(Tr.create("storage-open",{originalErrorMessage:e?.message}))}}),C_)}function cg(){return(cg=(0,Wu.Z)(function*(n,t){const r=(yield w_()).transaction(Dl,"readwrite"),u=r.objectStore(Dl).put({compositeKey:n,value:t});return new Promise((f,y)=>{u.onsuccess=C=>{f()},r.onerror=C=>{var I;y(Tr.create("storage-set",{originalErrorMessage:null===(I=C.target.error)||void 0===I?void 0:I.message}))}})})).apply(this,arguments)}const _a=new Yh.Yd("@firebase/app-check");function S_(n,t){return(0,x.hl)()?function jb(n,t){return function b_(n,t){return cg.apply(this,arguments)}(function rC(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{_a.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function T_(){return Qh().enabled}function A_(){return M_.apply(this,arguments)}function M_(){return(M_=(0,Wu.Z)(function*(){const n=Qh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Xh={error:"UNKNOWN_ERROR"};function Gb(n){return x.US.encodeString(JSON.stringify(n),!1)}function fg(n){return R_.apply(this,arguments)}function R_(){return(R_=(0,Wu.Z)(function*(n,t=!1){const e=n.app;y_(e);const r=pr(e);let u,a=r.token;if(a&&!Md(a)&&(r.token=void 0,a=void 0),!a){const C=yield r.cachedTokenPromise;C&&(Md(C)?a=C:yield S_(e,void 0))}if(!t&&a&&Md(a))return{token:a.token};let y,f=!1;if(T_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ft(Ad(e,yield A_()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),f=!0);const C=yield r.exchangeTokenPromise;return yield S_(e,C),r.token=C,{token:C.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),f=!0),a=yield pr(e).exchangeTokenPromise}catch(C){"appCheck/throttled"===C.code?_a.warn(C.message):_a.error(C),u=C}return a?u?y=Md(a)?{token:a.token,internalError:u}:iC(u):(y={token:a.token},r.token=a,yield S_(e,a)):y=iC(u),f&&N_(e,y),y})).apply(this,arguments)}function gg(n,t){const e=pr(n),r=e.tokenObservers.filter(a=>a.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=r}function P_(n){const{app:t}=n,e=pr(t);let r=e.tokenRefresher;r||(r=function zb(n){const{app:t}=n;return new Ub((0,Wu.Z)(function*(){let r;if(r=pr(t).token?yield fg(n,!0):yield fg(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const e=pr(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=r),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function N_(n,t){const e=pr(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}function Md(n){return n.expireTimeMillis-Date.now()>0}function iC(n){return{token:Gb(Xh),error:n}}class VS{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=pr(this.app);for(const e of t)gg(this.app,e.next);return Promise.resolve()}}const hC="app-check-internal";!function fC(){(0,Zu._registerComponent)(new qu.wA("app-check",n=>function BS(n,t){return new VS(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(hC).initialize()})),(0,Zu._registerComponent)(new qu.wA(hC,n=>function HS(n){return{getToken:t=>fg(n,t),addTokenListener:t=>function pg(n,t,e,r){const{app:a}=n,u=pr(a);if(u.tokenObservers=[...u.tokenObservers,{next:e,error:r,type:t}],u.token&&Md(u.token)){const y=u.token;Promise.resolve().then(()=>{e({token:y.token}),P_(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>P_(n))}(n,"INTERNAL",t),removeTokenListener:t=>gg(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Zu.registerVersion)("@firebase/app-check","0.6.4")}();class U_{constructor(){return(0,Ii.vb)("app-check")}}typeof window<"u"&&window;var gC=k(9260);const _C=new c.OlP("angularfire2.auth.use-emulator"),yC=new c.OlP("angularfire2.auth.settings"),vC=new c.OlP("angularfire2.auth.tenant-id"),yg=new c.OlP("angularfire2.auth.langugage-code"),vg=new c.OlP("angularfire2.auth.use-device-language"),V_=new c.OlP("angularfire.auth.persistence"),Eg=(n,t,e,r,a,u,f,y)=>(0,ss.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const C=t.runOutsideAngular(()=>n.auth());if(e&&C.useEmulator(...e),r&&(C.tenantId=r),C.languageCode=a,u&&C.useDeviceLanguage(),f)for(const[I,P]of Object.entries(f))C.settings[I]=P;return y&&C.setPersistence(y),C},[e,r,a,u,f,y]);let Cg=(()=>{class n{constructor(e,r,a,u,f,y,C,I,P,N,$,K){const X=new ki.x,Se=Ye(void 0).pipe((0,rg.Q)(f.outsideAngular),zn(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,4217)))),(0,A.U)(()=>(0,ss.on)(e,u,r)),(0,A.U)(je=>Eg(je,u,y,I,P,N,C,$)),qh({bufferSize:1,refCount:!1}));if(function zl(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ye(null);else{Se.pipe(co()).subscribe();const tt=Se.pipe(zn(Ot=>Ot.getRedirectResult().then(Ar=>Ar,()=>null)),Ii.iC,qh({bufferSize:1,refCount:!1})),Dt=Se.pipe(zn(Ot=>new vi.y(Ar=>({unsubscribe:u.runOutsideAngular(()=>Ot.onAuthStateChanged(zr=>Ar.next(zr),zr=>Ar.error(zr),()=>Ar.complete()))})))),qt=Se.pipe(zn(Ot=>new vi.y(Ar=>({unsubscribe:u.runOutsideAngular(()=>Ot.onIdTokenChanged(zr=>Ar.next(zr),zr=>Ar.error(zr),()=>Ar.complete()))}))));this.authState=tt.pipe(f_(Dt),(0,sg.R)(f.outsideAngular),(0,rg.Q)(f.insideAngular)),this.user=tt.pipe(f_(qt),(0,sg.R)(f.outsideAngular),(0,rg.Q)(f.insideAngular)),this.idToken=this.user.pipe(zn(Ot=>Ot?(0,Gt.D)(Ot.getIdToken()):Ye(null))),this.idTokenResult=this.user.pipe(zn(Ot=>Ot?(0,Gt.D)(Ot.getIdTokenResult()):Ye(null))),this.credential=(0,Sd.T)(tt,X,this.authState.pipe(Wn(Ot=>!Ot))).pipe((0,A.U)(Ot=>Ot?.user?Ot:null),(0,sg.R)(f.outsideAngular),(0,rg.Q)(f.insideAngular))}return(0,ss.pX)(this,Se,u,{spy:{apply:(je,tt,Dt)=>{(je.startsWith("signIn")||je.startsWith("createUser"))&&Dt.then(qt=>X.next(qt))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ss.Dh),c.LFG(ss.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Ii.HU),c.LFG(_C,8),c.LFG(yC,8),c.LFG(vC,8),c.LFG(yg,8),c.LFG(vg,8),c.LFG(V_,8),c.LFG(U_,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),iD=(()=>{class n{constructor(){gC.Z.registerVersion("angularfire",Ii.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Cg]}),n})();class ya{constructor(t){this.auth=t}createUser(t,e){return this.auth.createUserWithEmailAndPassword(t,e)}signIn(t,e){return this.auth.signInWithEmailAndPassword(t,e)}}ya.\u0275fac=function(t){return new(t||ya)(c.LFG(Cg))},ya.\u0275prov=c.Yz7({token:ya,factory:ya.\u0275fac,providedIn:"root"});class tf{constructor(t,e){this.fb=t,this.authService=e,this.RegisterForm=this.fb.group({fullName:["",[In.required]],email:["",[In.required]],password:["",[In.required]],confirmPassword:["",[In.required]]}),this.loginForm=this.fb.group({email:["",[In.required]],password:["",[In.required]]})}ngOnInit(){}onSubmit(t){this.authService.createUser(t.value.email,t.value.password).then(e=>{console.log(e),alert("Registration successfull")}).catch(e=>{alert(e)})}onSubmitOfLogin(t){this.authService.signIn(t.value.email,t.value.password).then(e=>{console.log(e),alert("Login successfull")}).catch(e=>{alert(e)})}}tf.\u0275fac=function(t){return new(t||tf)(c.Y36(Id),c.Y36(ya))},tf.\u0275cmp=c.Xpm({type:tf,selectors:[["app-authentication"]],decls:40,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"col"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group"],["for",""],["type","text","formControlName","fullName",1,"form-control"],["type","email","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["type","password","formControlName","confirmPassword",1,"form-control"],["type","submit",1,"btn","btn-primary"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),c._uU(4,"Registration Form"),c.qZA(),c.TgZ(5,"form",3),c.NdJ("ngSubmit",function(){return e.onSubmit(e.RegisterForm)}),c.TgZ(6,"div",4)(7,"label",5),c._uU(8,"Enter Full Name"),c.qZA(),c._UZ(9,"input",6),c.qZA(),c.TgZ(10,"div",4)(11,"label",5),c._uU(12,"Enter Email"),c.qZA(),c._UZ(13,"input",7),c.qZA(),c.TgZ(14,"div",4)(15,"label",5),c._uU(16,"Enter Password"),c.qZA(),c._UZ(17,"input",8),c.qZA(),c.TgZ(18,"div",4)(19,"label",5),c._uU(20,"Enter Confirm Password"),c.qZA(),c._UZ(21,"input",9),c.qZA(),c._UZ(22,"br"),c.TgZ(23,"button",10),c._uU(24,"Submit"),c.qZA()()(),c.TgZ(25,"div",2)(26,"h3"),c._uU(27,"Login Form"),c.qZA(),c.TgZ(28,"form",3),c.NdJ("ngSubmit",function(){return e.onSubmitOfLogin(e.loginForm)}),c.TgZ(29,"div",4)(30,"label",5),c._uU(31,"Enter Email"),c.qZA(),c._UZ(32,"input",7),c.qZA(),c.TgZ(33,"div",4)(34,"label",5),c._uU(35,"Enter Password"),c.qZA(),c._UZ(36,"input",8),c.qZA(),c._UZ(37,"br"),c.TgZ(38,"button",10),c._uU(39,"Submit"),c.qZA()()()()()),2&t&&(c.xp6(5),c.Q6J("formGroup",e.RegisterForm),c.xp6(23),c.Q6J("formGroup",e.loginForm))},dependencies:[Yp,Hu,Vp,Vm,wd,bd]});class Pd{}Pd.\u0275fac=function(t){return new(t||Pd)},Pd.\u0275cmp=c.Xpm({type:Pd,selectors:[["app-data-binding"]],decls:2,vars:0,template:function(t,e){1&t&&(c.TgZ(0,"p"),c._uU(1,"data-binding works!"),c.qZA())}});class Co{}Co.\u0275fac=function(t){return new(t||Co)},Co.\u0275cmp=c.Xpm({type:Co,selectors:[["app-data-directive"]],decls:2,vars:0,template:function(t,e){1&t&&(c.TgZ(0,"p"),c._uU(1,"data-directive works!"),c.qZA())}});class EC{constructor(){this.id="",this.title="",this.description=""}}var sD=k(4986);function CC(n,t){return n===t}var B_=k(5032);k(4217);var wC=k(3942);const wg="@firebase/database";let bg="";function $_(n){bg=n}class bC{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,x.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,x.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class aD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,x.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const DC=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new bC(t)}}catch{}return new aD},Ku=DC("localStorage"),G_=DC("sessionStorage"),Yu=new Yh.Yd("@firebase/database"),lD=function(){let n=1;return function(){return n++}}(),z_=function(n){const t=(0,x.dS)(n),e=new x.gQ;e.update(t);const r=e.digest();return x.US.encodeByteArray(r)},nf=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=nf.apply(null,r):t+="object"==typeof r?(0,x.Wl)(r):r,t+=" "}return t};let Qu=null,uD=!0;const IC=function(n,t){(0,x.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Yu.logLevel=Yh.in.VERBOSE,Qu=Yu.log.bind(Yu),t&&G_.set("logging_enabled",!0)):"function"==typeof n?Qu=n:(Qu=null,G_.remove("logging_enabled"))},gr=function(...n){if(!0===uD&&(uD=!1,null===Qu&&!0===G_.get("logging_enabled")&&IC(!0)),Qu){const t=nf.apply(null,n);Qu(t)}},rf=function(n){return function(...t){gr(n,...t)}},W_=function(...n){const t="FIREBASE INTERNAL ERROR: "+nf(...n);Yu.error(t)},wo=function(...n){const t=`FIREBASE FATAL ERROR: ${nf(...n)}`;throw Yu.error(t),new Error(t)},$r=function(...n){const t="FIREBASE WARNING: "+nf(...n);Yu.warn(t)},Dg=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Sl="[MIN_NAME]",va="[MAX_NAME]",Ju=function(n,t){if(n===t)return 0;if(n===Sl||t===va)return-1;if(t===Sl||n===va)return 1;{const e=RC(n),r=RC(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},sf=function(n,t){return n===t?0:n<t?-1:1},Nd=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,x.Wl)(t))},Ig=function(n){if("object"!=typeof n||null===n)return(0,x.Wl)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,x.Wl)(t[r]),e+=":",e+=Ig(n[t[r]]);return e+="}",e},Z_=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let a=0;a<e;a+=t)r.push(n.substring(a,a+t>e?e:a+t));return r};function rr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const q_=function(n){(0,x.hu)(!Dg(n),"Invalid JSON number");const r=1023;let a,u,f,y,C;0===n?(u=0,f=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(y=Math.min(Math.floor(Math.log(n)/Math.LN2),r),u=y+r,f=Math.round(n*Math.pow(2,52-y)-Math.pow(2,52))):(u=0,f=Math.round(n/Math.pow(2,-1074))));const I=[];for(C=52;C;C-=1)I.push(f%2?1:0),f=Math.floor(f/2);for(C=11;C;C-=1)I.push(u%2?1:0),u=Math.floor(u/2);I.push(a?1:0),I.reverse();const P=I.join("");let N="";for(C=0;C<64;C+=8){let $=parseInt(P.substr(C,8),2).toString(16);1===$.length&&($="0"+$),N+=$}return N.toLowerCase()},TC=new RegExp("^-?(0*)\\d{1,10}$"),RC=function(n){if(TC.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Od=function(n){try{n()}catch(t){setTimeout(()=>{throw $r("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},lf=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class K_{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){$r(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class bo{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(gr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$r(t)}}let uf=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const cf=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Q_="websocket",J_="long_polling";class hf{constructor(t,e,r,a,u=!1,f="",y=!1,C=!1){this.secure=e,this.namespace=r,this.webSocketOnly=a,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=y,this.isUsingEmulator=C,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ku.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ku.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Sg(n,t,e){let r;if((0,x.hu)("string"==typeof t,"typeof type must == string"),(0,x.hu)("object"==typeof e,"typeof params must == object"),t===Q_)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==J_)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function xC(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return rr(e,(u,f)=>{a.push(u+"="+f)}),r+a.join("&")}class X_{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,x.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,x.p$)(this.counters_)}}const Tg={},ff={};function pf(n){const t=n.toString();return Tg[t]||(Tg[t]=new X_),Tg[t]}class pD{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<r.length;++a)r[a]&&Od(()=>{this.onMessage_(r[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Tl{constructor(t,e,r,a,u,f,y){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=a,this.authToken=u,this.transportSessionId=f,this.lastSessionId=y,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rf(t),this.stats_=pf(e),this.urlFn=C=>(this.appCheckToken&&(C.ac=this.appCheckToken),Sg(e,J_,C))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new pD(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,x.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $C((...u)=>{const[f,y,C,I,P]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===f)this.id=y,this.password=C;else{if("close"!==f)throw new Error("Unrecognized command received: "+f);y?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(y,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[f,y]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,y)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&cf.test(location.hostname)&&(r.r="f");const a=this.urlFn(r);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Tl.forceAllow_=!0}static forceDisallow(){Tl.forceDisallow_=!0}static isAvailable(){return!((0,x.Yr)()||!Tl.forceAllow_&&(Tl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,x.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,x.h$)(e),a=Z_(r,1840);for(let u=0;u<a.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[u]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,x.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,x.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class $C{constructor(t,e,r,a){if(this.onDisconnect=r,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,x.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=lD(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=$C.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(y){gr("frame writing exception"),y.stack&&gr(y.stack),gr(y)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||gr("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const f=this.pendingSegs.shift();r=r+"&seg"+a+"="+f.seg+"&ts"+a+"="+f.ts+"&d"+a+"="+f.d,a++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),r()})}addTag(t,e){(0,x.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const a=r.readyState;(!a||"loaded"===a||"complete"===a)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{gr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let gf=null;typeof MozWebSocket<"u"?gf=MozWebSocket:typeof WebSocket<"u"&&(gf=WebSocket);let Do=(()=>{class n{constructor(e,r,a,u,f,y,C){this.connId=e,this.applicationId=a,this.appCheckToken=u,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rf(this.connId),this.stats_=pf(r),this.connURL=n.connectionURL_(r,y,C,u,a),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,a,u,f){const y={v:"5"};return!(0,x.Yr)()&&typeof location<"u"&&location.hostname&&cf.test(location.hostname)&&(y.r="f"),r&&(y.s=r),a&&(y.ls=a),u&&(y.ac=u),f&&(y.p=f),Sg(e,Q_,y)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ku.set("previous_websocket_failure",!0);try{let a;if((0,x.Yr)()){a={headers:{"User-Agent":`Firebase/5/${bg}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const f=process.env,y=0===this.connURL.indexOf("wss://")?f.HTTPS_PROXY||f.https_proxy:f.HTTP_PROXY||f.http_proxy;y&&(a.proxy={origin:y})}this.mySock=new gf(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const u=a.message||a.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const u=a.message||a.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==gf&&!n.forceDisallow_}static previouslyFailed(){return Ku.isInMemoryStorage||!0===Ku.get("previous_websocket_failure")}markConnectionHealthy(){Ku.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const a=(0,x.cI)(r);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,x.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const a=this.extractFrameCount_(r);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const r=(0,x.Wl)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const a=Z_(r,16384);a.length>1&&this.sendString_(String(a.length));for(let u=0;u<a.length;u++)this.sendString_(a[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),zC=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Tl,Do]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=Do&&Do.isAvailable();let a=r&&!Do.previouslyFailed();if(e.webSocketOnly&&(r||$r("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Do];else{const u=this.transports_=[];for(const f of n.ALL_TRANSPORTS)f&&f.isAvailable()&&u.push(f);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class uy{constructor(t,e,r,a,u,f,y,C,I,P){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=a,this.authToken_=u,this.onMessage_=f,this.onReady_=y,this.onDisconnect_=C,this.onKill_=I,this.lastSessionId=P,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rf("c:"+this.id+":"),this.transportManager_=new zC(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=lf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Nd("t",t),r=Nd("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Nd("t",t),r=Nd("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Nd("t",t);if("d"in t){const r=t.d;if("h"===e){const a=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?W_("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):W_("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&$r("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),lf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):lf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ku.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Xu{put(t,e,r,a){}merge(t,e,r,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class KC{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,x.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let a=0;a<r.length;a++)r[a].callback.apply(r[a].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const a=this.getInitialEvent(t);a&&e.apply(r,a)}off(t,e,r){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let u=0;u<a.length;u++)if(a[u].callback===e&&(!r||r===a[u].context))return void a.splice(u,1)}validateEventType_(t){(0,x.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class _f extends KC{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,x.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new _f}getInitialEvent(t){return(0,x.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class tn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[r]=this.pieces_[a],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Qt(){return new tn("")}function Ft(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Al(n){return n.pieces_.length-n.pieceNum_}function un(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new tn(n.pieces_,t)}function Rg(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function yf(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function cy(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new tn(t,0)}function vn(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof tn)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let a=0;a<r.length;a++)r[a].length>0&&e.push(r[a])}return new tn(e,0)}function Lt(n){return n.pieceNum_>=n.pieces_.length}function oi(n,t){const e=Ft(n),r=Ft(t);if(null===e)return t;if(e===r)return oi(un(n),un(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function QC(n,t){const e=yf(n,0),r=yf(t,0);for(let a=0;a<e.length&&a<r.length;a++){const u=Ju(e[a],r[a]);if(0!==u)return u}return e.length===r.length?0:e.length<r.length?-1:1}function dy(n,t){if(Al(n)!==Al(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function Bi(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(Al(n)>Al(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class JC{constructor(t,e){this.errorPrefix_=e,this.parts_=yf(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,x.ug)(this.parts_[r]);tw(this)}}function tw(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ec(n))}function ec(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class nw extends KC{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new nw}getInitialEvent(t){return(0,x.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Ld=1e3;let hy,Ud=(()=>{class n extends Xu{constructor(e,r,a,u,f,y,C,I){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=a,this.onConnectStatus_=u,this.onServerInfoUpdate_=f,this.authTokenProvider_=y,this.appCheckTokenProvider_=C,this.authOverride_=I,this.id=n.nextPersistentConnectionId_++,this.log_=rf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ld,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,I&&!(0,x.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nw.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&_f.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,a){const u=++this.requestNumber_,f={r:u,a:e,b:r};this.log_((0,x.Wl)(f)),(0,x.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),a&&(this.requestCBHash_[u]=a)}get(e){this.initConnection_();const r=new x.BH,u={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:y=>{const C=y.d;"ok"===y.s?r.resolve(C):r.reject(C)}};return this.outstandingGets_.push(u),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(e,r,a,u){this.initConnection_();const f=e._queryIdentifier,y=e._path.toString();this.log_("Listen called for "+y+" "+f),this.listens.has(y)||this.listens.set(y,new Map),(0,x.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,x.hu)(!this.listens.get(y).has(f),"listen() called twice for same path/queryId.");const C={onComplete:u,hashFn:r,query:e,tag:a};this.listens.get(y).set(f,C),this.connected_&&this.sendListen_(C)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(a)})}sendListen_(e){const r=e.query,a=r._path.toString(),u=r._queryIdentifier;this.log_("Listen on "+a+" for "+u);const f={p:a};e.tag&&(f.q=r._queryObject,f.t=e.tag),f.h=e.hashFn(),this.sendRequest("q",f,C=>{const I=C.d,P=C.s;n.warnOnListenWarnings_(I,r),(this.listens.get(a)&&this.listens.get(a).get(u))===e&&(this.log_("listen response",C),"ok"!==P&&this.removeListen_(a,u),e.onComplete&&e.onComplete(P,I))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,x.r3)(e,"w")){const a=(0,x.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const u='".indexOn": "'+r._queryParams.getIndex().toString()+'"',f=r._path.toString();$r(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,x.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,x.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(r,a,u=>{const f=u.s,y=u.d||"error";this.authToken_===e&&("ok"===f?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,y))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,a=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,a)})}unlisten(e,r){const a=e._path.toString(),u=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+u),(0,x.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,u)&&this.connected_&&this.sendUnlisten_(a,u,e._queryObject,r)}sendUnlisten_(e,r,a,u){this.log_("Unlisten on "+e+" for "+r);const f={p:e};u&&(f.q=a,f.t=u),this.sendRequest("n",f)}onDisconnectPut(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:a})}onDisconnectMerge(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:a})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,a,u){const f={p:r,d:a};this.log_("onDisconnect "+e,f),this.sendRequest(e,f,y=>{u&&setTimeout(()=>{u(y.s,y.d)},Math.floor(0))})}put(e,r,a,u){this.putInternal("p",e,r,a,u)}merge(e,r,a,u){this.putInternal("m",e,r,a,u)}putInternal(e,r,a,u,f){this.initConnection_();const y={p:r,d:a};void 0!==f&&(y.h=f),this.outstandingPuts_.push({action:e,request:y,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,u=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,a,f=>{this.log_(r+" response",f),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(f.s,f.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,x.Wl)(e));const r=e.r,a=this.requestCBHash_[r];a&&(delete this.requestCBHash_[r],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):W_("Unrecognized action received from server: "+(0,x.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,x.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ld,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ld,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ld),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Wu.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),u=e.onRealtimeDisconnect_.bind(e),f=e.id+":"+n.nextConnectionId_++,y=e.lastSessionId;let C=!1,I=null;const P=function(){I?I.close():(C=!0,u())};e.realtime_={close:P,sendRequest:function(K){(0,x.hu)(I,"sendRequest call when we're not connected not allowed."),I.sendRequest(K)}};const $=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[K,X]=yield Promise.all([e.authTokenProvider_.getToken($),e.appCheckTokenProvider_.getToken($)]);C?gr("getToken() completed but was canceled"):(gr("getToken() completed. Creating connection."),e.authToken_=K&&K.accessToken,e.appCheckToken_=X&&X.token,I=new uy(f,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,a,u,Se=>{$r(Se+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},y))}catch(K){e.log_("Failed to get token: "+K),C||(e.repoInfo_.nodeAdmin&&$r(K),P())}}})()}interrupt(e){gr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){gr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,x.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ld,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let a;a=r?r.map(f=>Ig(f)).join("$"):"default";const u=this.removeListen_(e,a);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(e,r){const a=new tn(e).toString();let u;if(this.listens.has(a)){const f=this.listens.get(a);u=f.get(r),f.delete(r),0===f.size&&this.listens.delete(a)}else u=void 0;return u}onAuthRevoked_(e,r){gr("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){gr("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,x.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+bg.replace(/\./g,"-")]=1,(0,x.uI)()?e["framework.cordova"]=1:(0,x.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=_f.getInstance().currentlyOnline();return(0,x.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ht{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Ht(t,e)}}class tc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new Ht(Sl,t),a=new Ht(Sl,e);return 0!==this.compare(r,a)}minPost(){return Ht.MIN}}class fy extends tc{static get __EMPTY_NODE(){return hy}static set __EMPTY_NODE(t){hy=t}compare(t,e){return Ju(t.name,e.name)}isDefinedOn(t){throw(0,x.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Ht.MIN}maxPost(){return new Ht(va,hy)}makePost(t,e){return(0,x.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ht(t,hy)}toString(){return".key"}}const Hi=new fy;class vf{constructor(t,e,r,a,u=null){this.isReverse_=a,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(f=e?r(t.key,e):1,a&&(f*=-1),f<0)t=this.isReverse_?t.left:t.right;else{if(0===f){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Pg,os=(()=>{class n{constructor(e,r,a,u,f){this.key=e,this.value=r,this.color=a??n.RED,this.left=u??Gr.EMPTY_NODE,this.right=f??Gr.EMPTY_NODE}copy(e,r,a,u,f){return new n(e??this.key,r??this.value,a??this.color,u??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let u=this;const f=a(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,r,a),null):0===f?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,a)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return Gr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let a,u;if(a=this,r(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===r(e,a.key)){if(a.right.isEmpty())return Gr.EMPTY_NODE;u=a.right.min_(),a=a.copy(u.key,u.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Gr{constructor(t,e=Gr.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Gr(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,os.BLACK,null,null))}remove(t){return new Gr(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,os.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,a=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return a?a.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(a=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new vf(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new vf(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new vf(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new vf(this.root_,null,this.comparator_,!0,t)}}function rw(n,t){return Ju(n.name,t.name)}function py(n,t){return Ju(n,t)}Gr.EMPTY_NODE=new class lT{copy(t,e,r,a,u){return this}insert(t,e,r){return new os(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const iw=function(n){return"number"==typeof n?"number:"+q_(n):"string:"+n},sw=function(n){if(n.isLeafNode()){const t=n.val();(0,x.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,x.r3)(t,".sv"),"Priority must be a string or number.")}else(0,x.hu)(n===Pg||n.isEmpty(),"priority of unexpected type.");(0,x.hu)(n===Pg||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ow,aw,SD,Ea=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,x.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),sw(this.priorityNode_)}static set __childrenNodeConstructor(e){ow=e}static get __childrenNodeConstructor(){return ow}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Lt(e)?this:".priority"===Ft(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const a=Ft(e);return null===a?r:r.isEmpty()&&".priority"!==a?this:((0,x.hu)(".priority"!==a||1===Al(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(un(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+iw(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?q_(this.value_):this.value_,this.lazyHash_=z_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,x.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,a=typeof this.value_,u=n.VALUE_TYPE_ORDER.indexOf(r),f=n.VALUE_TYPE_ORDER.indexOf(a);return(0,x.hu)(u>=0,"Unknown leaf type: "+r),(0,x.hu)(f>=0,"Unknown leaf type: "+a),u===f?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:f-u}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const mn=new class TD extends tc{compare(t,e){const r=t.node.getPriority(),a=e.node.getPriority(),u=r.compareTo(a);return 0===u?Ju(t.name,e.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Ht.MIN}maxPost(){return new Ht(va,new Ea("[PRIORITY-POST]",SD))}makePost(t,e){const r=aw(t);return new Ht(e,new Ea("[PRIORITY-POST]",r))}toString(){return".priority"}},AD=Math.log(2);class hT{constructor(t){this.count=parseInt(Math.log(t+1)/AD,10),this.current_=this.count-1;const a=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ng=function(n,t,e,r){n.sort(t);const a=function(C,I){const P=I-C;let N,$;if(0===P)return null;if(1===P)return N=n[C],$=e?e(N):N,new os($,N.node,os.BLACK,null,null);{const K=parseInt(P/2,10)+C,X=a(C,K),Se=a(K+1,I);return N=n[K],$=e?e(N):N,new os($,N.node,os.BLACK,X,Se)}},y=function(C){let I=null,P=null,N=n.length;const $=function(X,Se){const je=N-X,tt=N;N-=X;const Dt=a(je+1,tt),qt=n[je],Ot=e?e(qt):qt;K(new os(Ot,qt.node,Se,null,Dt))},K=function(X){I?(I.left=X,I=X):(P=X,I=X)};for(let X=0;X<C.count;++X){const Se=C.nextBitIsOne(),je=Math.pow(2,C.count-(X+1));Se?$(je,os.BLACK):($(je,os.BLACK),$(je,os.RED))}return P}(new hT(n.length));return new Gr(r||t,y)};let Og;const nc={};class Ml{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,x.hu)(nc&&mn,"ChildrenNode.ts has not been loaded"),Og=Og||new Ml({".priority":nc},{".priority":mn}),Og}get(t){const e=(0,x.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Gr?e:null}hasIndex(t){return(0,x.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,x.hu)(t!==Hi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let a=!1;const u=e.getIterator(Ht.Wrap);let y,f=u.getNext();for(;f;)a=a||t.isDefinedOn(f.node),r.push(f),f=u.getNext();y=a?Ng(r,t.getCompare()):nc;const C=t.toString(),I=Object.assign({},this.indexSet_);I[C]=t;const P=Object.assign({},this.indexes_);return P[C]=y,new Ml(P,I)}addToIndexes(t,e){const r=(0,x.UI)(this.indexes_,(a,u)=>{const f=(0,x.DV)(this.indexSet_,u);if((0,x.hu)(f,"Missing index implementation for "+u),a===nc){if(f.isDefinedOn(t.node)){const y=[],C=e.getIterator(Ht.Wrap);let I=C.getNext();for(;I;)I.name!==t.name&&y.push(I),I=C.getNext();return y.push(t),Ng(y,f.getCompare())}return nc}{const y=e.get(t.name);let C=a;return y&&(C=C.remove(new Ht(t.name,y))),C.insert(t,t.node)}});return new Ml(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,x.UI)(this.indexes_,a=>{if(a===nc)return a;{const u=e.get(t.name);return u?a.remove(new Ht(t.name,u)):a}});return new Ml(r,this.indexSet_)}}let ai,Nt=(()=>{class n{constructor(e,r,a){this.children_=e,this.priorityNode_=r,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&sw(this.priorityNode_),this.children_.isEmpty()&&(0,x.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ai||(ai=new n(new Gr(py),null,Ml.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ai}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?ai:r}}getChild(e){const r=Ft(e);return null===r?this:this.getImmediateChild(r).getChild(un(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,x.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const a=new Ht(e,r);let u,f;r.isEmpty()?(u=this.children_.remove(e),f=this.indexMap_.removeFromIndexes(a,this.children_)):(u=this.children_.insert(e,r),f=this.indexMap_.addToIndexes(a,this.children_));const y=u.isEmpty()?ai:this.priorityNode_;return new n(u,y,f)}}updateChild(e,r){const a=Ft(e);if(null===a)return r;{(0,x.hu)(".priority"!==Ft(e)||1===Al(e),".priority must be the last token in a path");const u=this.getImmediateChild(a).updateChild(un(e),r);return this.updateImmediateChild(a,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let a=0,u=0,f=!0;if(this.forEachChild(mn,(y,C)=>{r[y]=C.val(e),a++,f&&n.INTEGER_REGEXP_.test(y)?u=Math.max(u,Number(y)):f=!1}),!e&&f&&u<2*a){const y=[];for(const C in r)y[C]=r[C];return y}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+iw(this.getPriority().val())+":"),this.forEachChild(mn,(r,a)=>{const u=a.hash();""!==u&&(e+=":"+r+":"+u)}),this.lazyHash_=""===e?"":z_(e)}return this.lazyHash_}getPredecessorChildName(e,r,a){const u=this.resolveIndex_(a);if(u){const f=u.getPredecessorKey(new Ht(e,r));return f?f.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new Ht(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new Ht(r,this.children_.get(r)):null}forEachChild(e,r){const a=this.resolveIndex_(e);return a?a.inorderTraversal(u=>r(u.name,u.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getIteratorFrom(e,u=>u);{const u=this.children_.getIteratorFrom(e.name,Ht.Wrap);let f=u.peek();for(;null!=f&&r.compare(f,e)<0;)u.getNext(),f=u.peek();return u}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getReverseIteratorFrom(e,u=>u);{const u=this.children_.getReverseIteratorFrom(e.name,Ht.Wrap);let f=u.peek();for(;null!=f&&r.compare(f,e)>0;)u.getNext(),f=u.peek();return u}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ef?-1:0}withIndex(e){if(e===Hi||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Hi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const a=this.getIterator(mn),u=r.getIterator(mn);let f=a.getNext(),y=u.getNext();for(;f&&y;){if(f.name!==y.name||!f.node.equals(y.node))return!1;f=a.getNext(),y=u.getNext()}return null===f&&null===y}return!1}return!1}}resolveIndex_(e){return e===Hi?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Ef=new class gy extends Nt{constructor(){super(new Gr(py),Nt.EMPTY_NODE,Ml.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Nt.EMPTY_NODE}isEmpty(){return!1}};function Wt(n,t=null){if(null===n)return Nt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,x.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Ea(n,Wt(t));if(n instanceof Array){let e=Nt.EMPTY_NODE;return rr(n,(r,a)=>{if((0,x.r3)(n,r)&&"."!==r.substring(0,1)){const u=Wt(a);(u.isLeafNode()||!u.isEmpty())&&(e=e.updateImmediateChild(r,u))}}),e.updatePriority(Wt(t))}{const e=[];let r=!1;if(rr(n,(f,y)=>{if("."!==f.substring(0,1)){const C=Wt(y);C.isEmpty()||(r=r||!C.getPriority().isEmpty(),e.push(new Ht(f,C)))}}),0===e.length)return Nt.EMPTY_NODE;const u=Ng(e,rw,f=>f.name,py);if(r){const f=Ng(e,mn.getCompare());return new Nt(u,Wt(t),new Ml({".priority":f},{".priority":mn}))}return new Nt(u,Wt(t),Ml.Default)}}Object.defineProperties(Ht,{MIN:{value:new Ht(Sl,Nt.EMPTY_NODE)},MAX:{value:new Ht(va,Ef)}}),fy.__EMPTY_NODE=Nt.EMPTY_NODE,Ea.__childrenNodeConstructor=Nt,function uT(n){Pg=n}(Ef),function dT(n){SD=n}(Ef),function cT(n){aw=n}(Wt);class my extends tc{constructor(t){super(),this.indexPath_=t,(0,x.hu)(!Lt(t)&&".priority"!==Ft(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),a=this.extractChild(e.node),u=r.compareTo(a);return 0===u?Ju(t.name,e.name):u}makePost(t,e){const r=Wt(t),a=Nt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ht(e,a)}maxPost(){const t=Nt.EMPTY_NODE.updateChild(this.indexPath_,Ef);return new Ht(va,t)}toString(){return yf(this.indexPath_,0).join("/")}}const yy=new class _y extends tc{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?Ju(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Ht.MIN}maxPost(){return Ht.MAX}makePost(t,e){const r=Wt(t);return new Ht(e,r)}toString(){return".value"}};function lw(n){return{type:"value",snapshotNode:n}}function Rl(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Vd(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Bd(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class kg{constructor(t){this.index_=t}updateChild(t,e,r,a,u,f){(0,x.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const y=t.getImmediateChild(e);return y.getChild(a).equals(r.getChild(a))&&y.isEmpty()===r.isEmpty()||(null!=f&&(r.isEmpty()?t.hasChild(e)?f.trackChildChange(Vd(e,y)):(0,x.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):y.isEmpty()?f.trackChildChange(Rl(e,r)):f.trackChildChange(Bd(e,r,y))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(mn,(a,u)=>{e.hasChild(a)||r.trackChildChange(Vd(a,u))}),e.isLeafNode()||e.forEachChild(mn,(a,u)=>{if(t.hasChild(a)){const f=t.getImmediateChild(a);f.equals(u)||r.trackChildChange(Bd(a,u,f))}else r.trackChildChange(Rl(a,u))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Nt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Hd{constructor(t){this.indexedFilter_=new kg(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Hd.getStartPost_(t),this.endPost_=Hd.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&r}updateChild(t,e,r,a,u,f){return this.matches(new Ht(e,r))||(r=Nt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,a,u,f)}updateFullNode(t,e,r){e.isLeafNode()&&(e=Nt.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(Nt.EMPTY_NODE);const u=this;return e.forEachChild(mn,(f,y)=>{u.matches(new Ht(f,y))||(a=a.updateImmediateChild(f,Nt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class RD{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=e=>{const r=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Hd(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,r,a,u,f){return this.rangedFilter_.matches(new Ht(e,r))||(r=Nt.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,a,u,f):this.fullLimitUpdateChild_(t,e,r,u,f)}updateFullNode(t,e,r){let a;if(e.isLeafNode()||e.isEmpty())a=Nt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let u;a=Nt.EMPTY_NODE.withIndex(this.index_),u=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const y=u.getNext();if(this.withinDirectionalStart(y)){if(!this.withinDirectionalEnd(y))break;a=a.updateImmediateChild(y.name,y.node),f++}}}else{let u;a=e.withIndex(this.index_),a=a.updatePriority(Nt.EMPTY_NODE),u=this.reverse_?a.getReverseIterator(this.index_):a.getIterator(this.index_);let f=0;for(;u.hasNext();){const y=u.getNext();f<this.limit_&&this.withinDirectionalStart(y)&&this.withinDirectionalEnd(y)?f++:a=a.updateImmediateChild(y.name,Nt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,a,u){let f;if(this.reverse_){const N=this.index_.getCompare();f=($,K)=>N(K,$)}else f=this.index_.getCompare();const y=t;(0,x.hu)(y.numChildren()===this.limit_,"");const C=new Ht(e,r),I=this.reverse_?y.getFirstChild(this.index_):y.getLastChild(this.index_),P=this.rangedFilter_.matches(C);if(y.hasChild(e)){const N=y.getImmediateChild(e);let $=a.getChildAfterChild(this.index_,I,this.reverse_);for(;null!=$&&($.name===e||y.hasChild($.name));)$=a.getChildAfterChild(this.index_,$,this.reverse_);const K=null==$?1:f($,C);if(P&&!r.isEmpty()&&K>=0)return u?.trackChildChange(Bd(e,r,N)),y.updateImmediateChild(e,r);{u?.trackChildChange(Vd(e,N));const Se=y.updateImmediateChild(e,Nt.EMPTY_NODE);return null!=$&&this.rangedFilter_.matches($)?(u?.trackChildChange(Rl($.name,$.node)),Se.updateImmediateChild($.name,$.node)):Se}}return r.isEmpty()?t:P&&f(I,C)>=0?(null!=u&&(u.trackChildChange(Vd(I.name,I.node)),u.trackChildChange(Rl(e,r))),y.updateImmediateChild(e,r).updateImmediateChild(I.name,Nt.EMPTY_NODE)):t}}class Cf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=mn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,x.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,x.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Sl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,x.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,x.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:va}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,x.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===mn}copy(){const t=new Cf;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function xg(n,t,e){const r=n.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function Us(n,t,e){const r=n.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function Cy(n,t){const e=n.copy();return e.index_=t,e}function uw(n){const t={};if(n.isDefault())return t;let e;if(n.index_===mn?e="$priority":n.index_===yy?e="$value":n.index_===Hi?e="$key":((0,x.hu)(n.index_ instanceof my,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,x.Wl)(e),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";t[r]=(0,x.Wl)(n.indexStartValue_),n.startNameSet_&&(t[r]+=","+(0,x.Wl)(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";t[r]=(0,x.Wl)(n.indexEndValue_),n.endNameSet_&&(t[r]+=","+(0,x.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function cw(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==mn&&(t.i=n.index_.toString()),t}class Fg extends Xu{constructor(t,e,r,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=a,this.log_=rf("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,x.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,a){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const f=Fg.getListenId_(t,r),y={};this.listens_[f]=y;const C=uw(t._queryParams);this.restRequest_(u+".json",C,(I,P)=>{let N=P;if(404===I&&(N=null,I=null),null===I&&this.onDataUpdate_(u,N,!1,r),(0,x.DV)(this.listens_,f)===y){let $;$=I?401===I?"permission_denied":"rest_error:"+I:"ok",a($,null)}})}unlisten(t,e){const r=Fg.getListenId_(t,e);delete this.listens_[r]}get(t){const e=uw(t._queryParams),r=t._path.toString(),a=new x.BH;return this.restRequest_(r+".json",e,(u,f)=>{let y=f;404===u&&(y=null,u=null),null===u?(this.onDataUpdate_(r,y,!1,null),a.resolve(y)):a.reject(new Error(y))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,u])=>{a&&a.accessToken&&(e.auth=a.accessToken),u&&u.token&&(e.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,x.xO)(e);this.log_("Sending REST request for "+f);const y=new XMLHttpRequest;y.onreadystatechange=()=>{if(r&&4===y.readyState){this.log_("REST Response for "+f+" received. status:",y.status,"response:",y.responseText);let C=null;if(y.status>=200&&y.status<300){try{C=(0,x.cI)(y.responseText)}catch{$r("Failed to parse JSON response for "+f+": "+y.responseText)}r(null,C)}else 401!==y.status&&404!==y.status&&$r("Got unsuccessful REST response for "+f+" Status: "+y.status),r(y.status);r=null}},y.open("GET",f,!0),y.send()})}}class OD{constructor(){this.rootNode_=Nt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function wf(){return{value:null,children:new Map}}function bf(n,t,e){if(Lt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=Ft(t);n.children.has(r)||n.children.set(r,wf()),bf(n.children.get(r),t=un(t),e)}}function Lg(n,t){if(Lt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(mn,(r,a)=>{bf(n,new tn(r),a)}),Lg(n,t)}}if(n.children.size>0){const e=Ft(t);return t=un(t),n.children.has(e)&&Lg(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function wy(n,t,e){null!==n.value?e(t,n.value):function dw(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,a)=>{wy(a,new tn(t.toString()+"/"+r),e)})}class pT{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&rr(this.last_,(r,a)=>{e[r]=e[r]-a}),this.last_=t,e}}class pw{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new pT(t);const r=1e4+2e4*Math.random();lf(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;rr(t,(a,u)=>{u>0&&(0,x.r3)(this.statsToReport_,a)&&(e[a]=u,r=!0)}),r&&this.server_.reportStats(e),lf(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ji=(()=>{return(n=ji||(ji={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",ji;var n})();function $d(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Df{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=ji.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Lt(this.path)){if(null!=this.affectedTree.value)return(0,x.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new tn(t));return new Df(Qt(),e,this.revert)}}return(0,x.hu)(Ft(this.path)===t,"operationForChild called for unrelated child."),new Df(un(this.path),this.affectedTree,this.revert)}}class If{constructor(t,e){this.source=t,this.path=e,this.type=ji.LISTEN_COMPLETE}operationForChild(t){return Lt(this.path)?new If(this.source,Qt()):new If(this.source,un(this.path))}}class rc{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=ji.OVERWRITE}operationForChild(t){return Lt(this.path)?new rc(this.source,Qt(),this.snap.getImmediateChild(t)):new rc(this.source,un(this.path),this.snap)}}class Sf{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=ji.MERGE}operationForChild(t){if(Lt(this.path)){const e=this.children.subtree(new tn(t));return e.isEmpty()?null:e.value?new rc(this.source,Qt(),e.value):new Sf(this.source,Qt(),e)}return(0,x.hu)(Ft(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Sf(this.source,un(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ic{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Lt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Ft(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class gT{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Tf(n,t,e,r,a,u){const f=r.filter(y=>y.type===e);f.sort((y,C)=>function xD(n,t,e){if(null==t.childName||null==e.childName)throw(0,x.g5)("Should only compare child_ events.");const r=new Ht(t.childName,t.snapshotNode),a=new Ht(e.childName,e.snapshotNode);return n.index_.compare(r,a)}(n,y,C)),f.forEach(y=>{const C=function kD(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,y,u);a.forEach(I=>{I.respondsTo(y.type)&&t.push(I.createEvent(C,n.query_))})})}function by(n,t){return{eventCache:n,serverCache:t}}function Bg(n,t,e,r){return by(new ic(t,e,r),n.serverCache)}function FD(n,t,e,r){return by(n.eventCache,new ic(t,e,r))}function Dy(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Gd(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Iy;class _n{constructor(t,e=(()=>(Iy||(Iy=new Gr(sf)),Iy))()){this.value=t,this.children=e}static fromObject(t){let e=new _n(null);return rr(t,(r,a)=>{e=e.set(new tn(r),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Qt(),value:this.value};if(Lt(t))return null;{const r=Ft(t),a=this.children.get(r);if(null!==a){const u=a.findRootMostMatchingPathAndValue(un(t),e);return null!=u?{path:vn(new tn(r),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Lt(t))return this;{const e=Ft(t),r=this.children.get(e);return null!==r?r.subtree(un(t)):new _n(null)}}set(t,e){if(Lt(t))return new _n(e,this.children);{const r=Ft(t),u=(this.children.get(r)||new _n(null)).set(un(t),e),f=this.children.insert(r,u);return new _n(this.value,f)}}remove(t){if(Lt(t))return this.children.isEmpty()?new _n(null):new _n(null,this.children);{const e=Ft(t),r=this.children.get(e);if(r){const a=r.remove(un(t));let u;return u=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&u.isEmpty()?new _n(null):new _n(this.value,u)}return this}}get(t){if(Lt(t))return this.value;{const e=Ft(t),r=this.children.get(e);return r?r.get(un(t)):null}}setTree(t,e){if(Lt(t))return e;{const r=Ft(t),u=(this.children.get(r)||new _n(null)).setTree(un(t),e);let f;return f=u.isEmpty()?this.children.remove(r):this.children.insert(r,u),new _n(this.value,f)}}fold(t){return this.fold_(Qt(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((a,u)=>{r[a]=u.fold_(vn(t,a),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,Qt(),e)}findOnPath_(t,e,r){const a=!!this.value&&r(e,this.value);if(a)return a;if(Lt(t))return null;{const u=Ft(t),f=this.children.get(u);return f?f.findOnPath_(un(t),vn(e,u),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Qt(),e)}foreachOnPath_(t,e,r){if(Lt(t))return this;{this.value&&r(e,this.value);const a=Ft(t),u=this.children.get(a);return u?u.foreachOnPath_(un(t),vn(e,a),r):new _n(null)}}foreach(t){this.foreach_(Qt(),t)}foreach_(t,e){this.children.inorderTraversal((r,a)=>{a.foreach_(vn(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class Vs{constructor(t){this.writeTree_=t}static empty(){return new Vs(new _n(null))}}function zd(n,t,e){if(Lt(t))return new Vs(new _n(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const a=r.path;let u=r.value;const f=oi(a,t);return u=u.updateChild(f,e),new Vs(n.writeTree_.set(a,u))}{const a=new _n(e),u=n.writeTree_.setTree(t,a);return new Vs(u)}}}function Ca(n,t,e){let r=n;return rr(e,(a,u)=>{r=zd(r,vn(t,a),u)}),r}function Sy(n,t){if(Lt(t))return Vs.empty();{const e=n.writeTree_.setTree(t,new _n(null));return new Vs(e)}}function Af(n,t){return null!=wa(n,t)}function wa(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(oi(e.path,t)):null}function mw(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(mn,(r,a)=>{t.push(new Ht(r,a))}):n.writeTree_.children.inorderTraversal((r,a)=>{null!=a.value&&t.push(new Ht(r,a.value))}),t}function Io(n,t){if(Lt(t))return n;{const e=wa(n,t);return new Vs(null!=e?new _n(e):n.writeTree_.subtree(t))}}function Mf(n){return n.writeTree_.isEmpty()}function ba(n,t){return LD(Qt(),n.writeTree_,t)}function LD(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((a,u)=>{".priority"===a?((0,x.hu)(null!==u.value,"Priority writes must always be leaf nodes"),r=u.value):e=LD(vn(n,a),u,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(vn(n,".priority"),r)),e}}function Ty(n,t){return bw(t,n)}function VD(n,t){if(n.snap)return Bi(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Bi(vn(n.path,e),t))return!0;return!1}function HD(n){return n.visible}function Ay(n,t,e){let r=Vs.empty();for(let a=0;a<n.length;++a){const u=n[a];if(t(u)){const f=u.path;let y;if(u.snap)Bi(e,f)?(y=oi(e,f),r=zd(r,y,u.snap)):Bi(f,e)&&(y=oi(f,e),r=zd(r,Qt(),u.snap.getChild(y)));else{if(!u.children)throw(0,x.g5)("WriteRecord should have .snap or .children");if(Bi(e,f))y=oi(e,f),r=Ca(r,y,u.children);else if(Bi(f,e))if(y=oi(f,e),Lt(y))r=Ca(r,Qt(),u.children);else{const C=(0,x.DV)(u.children,Ft(y));if(C){const I=C.getChild(un(y));r=zd(r,Qt(),I)}}}}}return r}function My(n,t,e,r,a){if(r||a){const u=Io(n.visibleWrites,t);return!a&&Mf(u)?e:a||null!=e||Af(u,Qt())?ba(Ay(n.allWrites,function(I){return(I.visible||a)&&(!r||!~r.indexOf(I.writeId))&&(Bi(I.path,t)||Bi(t,I.path))},t),e||Nt.EMPTY_NODE):null}{const u=wa(n.visibleWrites,t);if(null!=u)return u;{const f=Io(n.visibleWrites,t);return Mf(f)?e:null!=e||Af(f,Qt())?ba(f,e||Nt.EMPTY_NODE):null}}}function Rf(n,t,e,r){return My(n.writeTree,n.treePath,t,e,r)}function Pf(n,t){return function yw(n,t,e){let r=Nt.EMPTY_NODE;const a=wa(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(mn,(u,f)=>{r=r.updateImmediateChild(u,f)}),r;if(e){const u=Io(n.visibleWrites,t);return e.forEachChild(mn,(f,y)=>{const C=ba(Io(u,new tn(f)),y);r=r.updateImmediateChild(f,C)}),mw(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}return mw(Io(n.visibleWrites,t)).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}(n.writeTree,n.treePath,t)}function Ew(n,t,e,r){return function jD(n,t,e,r,a){(0,x.hu)(r||a,"Either existingEventSnap or existingServerSnap must exist");const u=vn(t,e);if(Af(n.visibleWrites,u))return null;{const f=Io(n.visibleWrites,u);return Mf(f)?a.getChild(e):ba(f,a.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function jg(n,t){return function vw(n,t){return wa(n.visibleWrites,t)}(n.writeTree,vn(n.treePath,t))}function Cw(n,t,e){return function $D(n,t,e,r){const a=vn(t,e),u=wa(n.visibleWrites,a);return null!=u?u:r.isCompleteForChild(e)?ba(Io(n.visibleWrites,a),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function ww(n,t){return bw(vn(n.treePath,t),n.writeTree)}function bw(n,t){return{treePath:n,writeTree:t}}class GD{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,x.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,x.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(r);if(a){const u=a.type;if("child_added"===e&&"child_removed"===u)this.changeMap.set(r,Bd(r,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===u)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===u)this.changeMap.set(r,Vd(r,a.oldSnap));else if("child_changed"===e&&"child_added"===u)this.changeMap.set(r,Rl(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==u)throw(0,x.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(r,Bd(r,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const zD=new class ET{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class Dw{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new ic(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Cw(this.writes_,t,r)}}getChildAfterChild(t,e,r){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Gd(this.viewCache_),u=function vT(n,t,e,r,a,u){return function Ry(n,t,e,r,a,u,f){let y;const C=Io(n.visibleWrites,t),I=wa(C,Qt());if(null!=I)y=I;else{if(null==e)return[];y=ba(C,e)}if(y=y.withIndex(f),y.isEmpty()||y.isLeafNode())return[];{const P=[],N=f.getCompare(),$=u?y.getReverseIteratorFrom(r,f):y.getIteratorFrom(r,f);let K=$.getNext();for(;K&&P.length<a;)0!==N(K,r)&&P.push(K),K=$.getNext();return P}}(n.writeTree,n.treePath,t,e,r,a,u)}(this.writes_,a,e,1,r,t);return 0===u.length?null:u[0]}}function ZD(n,t,e,r,a,u){const f=t.eventCache;if(null!=jg(r,e))return t;{let y,C;if(Lt(e))if((0,x.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const I=Gd(t),N=Pf(r,I instanceof Nt?I:Nt.EMPTY_NODE);y=n.filter.updateFullNode(t.eventCache.getNode(),N,u)}else{const I=Rf(r,Gd(t));y=n.filter.updateFullNode(t.eventCache.getNode(),I,u)}else{const I=Ft(e);if(".priority"===I){(0,x.hu)(1===Al(e),"Can't have a priority with additional path components");const P=f.getNode();C=t.serverCache.getNode();const N=Ew(r,e,P,C);y=null!=N?n.filter.updatePriority(P,N):f.getNode()}else{const P=un(e);let N;if(f.isCompleteForChild(I)){C=t.serverCache.getNode();const $=Ew(r,e,f.getNode(),C);N=null!=$?f.getNode().getImmediateChild(I).updateChild(P,$):f.getNode().getImmediateChild(I)}else N=Cw(r,I,t.serverCache);y=null!=N?n.filter.updateChild(f.getNode(),I,N,P,a,u):f.getNode()}}return Bg(t,y,f.isFullyInitialized()||Lt(e),n.filter.filtersNodes())}}function Py(n,t,e,r,a,u,f,y){const C=t.serverCache;let I;const P=f?n.filter:n.filter.getIndexedFilter();if(Lt(e))I=P.updateFullNode(C.getNode(),r,null);else if(P.filtersNodes()&&!C.isFiltered()){const K=C.getNode().updateChild(e,r);I=P.updateFullNode(C.getNode(),K,null)}else{const K=Ft(e);if(!C.isCompleteForPath(e)&&Al(e)>1)return t;const X=un(e),je=C.getNode().getImmediateChild(K).updateChild(X,r);I=".priority"===K?P.updatePriority(C.getNode(),je):P.updateChild(C.getNode(),K,je,X,zD,null)}const N=FD(t,I,C.isFullyInitialized()||Lt(e),P.filtersNodes());return ZD(n,N,e,a,new Dw(a,N,u),y)}function Iw(n,t,e,r,a,u,f){const y=t.eventCache;let C,I;const P=new Dw(a,t,u);if(Lt(e))I=n.filter.updateFullNode(t.eventCache.getNode(),r,f),C=Bg(t,I,!0,n.filter.filtersNodes());else{const N=Ft(e);if(".priority"===N)I=n.filter.updatePriority(t.eventCache.getNode(),r),C=Bg(t,I,y.isFullyInitialized(),y.isFiltered());else{const $=un(e),K=y.getNode().getImmediateChild(N);let X;if(Lt($))X=r;else{const Se=P.getCompleteChild(N);X=null!=Se?".priority"===Rg($)&&Se.getChild(cy($)).isEmpty()?Se:Se.updateChild($,r):Nt.EMPTY_NODE}C=K.equals(X)?t:Bg(t,n.filter.updateChild(y.getNode(),N,X,$,P,f),y.isFullyInitialized(),n.filter.filtersNodes())}}return C}function qD(n,t){return n.eventCache.isCompleteForChild(t)}function i(n,t,e){return e.foreach((r,a)=>{t=t.updateChild(r,a)}),t}function s(n,t,e,r,a,u,f,y){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let I,C=t;I=Lt(e)?r:new _n(null).setTree(e,r);const P=t.serverCache.getNode();return I.children.inorderTraversal((N,$)=>{if(P.hasChild(N)){const X=i(0,t.serverCache.getNode().getImmediateChild(N),$);C=Py(n,C,new tn(N),X,a,u,f,y)}}),I.children.inorderTraversal((N,$)=>{const K=!t.serverCache.isCompleteForChild(N)&&null===$.value;if(!P.hasChild(N)&&!K){const Se=i(0,t.serverCache.getNode().getImmediateChild(N),$);C=Py(n,C,new tn(N),Se,a,u,f,y)}}),C}class p{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,a=new kg(r.getIndex()),u=function PD(n){return n.loadsAllData()?new kg(n.getIndex()):n.hasLimit()?new RD(n):new Hd(n)}(r);this.processor_=function CT(n){return{filter:n}}(u);const f=e.serverCache,y=e.eventCache,C=a.updateFullNode(Nt.EMPTY_NODE,f.getNode(),null),I=u.updateFullNode(Nt.EMPTY_NODE,y.getNode(),null),P=new ic(C,f.isFullyInitialized(),a.filtersNodes()),N=new ic(I,y.isFullyInitialized(),u.filtersNodes());this.viewCache_=by(N,P),this.eventGenerator_=new gT(this.query_)}get query(){return this.query_}}function w(n,t){const e=Gd(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Lt(t)&&!e.getImmediateChild(Ft(t)).isEmpty())?e.getChild(t):null}function S(n){return 0===n.eventRegistrations_.length}function F(n,t,e){const r=[];if(e){(0,x.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(e,a);f&&r.push(f)})}if(t){let a=[];for(let u=0;u<n.eventRegistrations_.length;++u){const f=n.eventRegistrations_[u];if(f.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(u+1));break}}else a.push(f)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return r}function G(n,t,e,r){t.type===ji.MERGE&&null!==t.source.queryId&&((0,x.hu)(Gd(n.viewCache_),"We should always have a full cache before handling merges"),(0,x.hu)(Dy(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,u=function WD(n,t,e,r,a){const u=new GD;let f,y;if(e.type===ji.OVERWRITE){const I=e;I.source.fromUser?f=Iw(n,t,I.path,I.snap,r,a,u):((0,x.hu)(I.source.fromServer,"Unknown source."),y=I.source.tagged||t.serverCache.isFiltered()&&!Lt(I.path),f=Py(n,t,I.path,I.snap,r,a,y,u))}else if(e.type===ji.MERGE){const I=e;I.source.fromUser?f=function DT(n,t,e,r,a,u,f){let y=t;return r.foreach((C,I)=>{const P=vn(e,C);qD(t,Ft(P))&&(y=Iw(n,y,P,I,a,u,f))}),r.foreach((C,I)=>{const P=vn(e,C);qD(t,Ft(P))||(y=Iw(n,y,P,I,a,u,f))}),y}(n,t,I.path,I.children,r,a,u):((0,x.hu)(I.source.fromServer,"Unknown source."),y=I.source.tagged||t.serverCache.isFiltered(),f=s(n,t,I.path,I.children,r,a,y,u))}else if(e.type===ji.ACK_USER_WRITE){const I=e;f=I.revert?function d(n,t,e,r,a,u){let f;if(null!=jg(r,e))return t;{const y=new Dw(r,t,a),C=t.eventCache.getNode();let I;if(Lt(e)||".priority"===Ft(e)){let P;if(t.serverCache.isFullyInitialized())P=Rf(r,Gd(t));else{const N=t.serverCache.getNode();(0,x.hu)(N instanceof Nt,"serverChildren would be complete if leaf node"),P=Pf(r,N)}I=n.filter.updateFullNode(C,P,u)}else{const P=Ft(e);let N=Cw(r,P,t.serverCache);null==N&&t.serverCache.isCompleteForChild(P)&&(N=C.getImmediateChild(P)),I=null!=N?n.filter.updateChild(C,P,N,un(e),y,u):t.eventCache.getNode().hasChild(P)?n.filter.updateChild(C,P,Nt.EMPTY_NODE,un(e),y,u):C,I.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=Rf(r,Gd(t)),f.isLeafNode()&&(I=n.filter.updateFullNode(I,f,u)))}return f=t.serverCache.isFullyInitialized()||null!=jg(r,Qt()),Bg(t,I,f,n.filter.filtersNodes())}}(n,t,I.path,r,a,u):function o(n,t,e,r,a,u,f){if(null!=jg(a,e))return t;const y=t.serverCache.isFiltered(),C=t.serverCache;if(null!=r.value){if(Lt(e)&&C.isFullyInitialized()||C.isCompleteForPath(e))return Py(n,t,e,C.getNode().getChild(e),a,u,y,f);if(Lt(e)){let I=new _n(null);return C.getNode().forEachChild(Hi,(P,N)=>{I=I.set(new tn(P),N)}),s(n,t,e,I,a,u,y,f)}return t}{let I=new _n(null);return r.foreach((P,N)=>{const $=vn(e,P);C.isCompleteForPath($)&&(I=I.set(P,C.getNode().getChild($)))}),s(n,t,e,I,a,u,y,f)}}(n,t,I.path,I.affectedTree,r,a,u)}else{if(e.type!==ji.LISTEN_COMPLETE)throw(0,x.g5)("Unknown operation type: "+e.type);f=function l(n,t,e,r,a){const u=t.serverCache;return ZD(n,FD(t,u.getNode(),u.isFullyInitialized()||Lt(e),u.isFiltered()),e,r,zD,a)}(n,t,e.path,r,u)}const C=u.getChanges();return function bT(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const a=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Dy(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&e.push(lw(Dy(t)))}}(t,f,C),{viewCache:f,changes:C}}(n.processor_,a,t,e,r);return function wT(n,t){(0,x.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,x.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,u.viewCache),(0,x.hu)(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,fe(n,u.changes,u.viewCache.eventCache.getNode(),null)}function fe(n,t,e,r){return function gw(n,t,e,r){const a=[],u=[];return t.forEach(f=>{"child_changed"===f.type&&n.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(function MD(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(f.childName,f.snapshotNode))}),Tf(n,a,"child_removed",t,r,e),Tf(n,a,"child_added",t,r,e),Tf(n,a,"child_moved",u,r,e),Tf(n,a,"child_changed",t,r,e),Tf(n,a,"value",t,r,e),a}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let Me,Tw;class He{constructor(){this.views=new Map}}function bt(n,t,e,r){const a=t.source.queryId;if(null!==a){const u=n.views.get(a);return(0,x.hu)(null!=u,"SyncTree gave us an op for an invalid query."),G(u,t,e,r)}{let u=[];for(const f of n.views.values())u=u.concat(G(f,t,e,r));return u}}function En(n,t,e,r,a){const f=n.views.get(t._queryIdentifier);if(!f){let y=Rf(e,a?r:null),C=!1;y?C=!0:r instanceof Nt?(y=Pf(e,r),C=!1):(y=Nt.EMPTY_NODE,C=!1);const I=by(new ic(y,C,!1),new ic(r,a,!1));return new p(t,I)}return f}function ST(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Wd(n,t){let e=null;for(const r of n.views.values())e=e||w(r,t);return e}function TT(n,t){return t._queryParams.loadsAllData()?Sw(n):n.views.get(t._queryIdentifier)}function AT(n,t){return null!=TT(n,t)}function Zd(n){return null!=Sw(n)}function Sw(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let NM=1;class MT{constructor(t){this.listenProvider_=t,this.syncPointTree_=new _n(null),this.pendingWriteTree_=function yT(){return{visibleWrites:Vs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function KD(n,t,e,r,a){return function mT(n,t,e,r,a){(0,x.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:a}),a&&(n.visibleWrites=zd(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,a),a?$g(n,new rc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function qd(n,t,e=!1){const r=function _w(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function UD(n,t){const e=n.allWrites.findIndex(y=>y.writeId===t);(0,x.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let a=r.visible,u=!1,f=n.allWrites.length-1;for(;a&&f>=0;){const y=n.allWrites[f];y.visible&&(f>=e&&VD(y,r.path)?a=!1:Bi(r.path,y.path)&&(u=!0)),f--}return!!a&&(u?(function BD(n){n.visibleWrites=Ay(n.allWrites,HD,Qt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=Sy(n.visibleWrites,r.path):rr(r.children,C=>{n.visibleWrites=Sy(n.visibleWrites,vn(r.path,C))}),!0))}(n.pendingWriteTree_,t)){let u=new _n(null);return null!=r.snap?u=u.set(Qt(),!0):rr(r.children,f=>{u=u.set(new tn(f),!0)}),$g(n,new Df(r.path,u,e))}return[]}function Ny(n,t,e){return $g(n,new rc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Aw(n,t,e,r,a=!1){const u=t._path,f=n.syncPointTree_.get(u);let y=[];if(f&&("default"===t._queryIdentifier||AT(f,t))){const C=function IT(n,t,e,r){const a=t._queryIdentifier,u=[];let f=[];const y=Zd(n);if("default"===a)for(const[C,I]of n.views.entries())f=f.concat(F(I,e,r)),S(I)&&(n.views.delete(C),I.query._queryParams.loadsAllData()||u.push(I.query));else{const C=n.views.get(a);C&&(f=f.concat(F(C,e,r)),S(C)&&(n.views.delete(a),C.query._queryParams.loadsAllData()||u.push(C.query)))}return y&&!Zd(n)&&u.push(new(function _t(){return(0,x.hu)(Me,"Reference.ts has not been loaded"),Me}())(t._repo,t._path)),{removed:u,events:f}}(f,t,e,r);(function Te(n){return 0===n.views.size})(f)&&(n.syncPointTree_=n.syncPointTree_.remove(u));const I=C.removed;if(y=C.events,!a){const P=-1!==I.findIndex($=>$._queryParams.loadsAllData()),N=n.syncPointTree_.findOnPath(u,($,K)=>Zd(K));if(P&&!N){const $=n.syncPointTree_.subtree(u);if(!$.isEmpty()){const K=function VM(n){return n.fold((t,e,r)=>{if(e&&Zd(e))return[Sw(e)];{let a=[];return e&&(a=ST(e)),rr(r,(u,f)=>{a=a.concat(f)}),a}})}($);for(let X=0;X<K.length;++X){const Se=K[X],je=Se.query,tt=OT(n,Se);n.listenProvider_.startListening(ky(je),Oy(n,je),tt.hashFn,tt.onComplete)}}}!N&&I.length>0&&!r&&(P?n.listenProvider_.stopListening(ky(t),null):I.forEach($=>{const K=n.queryToTagMap.get(Rw($));n.listenProvider_.stopListening(ky($),K)}))}!function BM(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const a=Rw(r),u=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(u)}}}(n,I)}return y}function RT(n,t,e,r){const a=QD(n,r);if(null!=a){const u=JD(a),f=u.path,y=u.queryId,C=oi(f,t);return XD(n,f,new rc($d(y),C,e))}return[]}function YD(n,t,e,r=!1){const a=t._path;let u=null,f=!1;n.syncPointTree_.foreachOnPath(a,($,K)=>{const X=oi($,a);u=u||Wd(K,X),f=f||Zd(K)});let C,y=n.syncPointTree_.get(a);y?(f=f||Zd(y),u=u||Wd(y,Qt())):(y=new He,n.syncPointTree_=n.syncPointTree_.set(a,y)),null!=u?C=!0:(C=!1,u=Nt.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((K,X)=>{const Se=Wd(X,Qt());Se&&(u=u.updateImmediateChild(K,Se))}));const I=AT(y,t);if(!I&&!t._queryParams.loadsAllData()){const $=Rw(t);(0,x.hu)(!n.queryToTagMap.has($),"View does not exist, but we have a tag");const K=function HM(){return NM++}();n.queryToTagMap.set($,K),n.tagToQueryMap.set(K,$)}let N=function Vn(n,t,e,r,a,u){const f=En(n,t,r,a,u);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,f),function M(n,t){n.eventRegistrations_.push(t)}(f,e),function Q(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(mn,(u,f)=>{r.push(Rl(u,f))}),e.isFullyInitialized()&&r.push(lw(e.getNode())),fe(n,r,e.getNode(),t)}(f,e)}(y,t,e,Ty(n.pendingWriteTree_,a),u,C);if(!I&&!f&&!r){const $=TT(y,t);N=N.concat(function jM(n,t,e){const r=t._path,a=Oy(n,t),u=OT(n,e),f=n.listenProvider_.startListening(ky(t),a,u.hashFn,u.onComplete),y=n.syncPointTree_.subtree(r);if(a)(0,x.hu)(!Zd(y.value),"If we're adding a query, it shouldn't be shadowed");else{const C=y.fold((I,P,N)=>{if(!Lt(I)&&P&&Zd(P))return[Sw(P).query];{let $=[];return P&&($=$.concat(ST(P).map(K=>K.query))),rr(N,(K,X)=>{$=$.concat(X)}),$}});for(let I=0;I<C.length;++I){const P=C[I];n.listenProvider_.stopListening(ky(P),Oy(n,P))}}return f}(n,t,$))}return N}function Mw(n,t,e){const a=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(t,(f,y)=>{const I=Wd(y,oi(f,t));if(I)return I});return My(a,t,u,e,!0)}function $g(n,t){return PT(t,n.syncPointTree_,null,Ty(n.pendingWriteTree_,Qt()))}function PT(n,t,e,r){if(Lt(n.path))return NT(n,t,e,r);{const a=t.get(Qt());null==e&&null!=a&&(e=Wd(a,Qt()));let u=[];const f=Ft(n.path),y=n.operationForChild(f),C=t.children.get(f);if(C&&y){const I=e?e.getImmediateChild(f):null,P=ww(r,f);u=u.concat(PT(y,C,I,P))}return a&&(u=u.concat(bt(a,n,r,e))),u}}function NT(n,t,e,r){const a=t.get(Qt());null==e&&null!=a&&(e=Wd(a,Qt()));let u=[];return t.children.inorderTraversal((f,y)=>{const C=e?e.getImmediateChild(f):null,I=ww(r,f),P=n.operationForChild(f);P&&(u=u.concat(NT(P,y,C,I)))}),a&&(u=u.concat(bt(a,n,r,e))),u}function OT(n,t){const e=t.query,r=Oy(n,e);return{hashFn:()=>(function _(n){return n.viewCache_.serverCache.getNode()}(t)||Nt.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return r?function FM(n,t,e){const r=QD(n,e);if(r){const a=JD(r),u=a.path,f=a.queryId,y=oi(u,t);return XD(n,u,new If($d(f),y))}return[]}(n,e._path,r):function xM(n,t){return $g(n,new If({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const u=function nT(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(a,e);return Aw(n,e,null,u)}}}}function Oy(n,t){const e=Rw(t);return n.queryToTagMap.get(e)}function Rw(n){return n._path.toString()+"$"+n._queryIdentifier}function QD(n,t){return n.tagToQueryMap.get(t)}function JD(n){const t=n.indexOf("$");return(0,x.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new tn(n.substr(0,t))}}function XD(n,t,e){const r=n.syncPointTree_.get(t);return(0,x.hu)(r,"Missing sync point for query tag that we're tracking"),bt(r,e,Ty(n.pendingWriteTree_,t),null)}function ky(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function PM(){return(0,x.hu)(Tw,"Reference.ts has not been loaded"),Tw}())(n._repo,n._path):n}class eI{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new eI(e)}node(){return this.node_}}class tI{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=vn(this.path_,t);return new tI(this.syncTree_,e)}node(){return Mw(this.syncTree_,this.path_)}}const kT=function(n,t,e){return n&&"object"==typeof n?((0,x.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?GM(n[".sv"],t,e):"object"==typeof n[".sv"]?zM(n[".sv"],t):void(0,x.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},GM=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,x.hu)(!1,"Unexpected server value: "+n)},zM=function(n,t,e){n.hasOwnProperty("increment")||(0,x.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,x.hu)(!1,"Unexpected increment value: "+r);const a=t.node();if((0,x.hu)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return r;const f=a.getValue();return"number"!=typeof f?r:f+r},xT=function(n,t,e,r){return rI(t,new tI(e,n),r)},nI=function(n,t,e){return rI(n,new eI(t),e)};function rI(n,t,e){const r=n.getPriority().val(),a=kT(r,t.getImmediateChild(".priority"),e);let u;if(n.isLeafNode()){const f=n,y=kT(f.getValue(),t,e);return y!==f.getValue()||a!==f.getPriority().val()?new Ea(y,Wt(a)):n}{const f=n;return u=f,a!==f.getPriority().val()&&(u=u.updatePriority(new Ea(a))),f.forEachChild(mn,(y,C)=>{const I=rI(C,t.getImmediateChild(y),e);I!==C&&(u=u.updateImmediateChild(y,I))}),u}}class iI{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function Pw(n,t){let e=t instanceof tn?t:new tn(t),r=n,a=Ft(e);for(;null!==a;){const u=(0,x.DV)(r.node.children,a)||{children:{},childCount:0};r=new iI(a,r,u),e=un(e),a=Ft(e)}return r}function Nf(n){return n.node.value}function sI(n,t){n.node.value=t,oI(n)}function FT(n){return n.node.childCount>0}function Nw(n,t){rr(n.node.children,(e,r)=>{t(new iI(e,n,r))})}function LT(n,t,e,r){e&&!r&&t(n),Nw(n,a=>{LT(a,t,!0,r)}),e&&r&&t(n)}function xy(n){return new tn(null===n.parent?n.name:xy(n.parent)+"/"+n.name)}function oI(n){null!==n.parent&&function qM(n,t,e){const r=function WM(n){return void 0===Nf(n)&&!FT(n)}(e),a=(0,x.r3)(n.node.children,t);r&&a?(delete n.node.children[t],n.node.childCount--,oI(n)):!r&&!a&&(n.node.children[t]=e.node,n.node.childCount++,oI(n))}(n.parent,n.name,n)}const KM=/[\[\].#$\/\u0000-\u001F\u007F]/,YM=/[\[\].#$\u0000-\u001F\u007F]/,aI=10485760,Ow=function(n){return"string"==typeof n&&0!==n.length&&!KM.test(n)},UT=function(n){return"string"==typeof n&&0!==n.length&&!YM.test(n)},Fy=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Dg(n)||n&&"object"==typeof n&&(0,x.r3)(n,".sv")},Nl=function(n,t,e,r){r&&void 0===t||Ly((0,x.gK)(n,"value"),t,e)},Ly=function(n,t,e){const r=e instanceof tn?new JC(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+ec(r));if("function"==typeof t)throw new Error(n+"contains a function "+ec(r)+" with contents = "+t.toString());if(Dg(t))throw new Error(n+"contains "+t.toString()+" "+ec(r));if("string"==typeof t&&t.length>aI/3&&(0,x.ug)(t)>aI)throw new Error(n+"contains a string greater than "+aI+" utf8 bytes "+ec(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,u=!1;if(rr(t,(f,y)=>{if(".value"===f)a=!0;else if(".priority"!==f&&".sv"!==f&&(u=!0,!Ow(f)))throw new Error(n+" contains an invalid key ("+f+") "+ec(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function XC(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,x.ug)(t),tw(n)})(r,f),Ly(n,y,r),function ew(n){const t=n.parts_.pop();n.byteLength_-=(0,x.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),a&&u)throw new Error(n+' contains ".value" child '+ec(r)+" in addition to actual children.")}},VT=function(n,t,e,r){if(r&&void 0===t)return;const a=(0,x.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const u=[];rr(t,(f,y)=>{const C=new tn(f);if(Ly(a,y,vn(e,C)),".priority"===Rg(C)&&!Fy(y))throw new Error(a+"contains an invalid value for '"+C.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(C)}),function(n,t){let e,r;for(e=0;e<t.length;e++){r=t[e];const u=yf(r);for(let f=0;f<u.length;f++)if((".priority"!==u[f]||f!==u.length-1)&&!Ow(u[f]))throw new Error(n+"contains an invalid key ("+u[f]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(QC);let a=null;for(e=0;e<t.length;e++){if(r=t[e],null!==a&&Bi(a,r))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,u)},lI=function(n,t,e){if(!e||void 0!==t){if(Dg(t))throw new Error((0,x.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Fy(t))throw new Error((0,x.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Uy=function(n,t,e,r){if(!(r&&void 0===e||Ow(e)))throw new Error((0,x.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Vy=function(n,t,e,r){if(!(r&&void 0===e||UT(e)))throw new Error((0,x.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},So=function(n,t){if(".info"===Ft(t))throw new Error(n+" failed = Can't modify data under /.info/")},BT=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Ow(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),UT(n)}(e))throw new Error((0,x.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class eR{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function kw(n,t){let e=null;for(let r=0;r<t.length;r++){const a=t[r],u=a.getPath();null!==e&&!dy(u,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:u}),e.events.push(a)}e&&n.eventLists_.push(e)}function HT(n,t,e){kw(n,e),jT(n,r=>dy(r,t))}function Bs(n,t,e){kw(n,e),jT(n,r=>Bi(r,t)||Bi(t,r))}function jT(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const a=n.eventLists_[r];a&&(t(a.path)?(tR(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function tR(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();Qu&&gr("event: "+e.toString()),Od(r)}}}const $T="repo_interrupt";class rR{constructor(t,e,r,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new eR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wf(),this.transactionQueueTree_=new iI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function GT(n){const e=n.infoData_.getNode(new tn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function By(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:GT(n)})}function zT(n,t,e,r,a){n.dataUpdateCount++;const u=new tn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let f=[];if(a)if(r){const C=(0,x.UI)(e,I=>Wt(I));f=function LM(n,t,e,r){const a=QD(n,r);if(a){const u=JD(a),f=u.path,y=u.queryId,C=oi(f,t),I=_n.fromObject(e);return XD(n,f,new Sf($d(y),C,I))}return[]}(n.serverSyncTree_,u,C,a)}else{const C=Wt(e);f=RT(n.serverSyncTree_,u,C,a)}else if(r){const C=(0,x.UI)(e,I=>Wt(I));f=function kM(n,t,e){const r=_n.fromObject(e);return $g(n,new Sf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,u,C)}else{const C=Wt(e);f=Ny(n.serverSyncTree_,u,C)}let y=u;f.length>0&&(y=zg(n,u)),Bs(n.eventQueue_,y,f)}function WT(n,t){uI(n,"connected",t),!1===t&&function lR(n){Gg(n,"onDisconnectEvents");const t=By(n),e=wf();wy(n.onDisconnect_,Qt(),(a,u)=>{const f=xT(a,u,n.serverSyncTree_,t);bf(e,a,f)});let r=[];wy(e,Qt(),(a,u)=>{r=r.concat(Ny(n.serverSyncTree_,a,u));const f=fI(n,a);zg(n,f)}),n.onDisconnect_=wf(),Bs(n.eventQueue_,Qt(),r)}(n)}function uI(n,t,e){const r=new tn("/.info/"+t),a=Wt(e);n.infoData_.updateSnapshot(r,a);const u=Ny(n.infoSyncTree_,r,a);Bs(n.eventQueue_,r,u)}function xw(n){return n.nextWriteId_++}function cI(n,t,e,r,a){Gg(n,"set",{path:t.toString(),value:e,priority:r});const u=By(n),f=Wt(e,r),y=Mw(n.serverSyncTree_,t),C=nI(f,y,u),I=xw(n),P=KD(n.serverSyncTree_,t,C,I,!0);kw(n.eventQueue_,P),n.server_.put(t.toString(),f.val(!0),($,K)=>{const X="ok"===$;X||$r("set at "+t+" failed: "+$);const Se=qd(n.serverSyncTree_,I,!X);Bs(n.eventQueue_,t,Se),Kd(0,a,$,K)});const N=fI(n,t);zg(n,N),Bs(n.eventQueue_,N,[])}function uR(n,t,e){n.server_.onDisconnectCancel(t.toString(),(r,a)=>{"ok"===r&&Lg(n.onDisconnect_,t),Kd(0,e,r,a)})}function ZT(n,t,e,r){const a=Wt(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(u,f)=>{"ok"===u&&bf(n.onDisconnect_,t,a),Kd(0,r,u,f)})}function dI(n,t,e){let r;r=".info"===Ft(t._path)?Aw(n.infoSyncTree_,t,e):Aw(n.serverSyncTree_,t,e),HT(n.eventQueue_,t._path,r)}function qT(n){n.persistentConnection_&&n.persistentConnection_.interrupt($T)}function Gg(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),gr(e,...t)}function Kd(n,t,e,r){t&&Od(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let u=a;r&&(u+=": "+r);const f=new Error(u);f.code=a,t(f)}})}function hI(n,t,e){return Mw(n.serverSyncTree_,t,e)||Nt.EMPTY_NODE}function Fw(n,t=n.transactionQueueTree_){if(t||Lw(n,t),Nf(t)){const e=YT(n,t);(0,x.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function gR(n,t,e){const r=e.map(I=>I.currentWriteId),a=hI(n,t,r);let u=a;const f=a.hash();for(let I=0;I<e.length;I++){const P=e[I];(0,x.hu)(0===P.status,"tryToSendTransactionQueue_: items in queue should all be run."),P.status=1,P.retryCount++;const N=oi(t,P.path);u=u.updateChild(N,P.currentOutputSnapshotRaw)}const y=u.val(!0),C=t;n.server_.put(C.toString(),y,I=>{Gg(n,"transaction put response",{path:C.toString(),status:I});let P=[];if("ok"===I){const N=[];for(let $=0;$<e.length;$++)e[$].status=2,P=P.concat(qd(n.serverSyncTree_,e[$].currentWriteId)),e[$].onComplete&&N.push(()=>e[$].onComplete(null,!0,e[$].currentOutputSnapshotResolved)),e[$].unwatcher();Lw(n,Pw(n.transactionQueueTree_,t)),Fw(n,n.transactionQueueTree_),Bs(n.eventQueue_,t,P);for(let $=0;$<N.length;$++)Od(N[$])}else{if("datastale"===I)for(let N=0;N<e.length;N++)e[N].status=3===e[N].status?4:0;else{$r("transaction at "+C.toString()+" failed: "+I);for(let N=0;N<e.length;N++)e[N].status=4,e[N].abortReason=I}zg(n,t)}},f)}(n,xy(t),e)}else FT(t)&&Nw(t,e=>{Fw(n,e)})}function zg(n,t){const e=KT(n,t),r=xy(e);return function mR(n,t,e){if(0===t.length)return;const r=[];let a=[];const f=t.filter(y=>0===y.status).map(y=>y.currentWriteId);for(let y=0;y<t.length;y++){const C=t[y],I=oi(e,C.path);let N,P=!1;if((0,x.hu)(null!==I,"rerunTransactionsUnderNode_: relativePath should not be null."),4===C.status)P=!0,N=C.abortReason,a=a.concat(qd(n.serverSyncTree_,C.currentWriteId,!0));else if(0===C.status)if(C.retryCount>=25)P=!0,N="maxretry",a=a.concat(qd(n.serverSyncTree_,C.currentWriteId,!0));else{const $=hI(n,C.path,f);C.currentInputSnapshot=$;const K=t[y].update($.val());if(void 0!==K){Ly("transaction failed: Data returned ",K,C.path);let X=Wt(K);"object"==typeof K&&null!=K&&(0,x.r3)(K,".priority")||(X=X.updatePriority($.getPriority()));const je=C.currentWriteId,tt=By(n),Dt=nI(X,$,tt);C.currentOutputSnapshotRaw=X,C.currentOutputSnapshotResolved=Dt,C.currentWriteId=xw(n),f.splice(f.indexOf(je),1),a=a.concat(KD(n.serverSyncTree_,C.path,Dt,C.currentWriteId,C.applyLocally)),a=a.concat(qd(n.serverSyncTree_,je,!0))}else P=!0,N="nodata",a=a.concat(qd(n.serverSyncTree_,C.currentWriteId,!0))}Bs(n.eventQueue_,e,a),a=[],P&&(t[y].status=2,setTimeout(t[y].unwatcher,Math.floor(0)),t[y].onComplete&&r.push("nodata"===N?()=>t[y].onComplete(null,!1,t[y].currentInputSnapshot):()=>t[y].onComplete(new Error(N),!1,null)))}Lw(n,n.transactionQueueTree_);for(let y=0;y<r.length;y++)Od(r[y]);Fw(n,n.transactionQueueTree_)}(n,YT(n,e),r),r}function KT(n,t){let e,r=n.transactionQueueTree_;for(e=Ft(t);null!==e&&void 0===Nf(r);)r=Pw(r,e),e=Ft(t=un(t));return r}function YT(n,t){const e=[];return QT(n,t,e),e.sort((r,a)=>r.order-a.order),e}function QT(n,t,e){const r=Nf(t);if(r)for(let a=0;a<r.length;a++)e.push(r[a]);Nw(t,a=>{QT(n,a,e)})}function Lw(n,t){const e=Nf(t);if(e){let r=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[r]=e[a],r++);e.length=r,sI(t,e.length>0?e:void 0)}Nw(t,r=>{Lw(n,r)})}function fI(n,t){const e=xy(KT(n,t)),r=Pw(n.transactionQueueTree_,t);return function ZM(n,t,e){let r=e?n:n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,a=>{pI(n,a)}),pI(n,r),LT(r,a=>{pI(n,a)}),e}function pI(n,t){const e=Nf(t);if(e){const r=[];let a=[],u=-1;for(let f=0;f<e.length;f++)3===e[f].status||(1===e[f].status?((0,x.hu)(u===f-1,"All SENT items should be at beginning of queue."),u=f,e[f].status=3,e[f].abortReason="set"):((0,x.hu)(0===e[f].status,"Unexpected transaction status in abort"),e[f].unwatcher(),a=a.concat(qd(n.serverSyncTree_,e[f].currentWriteId,!0)),e[f].onComplete&&r.push(e[f].onComplete.bind(null,new Error("set"),!1,null))));-1===u?sI(t,void 0):e.length=u+1,Bs(n.eventQueue_,xy(t),a);for(let f=0;f<r.length;f++)Od(r[f])}}const gI=function(n,t){const e=vR(n),r=e.namespace;return"firebase.com"===e.domain&&wo(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&wo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&$r("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new hf(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,t,"",r!==e.subdomain),path:new tn(e.pathString)}},vR=function(n){let t="",e="",r="",a="",u="",f=!0,y="https",C=443;if("string"==typeof n){let I=n.indexOf("//");I>=0&&(y=n.substring(0,I-1),n=n.substring(I+2));let P=n.indexOf("/");-1===P&&(P=n.length);let N=n.indexOf("?");-1===N&&(N=n.length),t=n.substring(0,Math.min(P,N)),P<N&&(a=function _R(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let a=e[r];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}(n.substring(P,N)));const $=function yR(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):$r(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,N)));I=t.indexOf(":"),I>=0?(f="https"===y||"wss"===y,C=parseInt(t.substring(I+1),10)):I=t.length;const K=t.slice(0,I);if("localhost"===K.toLowerCase())e="localhost";else if(K.split(".").length<=2)e=K;else{const X=t.indexOf(".");r=t.substring(0,X).toLowerCase(),e=t.substring(X+1),u=r}"ns"in $&&(u=$.ns)}return{host:t,port:C,domain:e,subdomain:r,secure:f,scheme:y,pathString:a,namespace:u}},JT="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ER=function(){let n=0;const t=[];return function(e){const r=e===n;let a;n=e;const u=new Array(8);for(a=7;a>=0;a--)u[a]=JT.charAt(e%64),e=Math.floor(e/64);(0,x.hu)(0===e,"Cannot push at time == 0");let f=u.join("");if(r){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)f+=JT.charAt(t[a]);return(0,x.hu)(20===f.length,"nextPushId: Length should be 20."),f}}();class XT{constructor(t,e,r,a){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,x.Wl)(this.snapshot.exportVal())}}class eA{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class mI{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,x.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class tA{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new x.BH;return uR(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){So("OnDisconnect.remove",this._path);const t=new x.BH;return ZT(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){So("OnDisconnect.set",this._path),Nl("OnDisconnect.set",t,this._path,!1);const e=new x.BH;return ZT(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){So("OnDisconnect.setWithPriority",this._path),Nl("OnDisconnect.setWithPriority",t,this._path,!1),lI("OnDisconnect.setWithPriority",e,!1);const r=new x.BH;return function cR(n,t,e,r,a){const u=Wt(e,r);n.server_.onDisconnectPut(t.toString(),u.val(!0),(f,y)=>{"ok"===f&&bf(n.onDisconnect_,t,u),Kd(0,a,f,y)})}(this._repo,this._path,t,e,r.wrapCallback(()=>{})),r.promise}update(t){So("OnDisconnect.update",this._path),VT("OnDisconnect.update",t,this._path,!1);const e=new x.BH;return function dR(n,t,e,r){if((0,x.xb)(e))return gr("onDisconnect().update() called with empty data.  Don't do anything."),void Kd(0,r,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,u)=>{"ok"===a&&rr(e,(f,y)=>{const C=Wt(y);bf(n.onDisconnect_,vn(t,f),C)}),Kd(0,r,a,u)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class as{constructor(t,e,r,a){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=a}get key(){return Lt(this._path)?null:Rg(this._path)}get ref(){return new To(this._repo,this._path)}get _queryIdentifier(){const t=cw(this._queryParams),e=Ig(t);return"{}"===e?"default":e}get _queryObject(){return cw(this._queryParams)}isEqual(t){if(!((t=(0,x.m9)(t))instanceof as))return!1;const e=this._repo===t._repo,r=dy(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function YC(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Uw(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Yd(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Hi){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Sl)throw new Error(r);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==va)throw new Error(r);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===mn){if(null!=t&&!Fy(t)||null!=e&&!Fy(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,x.hu)(n.getIndex()instanceof my||n.getIndex()===yy,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Vw(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class To extends as{constructor(t,e){super(t,e,new Cf,!1)}get parent(){const t=cy(this._path);return null===t?null:new To(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Of{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new tn(t),r=kf(this.ref,t);return new Of(this._node.getChild(e),r,mn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,a)=>t(new Of(a,kf(this.ref,r),mn)))}hasChild(t){const e=new tn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function nA(n,t){return(n=(0,x.m9)(n))._checkNotDeleted("ref"),void 0!==t?kf(n._root,t):n._root}function rA(n,t){(n=(0,x.m9)(n))._checkNotDeleted("refFromURL");const e=gI(t,n._repo.repoInfo_.nodeAdmin);BT("refFromURL",e);const r=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&wo("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),nA(n,e.path.toString())}function kf(n,t){return null===Ft((n=(0,x.m9)(n))._path)?((e=t)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Vy("child","path",e,!1)):Vy("child","path",t,!1),new To(n._repo,vn(n._path,t));var e}function _I(n,t){n=(0,x.m9)(n),So("set",n._path),Nl("set",t,n._path,!1);const e=new x.BH;return cI(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function IR(n,t){VT("update",t,n._path,!1);const e=new x.BH;return function aR(n,t,e,r){Gg(n,"update",{path:t.toString(),value:e});let a=!0;const u=By(n),f={};if(rr(e,(y,C)=>{a=!1,f[y]=xT(vn(t,y),Wt(C),n.serverSyncTree_,u)}),a)gr("update() called with empty data.  Don't do anything."),Kd(0,r,"ok",void 0);else{const y=xw(n),C=function OM(n,t,e,r){!function _T(n,t,e,r){(0,x.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:r,visible:!0}),n.visibleWrites=Ca(n.visibleWrites,t,e),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r);const a=_n.fromObject(e);return $g(n,new Sf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,f,y);kw(n.eventQueue_,C),n.server_.merge(t.toString(),e,(I,P)=>{const N="ok"===I;N||$r("update at "+t+" failed: "+I);const $=qd(n.serverSyncTree_,y,!N),K=$.length>0?zg(n,t):t;Bs(n.eventQueue_,K,$),Kd(0,r,I,P)}),rr(e,I=>{const P=fI(n,vn(t,I));zg(n,P)}),Bs(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function SR(n){n=(0,x.m9)(n);const t=new mI(()=>{}),e=new Hy(t);return function oR(n,t,e){const r=function UM(n,t){const e=t._path;let r=null;n.syncPointTree_.foreachOnPath(e,(I,P)=>{const N=oi(I,e);r=r||Wd(P,N)});let a=n.syncPointTree_.get(e);a?r=r||Wd(a,Qt()):(a=new He,n.syncPointTree_=n.syncPointTree_.set(e,a));const u=null!=r,f=u?new ic(r,!0,!1):null;return function E(n){return Dy(n.viewCache_)}(En(a,t,Ty(n.pendingWriteTree_,t._path),u?f.getNode():Nt.EMPTY_NODE,u))}(n.serverSyncTree_,t);return null!=r?Promise.resolve(r):n.server_.get(t).then(a=>{const u=Wt(a).withIndex(t._queryParams.getIndex());let f;if(YD(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())f=Ny(n.serverSyncTree_,t._path,u);else{const y=Oy(n.serverSyncTree_,t);f=RT(n.serverSyncTree_,t._path,u,y)}return Bs(n.eventQueue_,t._path,f),Aw(n.serverSyncTree_,t,e,null,!0),u},a=>(Gg(n,"get for query "+(0,x.Wl)(t)+" failed: "+a),Promise.reject(new Error(a))))}(n._repo,n,e).then(r=>new Of(r,new To(n._repo,n._path),n._queryParams.getIndex()))}class Hy{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new XT("value",this,new Of(t.snapshotNode,new To(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new eA(this,t,e):null}matches(t){return t instanceof Hy&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Bw{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new eA(this,t,e):null}createEvent(t,e){(0,x.hu)(null!=t.childName,"Child events should have a childName.");const r=kf(new To(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new XT(t.type,this,new Of(t.snapshotNode,r,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Bw&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function jy(n,t,e,r,a){let u;if("object"==typeof r&&(u=void 0,a=r),"function"==typeof r&&(u=r),a&&a.onlyOnce){const C=e,I=(P,N)=>{dI(n._repo,n,y),C(P,N)};I.userCallback=e.userCallback,I.context=e.context,e=I}const f=new mI(e,u||void 0),y="value"===t?new Hy(f):new Bw(t,f);return function hR(n,t,e){let r;r=".info"===Ft(t._path)?YD(n.infoSyncTree_,t,e):YD(n.serverSyncTree_,t,e),HT(n.eventQueue_,t._path,r)}(n._repo,n,y),()=>dI(n._repo,n,y)}function yI(n,t,e,r){return jy(n,"value",t,e,r)}function iA(n,t,e,r){return jy(n,"child_added",t,e,r)}function sA(n,t,e,r){return jy(n,"child_changed",t,e,r)}function oA(n,t,e,r){return jy(n,"child_moved",t,e,r)}function aA(n,t,e,r){return jy(n,"child_removed",t,e,r)}function lA(n,t,e){let r=null;const a=e?new mI(e):null;"value"===t?r=new Hy(a):t&&(r=new Bw(t,a)),dI(n._repo,n,r)}class Da{}class uA extends Da{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Nl("endAt",this._value,t._path,!0);const e=Us(t._queryParams,this._value,this._key);if(Vw(e),Yd(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new as(t._repo,t._path,e,t._orderByCalled)}}class AR extends Da{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Nl("endBefore",this._value,t._path,!1);const e=function ND(n,t,e){let r;return r=Us(n,t,n.index_===Hi||e?e:Sl),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(Vw(e),Yd(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new as(t._repo,t._path,e,t._orderByCalled)}}class cA extends Da{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Nl("startAt",this._value,t._path,!0);const e=xg(t._queryParams,this._value,this._key);if(Vw(e),Yd(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new as(t._repo,t._path,e,t._orderByCalled)}}class PR extends Da{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Nl("startAfter",this._value,t._path,!1);const e=function Ey(n,t,e){let r;return r=xg(n,t,n.index_===Hi||e?e:va),r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(Vw(e),Yd(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new as(t._repo,t._path,e,t._orderByCalled)}}class OR extends Da{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new as(t._repo,t._path,function vy(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class xR extends Da{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new as(t._repo,t._path,function Pl(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class LR extends Da{constructor(t){super(),this._path=t}_apply(t){Uw(t,"orderByChild");const e=new tn(this._path);if(Lt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new my(e),a=Cy(t._queryParams,r);return Yd(a),new as(t._repo,t._path,a,!0)}}class VR extends Da{_apply(t){Uw(t,"orderByKey");const e=Cy(t._queryParams,Hi);return Yd(e),new as(t._repo,t._path,e,!0)}}class HR extends Da{_apply(t){Uw(t,"orderByPriority");const e=Cy(t._queryParams,mn);return Yd(e),new as(t._repo,t._path,e,!0)}}class $R extends Da{_apply(t){Uw(t,"orderByValue");const e=Cy(t._queryParams,yy);return Yd(e),new as(t._repo,t._path,e,!0)}}class zR extends Da{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Nl("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new uA(this._value,this._key)._apply(new cA(this._value,this._key)._apply(t))}}function Ia(n,...t){let e=(0,x.m9)(n);for(const r of t)e=r._apply(e);return e}(function et(n){(0,x.hu)(!Me,"__referenceConstructor has already been defined"),Me=n})(To),function RM(n){(0,x.hu)(!Tw,"__referenceConstructor has already been defined"),Tw=n}(To);const vI={};function hA(n,t,e,r,a){let u=r||n.options.databaseURL;void 0===u&&(n.options.projectId||wo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gr("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let C,I,f=gI(u,a),y=f.repoInfo;typeof process<"u"&&process.env&&(I=process.env.FIREBASE_DATABASE_EMULATOR_HOST),I?(C=!0,u=`http://${I}?ns=${y.namespace}`,f=gI(u,a),y=f.repoInfo):C=!f.repoInfo.secure;const P=a&&C?new uf(uf.OWNER):new bo(n.name,n.options,t);BT("Invalid Firebase Database URL",f),Lt(f.path)||wo("Database URL must point to the root of a Firebase Database (not including a child path).");const N=function YR(n,t,e,r){let a=vI[t.name];a||(a={},vI[t.name]=a);let u=a[n.toURLString()];return u&&wo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new rR(n,false,e,r),a[n.toURLString()]=u,u}(y,n,P,new K_(n.name,e));return new JR(N,n)}class JR{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function iR(n,t,e){if(n.stats_=pf(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Fg(n.repoInfo_,(r,a,u,f)=>{zT(n,r,a,u,f)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>WT(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,x.Wl)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Ud(n.repoInfo_,t,(r,a,u,f)=>{zT(n,r,a,u,f)},r=>{WT(n,r)},r=>{!function sR(n,t){rr(t,(e,r)=>{uI(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function fD(n,t){const e=n.toString();return ff[e]||(ff[e]=t()),ff[e]}(n.repoInfo_,()=>new pw(n.stats_,n.server_)),n.infoData_=new OD,n.infoSyncTree_=new MT({startListening:(r,a,u,f)=>{let y=[];const C=n.infoData_.getNode(r._path);return C.isEmpty()||(y=Ny(n.infoSyncTree_,r._path,C),setTimeout(()=>{f("ok")},0)),y},stopListening:()=>{}}),uI(n,"connected",!1),n.serverSyncTree_=new MT({startListening:(r,a,u,f)=>(n.server_.listen(r,u,a,(y,C)=>{const I=f(y,C);Bs(n.eventQueue_,r._path,I)}),[]),stopListening:(r,a)=>{n.server_.unlisten(r,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new To(this._repo,Qt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function KR(n,t){const e=vI[t];(!e||e[n.key]!==n)&&wo(`Database ${t}(${n.repoInfo_}) has already been deleted.`),qT(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&wo("Cannot call "+t+" on a deleted database.")}}function fA(){zC.IS_TRANSPORT_INITIALIZED&&$r("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function XR(){fA(),Tl.forceDisallow()}function eP(){fA(),Do.forceDisallow(),Tl.forceAllow()}function rP(n,t){IC(n,t)}const sP={".sv":"timestamp"};class lP{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ud.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Ud.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function iP(n){$_(Zu.SDK_VERSION),(0,Zu._registerComponent)(new qu.wA("database",(t,{instanceIdentifier:e})=>hA(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Zu.registerVersion)(wg,"0.14.4",n),(0,Zu.registerVersion)(wg,"0.14.4","esm2017")}();const hP=new Yh.Yd("@firebase/database-compat"),gA=function(n){hP.warn("FIREBASE WARNING: "+n)};class gP{constructor(t){this._delegate=t}cancel(t){(0,x.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,x.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),r=>t(r)),e}remove(t){(0,x.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,x.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),r=>t(r)),e}set(t,e){(0,x.Dv)("OnDisconnect.set",1,2,arguments.length),(0,x.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(t);return e&&r.then(()=>e(null),a=>e(a)),r}setWithPriority(t,e,r){(0,x.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,x.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const a=this._delegate.setWithPriority(t,e);return r&&a.then(()=>r(null),u=>r(u)),a}update(t,e){if((0,x.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let u=0;u<t.length;++u)a[""+u]=t[u];t=a,gA("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,x.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(t);return e&&r.then(()=>e(null),a=>e(a)),r}}class mP{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,x.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Qd{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,x.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,x.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,x.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,x.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,x.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Vy("DataSnapshot.child","path",t,!1),new Qd(this._database,this._delegate.child(t))}hasChild(t){return(0,x.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Vy("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,x.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,x.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,x.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Qd(this._database,e)))}hasChildren(){return(0,x.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,x.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,x.Dv)("DataSnapshot.ref",0,0,arguments.length),new Hs(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class li{constructor(t,e){this.database=t,this._delegate=e}on(t,e,r,a){var u;(0,x.Dv)("Query.on",2,4,arguments.length),(0,x.Wj)("Query.on","callback",e,!1);const f=li.getCancelAndContextArgs_("Query.on",r,a),y=(I,P)=>{e.call(f.context,new Qd(this.database,I),P)};y.userCallback=e,y.context=f.context;const C=null===(u=f.cancel)||void 0===u?void 0:u.bind(f.context);switch(t){case"value":return yI(this._delegate,y,C),e;case"child_added":return iA(this._delegate,y,C),e;case"child_removed":return aA(this._delegate,y,C),e;case"child_changed":return sA(this._delegate,y,C),e;case"child_moved":return oA(this._delegate,y,C),e;default:throw new Error((0,x.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,r){if((0,x.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,x.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,x.Wj)("Query.off","callback",e,!0),(0,x.lb)("Query.off","context",r,!0),e){const a=()=>{};a.userCallback=e,a.context=r,lA(this._delegate,t,a)}else lA(this._delegate,t)}get(){return SR(this._delegate).then(t=>new Qd(this.database,t))}once(t,e,r,a){(0,x.Dv)("Query.once",1,4,arguments.length),(0,x.Wj)("Query.once","callback",e,!0);const u=li.getCancelAndContextArgs_("Query.once",r,a),f=new x.BH,y=(I,P)=>{const N=new Qd(this.database,I);e&&e.call(u.context,N,P),f.resolve(N)};y.userCallback=e,y.context=u.context;const C=I=>{u.cancel&&u.cancel.call(u.context,I),f.reject(I)};switch(t){case"value":yI(this._delegate,y,C,{onlyOnce:!0});break;case"child_added":iA(this._delegate,y,C,{onlyOnce:!0});break;case"child_removed":aA(this._delegate,y,C,{onlyOnce:!0});break;case"child_changed":sA(this._delegate,y,C,{onlyOnce:!0});break;case"child_moved":oA(this._delegate,y,C,{onlyOnce:!0});break;default:throw new Error((0,x.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return f.promise}limitToFirst(t){return(0,x.Dv)("Query.limitToFirst",1,1,arguments.length),new li(this.database,Ia(this._delegate,function kR(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new OR(n)}(t)))}limitToLast(t){return(0,x.Dv)("Query.limitToLast",1,1,arguments.length),new li(this.database,Ia(this._delegate,function FR(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new xR(n)}(t)))}orderByChild(t){return(0,x.Dv)("Query.orderByChild",1,1,arguments.length),new li(this.database,Ia(this._delegate,function UR(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Vy("orderByChild","path",n,!1),new LR(n)}(t)))}orderByKey(){return(0,x.Dv)("Query.orderByKey",0,0,arguments.length),new li(this.database,Ia(this._delegate,function BR(){return new VR}()))}orderByPriority(){return(0,x.Dv)("Query.orderByPriority",0,0,arguments.length),new li(this.database,Ia(this._delegate,function jR(){return new HR}()))}orderByValue(){return(0,x.Dv)("Query.orderByValue",0,0,arguments.length),new li(this.database,Ia(this._delegate,function GR(){return new $R}()))}startAt(t=null,e){return(0,x.Dv)("Query.startAt",0,2,arguments.length),new li(this.database,Ia(this._delegate,function RR(n=null,t){return Uy("startAt","key",t,!0),new cA(n,t)}(t,e)))}startAfter(t=null,e){return(0,x.Dv)("Query.startAfter",0,2,arguments.length),new li(this.database,Ia(this._delegate,function NR(n,t){return Uy("startAfter","key",t,!0),new PR(n,t)}(t,e)))}endAt(t=null,e){return(0,x.Dv)("Query.endAt",0,2,arguments.length),new li(this.database,Ia(this._delegate,function TR(n,t){return Uy("endAt","key",t,!0),new uA(n,t)}(t,e)))}endBefore(t=null,e){return(0,x.Dv)("Query.endBefore",0,2,arguments.length),new li(this.database,Ia(this._delegate,function MR(n,t){return Uy("endBefore","key",t,!0),new AR(n,t)}(t,e)))}equalTo(t,e){return(0,x.Dv)("Query.equalTo",1,2,arguments.length),new li(this.database,Ia(this._delegate,function WR(n,t){return Uy("equalTo","key",t,!0),new zR(n,t)}(t,e)))}toString(){return(0,x.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,x.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,x.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof li))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,r){const a={cancel:void 0,context:void 0};if(e&&r)a.cancel=e,(0,x.Wj)(t,"cancel",a.cancel,!0),a.context=r,(0,x.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,x.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new Hs(this.database,new To(this._delegate._repo,this._delegate._path))}}class Hs extends li{constructor(t,e){super(t,new as(e._repo,e._path,new Cf,!1)),this.database=t,this._delegate=e}getKey(){return(0,x.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,x.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Hs(this.database,kf(this._delegate,t))}getParent(){(0,x.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Hs(this.database,t):null}getRoot(){return(0,x.Dv)("Reference.root",0,0,arguments.length),new Hs(this.database,this._delegate.root)}set(t,e){(0,x.Dv)("Reference.set",1,2,arguments.length),(0,x.Wj)("Reference.set","onComplete",e,!0);const r=_I(this._delegate,t);return e&&r.then(()=>e(null),a=>e(a)),r}update(t,e){if((0,x.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let u=0;u<t.length;++u)a[""+u]=t[u];t=a,gA("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}So("Reference.update",this._delegate._path),(0,x.Wj)("Reference.update","onComplete",e,!0);const r=IR(this._delegate,t);return e&&r.then(()=>e(null),a=>e(a)),r}setWithPriority(t,e,r){(0,x.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,x.Wj)("Reference.setWithPriority","onComplete",r,!0);const a=function DR(n,t,e){if(So("setWithPriority",n._path),Nl("setWithPriority",t,n._path,!1),lI("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new x.BH;return cI(n._repo,n._path,t,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,e);return r&&a.then(()=>r(null),u=>r(u)),a}remove(t){(0,x.Dv)("Reference.remove",0,1,arguments.length),(0,x.Wj)("Reference.remove","onComplete",t,!0);const e=function wR(n){return So("remove",n._path),_I(n,null)}(this._delegate);return t&&e.then(()=>t(null),r=>t(r)),e}transaction(t,e,r){(0,x.Dv)("Reference.transaction",1,3,arguments.length),(0,x.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,x.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,x.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const a=function uP(n,t,e){var r;if(n=(0,x.m9)(n),So("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(r=e?.applyLocally)||void 0===r||r,u=new x.BH,y=yI(n,()=>{});return function pR(n,t,e,r,a,u){Gg(n,"transaction on "+t);const f={path:t,update:e,onComplete:r,status:null,order:lD(),applyLocally:u,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},y=hI(n,t,void 0);f.currentInputSnapshot=y;const C=f.update(y.val());if(void 0===C)f.unwatcher(),f.currentOutputSnapshotRaw=null,f.currentOutputSnapshotResolved=null,f.onComplete&&f.onComplete(null,!1,f.currentInputSnapshot);else{Ly("transaction failed: Data returned ",C,f.path),f.status=0;const I=Pw(n.transactionQueueTree_,t),P=Nf(I)||[];let N;P.push(f),sI(I,P),"object"==typeof C&&null!==C&&(0,x.r3)(C,".priority")?(N=(0,x.DV)(C,".priority"),(0,x.hu)(Fy(N),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):N=(Mw(n.serverSyncTree_,t)||Nt.EMPTY_NODE).getPriority().val();const $=By(n),K=Wt(C,N),X=nI(K,y,$);f.currentOutputSnapshotRaw=K,f.currentOutputSnapshotResolved=X,f.currentWriteId=xw(n);const Se=KD(n.serverSyncTree_,t,X,f.currentWriteId,f.applyLocally);Bs(n.eventQueue_,t,Se),Fw(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(C,I,P)=>{let N=null;C?u.reject(C):(N=new Of(P,new To(n._repo,n._path),mn),u.resolve(new lP(I,N)))},y,a),u.promise}(this._delegate,t,{applyLocally:r}).then(u=>new mP(u.committed,new Qd(this.database,u.snapshot)));return e&&a.then(u=>e(null,u.committed,u.snapshot),u=>e(u,!1,null)),a}setPriority(t,e){(0,x.Dv)("Reference.setPriority",1,2,arguments.length),(0,x.Wj)("Reference.setPriority","onComplete",e,!0);const r=function bR(n,t){n=(0,x.m9)(n),So("setPriority",n._path),lI("setPriority",t,!1);const e=new x.BH;return cI(n._repo,vn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&r.then(()=>e(null),a=>e(a)),r}push(t,e){(0,x.Dv)("Reference.push",0,2,arguments.length),(0,x.Wj)("Reference.push","onComplete",e,!0);const r=function CR(n,t){n=(0,x.m9)(n),So("push",n._path),Nl("push",t,n._path,!0);const e=GT(n._repo),r=ER(e),a=kf(n,r),u=kf(n,r);let f;return f=null!=t?_I(u,t).then(()=>u):Promise.resolve(u),a.then=f.then.bind(f),a.catch=f.then.bind(f,void 0),a}(this._delegate,t),a=r.then(f=>new Hs(this.database,f));e&&a.then(()=>e(null),f=>e(f));const u=new Hs(this.database,r);return u.then=a.then.bind(a),u.catch=a.catch.bind(a,void 0),u}onDisconnect(){return So("Reference.onDisconnect",this._delegate._path),new gP(new tA(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class $y{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:XR,forceLongPolling:eP}}useEmulator(t,e,r={}){!function pA(n,t,e,r={}){(n=(0,x.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&wo("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let u;if(a.repoInfo_.nodeAdmin)r.mockUserToken&&wo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new uf(uf.OWNER);else if(r.mockUserToken){const f="string"==typeof r.mockUserToken?r.mockUserToken:(0,x.Sg)(r.mockUserToken,n.app.options.projectId);u=new uf(f)}!function qR(n,t,e,r){n.repoInfo_=new hf(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(a,t,e,u)}(this._delegate,t,e,r)}ref(t){if((0,x.Dv)("database.ref",0,1,arguments.length),t instanceof Hs){const e=rA(this._delegate,t.toString());return new Hs(this,e)}{const e=nA(this._delegate,t);return new Hs(this,e)}}refFromURL(t){(0,x.Dv)("database.refFromURL",1,1,arguments.length);const r=rA(this._delegate,t);return new Hs(this,r)}goOffline(){return(0,x.Dv)("database.goOffline",0,0,arguments.length),function tP(n){(n=(0,x.m9)(n))._checkNotDeleted("goOffline"),qT(n._repo)}(this._delegate)}goOnline(){return(0,x.Dv)("database.goOnline",0,0,arguments.length),function nP(n){(n=(0,x.m9)(n))._checkNotDeleted("goOnline"),function fR(n){n.persistentConnection_&&n.persistentConnection_.resume($T)}(n._repo)}(this._delegate)}}$y.ServerValue={TIMESTAMP:function oP(){return sP}(),increment:n=>function aP(n){return{".sv":{increment:n}}}(n)};var yP=Object.freeze({__proto__:null,initStandalone:function _P({app:n,url:t,version:e,customAuthImpl:r,namespace:a,nodeAdmin:u=!1}){$_(e);const f=new qu.zt("auth-internal",new qu.H0("database-standalone"));return f.setComponent(new qu.wA("auth-internal",()=>r,"PRIVATE")),{instance:new $y(hA(n,f,void 0,t,u),n),namespace:a}}});const vP=$y.ServerValue;function mA(n){return null==n}function _A(n){return"function"==typeof n.set}function yA(n,t){return _A(t)?t:n.ref(t)}function vA(n,t){if(function CP(n){return"string"==typeof n}(n))return t.stringCase();if(_A(n))return t.firebaseCase();if(function wP(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Gy(n,t,e="on",r=sD.z){return new vi.y(a=>{let u=null;return u=n[e](t,(f,y)=>{r.schedule(()=>{a.next({snapshot:f,prevKey:y})}),"once"===e&&r.schedule(()=>a.complete())},f=>{r.schedule(()=>a.error(f))}),"on"===e?{unsubscribe(){null!=u&&n.off(t,u)}}:{unsubscribe(){}}}).pipe((0,A.U)(a=>{const{snapshot:u,prevKey:f}=a;let y=null;return u.exists()&&(y=u.key),{type:t,payload:u,prevKey:f,key:y}}),(0,ig.B)())}function EA(n,t){const e=n.length;for(let r=0;r<e;r++)if(n[r].payload.key===t)return r;return-1}function IP(n,t){const{payload:e,prevKey:r,key:a}=t,u=EA(n,a),f=function DP(n,t){if(mA(t))return 0;{const e=EA(n,t);return-1===e?n.length:e+1}}(n,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let y=null;t.payload.forEach(C=>{const I={payload:C,type:"value",prevKey:y,key:C.key};return y=C.key,n=[...n,I],!1})}return n;case"child_added":if(u>-1){const y=n[u-1];(y&&y.key||null)!==r&&(n=n.filter(C=>C.payload.key!==e.key)).splice(f,0,t)}else{if(null==r)return[t,...n];(n=n.slice()).splice(f,0,t)}return n;case"child_removed":return n.filter(y=>y.payload.key!==e.key);case"child_changed":return n.map(y=>y.payload.key===a?t:y);case"child_moved":if(u>-1){const y=n.splice(u,1)[0];return(n=n.slice()).splice(f,0,y),n}return n;default:return n}}function CA(n){return(mA(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function wA(n,t,e){return function bP(n,t,e){return Gy(n,"value","once",e).pipe(zn(r=>{const a=[Ye(r)];return t.forEach(u=>a.push(Gy(n,u,"on",e))),(0,Sd.T)(...a).pipe(vu(IP,[]))}),function eT(n,t=D.y){return n=n??CC,(0,Xn.e)((e,r)=>{let a,u=!0;e.subscribe((0,Ue.x)(r,f=>{const y=t(f);(u||!n(a,y))&&(u=!1,a=y,r.next(f))}))})}())}(n,t=CA(t),e)}function bA(n,t,e){const r=(t=CA(t)).map(a=>Gy(n,a,"on",e));return(0,Sd.T)(...r)}function DA(n,t){return function(r,a){return vA(r,{stringCase:()=>n.child(r)[t](a),firebaseCase:()=>r[t](a),snapshotCase:()=>r.ref[t](a)})}}function MP(n){return function(e){return e?vA(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function IA(n,t){return function(){return Gy(n,"value","on",t)}}!function EP(n){n.INTERNAL.registerComponent(new qu.wA("database-compat",(t,{instanceIdentifier:e})=>{const r=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new $y(a,r)},"PUBLIC").setServiceProps({Reference:Hs,Query:li,Database:$y,DataSnapshot:Qd,enableLogging:rP,INTERNAL:yP,ServerValue:vP}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(wC.Z);const NP=new c.OlP("angularfire2.realtimeDatabaseURL"),OP=new c.OlP("angularfire2.database.use-emulator");let SA=(()=>{class n{constructor(e,r,a,u,f,y,C,I,P,N,$,K,X,Se,je){this.schedulers=y;const tt=C,Dt=(0,ss.on)(e,f,r);I&&Eg(Dt,f,P,$,K,X,N,Se),this.database=(0,ss.cc)(`${Dt.name}.database.${a}`,"AngularFireDatabase",Dt.name,()=>{const qt=f.runOutsideAngular(()=>Dt.database(a||void 0));return tt&&qt.useEmulator(...tt),qt},[tt])}list(e,r){const a=this.schedulers.ngZone.runOutsideAngular(()=>yA(this.database,e));let u=a;return r&&(u=r(a)),function RP(n,t){const e=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:DA(r,"update"),set:DA(r,"set"),push:a=>r.push(a),remove:MP(r),snapshotChanges:a=>wA(n,a,e).pipe(Ii.iC),stateChanges:a=>bA(n,a,e).pipe(Ii.iC),auditTrail:a=>function SP(n,t,e){return function AP(n,t,e){return function TP(n,t){return Gy(n,"value","on",t).pipe((0,A.U)(e=>{let r;return e.payload.forEach(a=>(r=a.key,!1)),{data:e,lastKeyToLoad:r}}))}(n,e).pipe(function oD(...n){const t=(0,Jr.jO)(n);return(0,Xn.e)((e,r)=>{const a=n.length,u=new Array(a);let f=n.map(()=>!1),y=!1;for(let C=0;C<a;C++)(0,Ms.Xf)(n[C]).subscribe((0,Ue.x)(r,I=>{u[C]=I,!y&&!f[C]&&(f[C]=!0,(y=f.every(D.y))&&(f=null))},B_.Z));e.subscribe((0,Ue.x)(r,C=>{if(y){const I=[C,...u];r.next(t?t(...I):I)}}))})}(t),(0,A.U)(([a,u])=>{const f=a.lastKeyToLoad,y=u.map(C=>C.key);return{actions:u,lastKeyToLoad:f,loadedKeys:y}}),function H_(n){return(0,Xn.e)((t,e)=>{let r=!1,a=0;t.subscribe((0,Ue.x)(e,u=>(r||(r=!n(u,a++)))&&e.next(u)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,A.U)(a=>a.actions))}(n,bA(n,t).pipe(vu((a,u)=>[...a,u],[])),e)}(n,a,e).pipe(Ii.iC),valueChanges:(a,u)=>wA(n,a,e).pipe((0,A.U)(y=>y.map(C=>u&&u.idField?Object.assign(Object.assign({},C.payload.val()),{[u.idField]:C.key}):C.payload.val())),Ii.iC)}}(u,this)}object(e){return function PP(n,t){return{query:n,snapshotChanges:()=>IA(n,t.schedulers.outsideAngular)().pipe(Ii.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>IA(n,t.schedulers.outsideAngular)().pipe(Ii.iC,(0,A.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>yA(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ss.Dh),c.LFG(ss.xv,8),c.LFG(NP,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Ii.HU),c.LFG(OP,8),c.LFG(Cg,8),c.LFG(_C,8),c.LFG(yC,8),c.LFG(vC,8),c.LFG(yg,8),c.LFG(vg,8),c.LFG(V_,8),c.LFG(U_,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kP=(()=>{class n{constructor(){gC.Z.registerVersion("angularfire",Ii.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[SA]}),n})();class xf{constructor(t){this.database=t}insertDocument(t){var e=this.database.database.ref().child("listing").push().key;return t.id=e,this.database.database.ref().child("listing").child(e).set(t)}deleteDocument(t){return this.database.database.ref().child("listing").child(t).remove()}updateDocument(t){return this.database.database.ref().child("listing").child(t.id).update(t)}fetchDocuments(){return this.database.database.ref().child("listing")}}function xP(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"tr")(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td")(8,"button",9),c.NdJ("click",function(){const u=c.CHM(e).$implicit,f=c.oxw();return c.KtG(f.editListing(u))}),c._uU(9,"Edit"),c.qZA(),c.TgZ(10,"button",10),c.NdJ("click",function(){const u=c.CHM(e).$implicit,f=c.oxw();return c.KtG(f.deleteListing(u.id))}),c._uU(11,"Delete"),c.qZA()()()}if(2&n){const e=t.$implicit,r=t.index;c.xp6(2),c.hij(" ",r+1," "),c.xp6(2),c.hij(" ",e.title," "),c.xp6(2),c.hij(" ",e.description," ")}}xf.\u0275fac=function(t){return new(t||xf)(c.LFG(SA))},xf.\u0275prov=c.Yz7({token:xf,factory:xf.\u0275fac,providedIn:"root"});class zy{constructor(t){this.firebaseService=t,this.listingArray=[],this.title="",this.description=""}ngOnInit(){this.fetchListings()}fetchListings(){this.firebaseService.fetchDocuments().on("value",t=>{this.listingArray=[],t.forEach(e=>{this.listingArray.push(e.val())})})}saveListing(){const t=new EC;t.title=this.title,t.description=this.description,this.firebaseService.insertDocument(t).then(e=>{}).catch(e=>{alert(e)})}resetListing(){this.title="",this.description=""}editListing(t){const e=prompt("Do you wnt to change?",t.title);(""!=e||null!=e)&&(t.title=e,this.firebaseService.updateDocument(t).then(r=>{}).catch(r=>{alert(r)}))}deleteListing(t){this.firebaseService.deleteDocument(t).then(e=>{}).catch(e=>{alert(e)})}}zy.\u0275fac=function(t){return new(t||zy)(c.Y36(xf))},zy.\u0275cmp=c.Xpm({type:zy,selectors:[["app-database"]],decls:27,vars:3,consts:[[1,"container-fluid"],[1,"row"],[1,"col"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","","id","","cols","30","rows","10",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],["type","reset",1,"btn","btn-warning",3,"click"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-warning",3,"click"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,e){1&t&&(c.TgZ(0,"h3"),c._uU(1,"Listing Project"),c.qZA(),c.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"input",3),c.NdJ("ngModelChange",function(a){return e.title=a}),c.qZA()(),c.TgZ(6,"div",2)(7,"textarea",4),c.NdJ("ngModelChange",function(a){return e.description=a}),c.qZA()()(),c.TgZ(8,"div",1)(9,"div",2)(10,"button",5),c.NdJ("click",function(){return e.saveListing()}),c._uU(11,"Save"),c.qZA(),c.TgZ(12,"button",6),c.NdJ("click",function(){return e.resetListing()}),c._uU(13,"Reset"),c.qZA()()(),c.TgZ(14,"div",1)(15,"div",2)(16,"table",7)(17,"tr")(18,"th"),c._uU(19," Sr.No. "),c.qZA(),c.TgZ(20,"th"),c._uU(21," Title "),c.qZA(),c.TgZ(22,"th"),c._uU(23," Description "),c.qZA(),c.TgZ(24,"th"),c._uU(25," Actions "),c.qZA()(),c.YNc(26,xP,12,3,"tr",8),c.qZA()()()()),2&t&&(c.xp6(5),c.Q6J("ngModel",e.title),c.xp6(2),c.Q6J("ngModel",e.description),c.xp6(19),c.Q6J("ngForOf",e.listingArray))},dependencies:[Pr,Hu,Vp,Zh]});class Wy{constructor(){this.receivedContent="",this.myEvent=new c.vpe}ngOnInit(){}sendDataToParent(){this.myEvent.emit("Thank You!")}}Wy.\u0275fac=function(t){return new(t||Wy)},Wy.\u0275cmp=c.Xpm({type:Wy,selectors:[["app-child"]],inputs:{receivedContent:"receivedContent"},outputs:{myEvent:"myEvent"},decls:6,vars:1,consts:[[1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(c.TgZ(0,"p"),c._uU(1,"child works!"),c.qZA(),c.TgZ(2,"h3"),c._uU(3),c.qZA(),c.TgZ(4,"button",0),c.NdJ("click",function(){return e.sendDataToParent()}),c._uU(5," Send Data to Parent "),c.qZA()),2&t&&(c.xp6(3),c.Oqu(e.receivedContent))}});class Zy{constructor(){this.name="Felix IT Systems",this.received=""}ngOnInit(){}eventOccurs(t){alert(t),this.received=t}}Zy.\u0275fac=function(t){return new(t||Zy)},Zy.\u0275cmp=c.Xpm({type:Zy,selectors:[["app-parent"]],decls:6,vars:2,consts:[[3,"receivedContent","myEvent"]],template:function(t,e){1&t&&(c.TgZ(0,"p"),c._uU(1,"parent works!"),c.qZA(),c.TgZ(2,"h3"),c._uU(3),c.qZA(),c._UZ(4,"hr"),c.TgZ(5,"app-child",0),c.NdJ("myEvent",function(a){return e.eventOccurs(a)}),c.qZA()),2&t&&(c.xp6(3),c.hij(" ",e.received," "),c.xp6(2),c.Q6J("receivedContent",e.name))},dependencies:[Wy]});class qy{transform(t){return Math.sqrt(t)}}qy.\u0275fac=function(t){return new(t||qy)},qy.\u0275pipe=c.Yjl({name:"sqrt",type:qy,pure:!0});class Ky{constructor(){this.name="felix",this.user={id:1,firstname:"nutan",lastname:"zungre"},this.arr=["jan","feb","mar","apr","may","jun","jul","aug","sept"]}ngOnInit(){}}Ky.\u0275fac=function(t){return new(t||Ky)},Ky.\u0275cmp=c.Xpm({type:Ky,selectors:[["app-pipe"]],decls:47,vars:32,template:function(t,e){1&t&&(c.TgZ(0,"p"),c._uU(1,"pipe works!"),c.qZA(),c.TgZ(2,"h3"),c._uU(3,"Upper case"),c.qZA(),c.TgZ(4,"p"),c._uU(5),c.ALo(6,"uppercase"),c.qZA(),c.TgZ(7,"h3"),c._uU(8,"Lower case"),c.qZA(),c.TgZ(9,"p"),c._uU(10),c.ALo(11,"lowercase"),c.qZA(),c.TgZ(12,"h3"),c._uU(13,"Date pipes"),c.qZA(),c.TgZ(14,"p"),c._uU(15),c.ALo(16,"date"),c.qZA(),c.TgZ(17,"h3"),c._uU(18,"Decimal pipe"),c.qZA(),c.TgZ(19,"p"),c._uU(20),c.ALo(21,"number"),c.qZA(),c.TgZ(22,"h3"),c._uU(23,"Decimal pipe"),c.qZA(),c.TgZ(24,"p"),c._uU(25),c.ALo(26,"number"),c.qZA(),c.TgZ(27,"h3"),c._uU(28,"JSON pipe"),c.qZA(),c.TgZ(29,"p"),c._uU(30),c.ALo(31,"json"),c.qZA(),c.TgZ(32,"h3"),c._uU(33,"slice pipe"),c.qZA(),c.TgZ(34,"p"),c._uU(35),c.ALo(36,"slice"),c.qZA(),c.TgZ(37,"h3"),c._uU(38,"percent pipe"),c.qZA(),c.TgZ(39,"p"),c._uU(40),c.ALo(41,"percent"),c.qZA(),c.TgZ(42,"h3"),c._uU(43,"sqrt pipe"),c.qZA(),c.TgZ(44,"p"),c._uU(45),c.ALo(46,"sqrt"),c.qZA()),2&t&&(c.xp6(5),c.Oqu(c.lcZ(6,9,e.name)),c.xp6(5),c.Oqu(c.lcZ(11,11,e.name)),c.xp6(5),c.Oqu(c.xi3(16,13,1676119338,"dd-mm-yyyy hh:mm:ss a")),c.xp6(5),c.Oqu(c.xi3(21,16,3.151511511,"1.2")),c.xp6(5),c.Oqu(c.xi3(26,19,3.151511511,"1.2-2")),c.xp6(5),c.Oqu(c.lcZ(31,22,e.user)),c.xp6(5),c.Oqu(c.Dn7(36,24,e.arr,2,6)),c.xp6(5),c.Oqu(c.lcZ(41,28,.75)),c.xp6(5),c.Oqu(c.lcZ(46,30,25)))},dependencies:[Or,jn,hi,kr,pc,gc,ur,qy]});class Hw{}class EI{}class sc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const a=e.slice(0,r),u=a.toLowerCase(),f=e.slice(r+1).trim();this.maybeSetNormalizedName(a,u),this.headers.has(u)?this.headers.get(u).push(f):this.headers.set(u,[f])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const a=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(a,r),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof sc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new sc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof sc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const a=("a"===t.op?this.headers.get(e):void 0)||[];a.push(...r),this.headers.set(e,a);break;case"d":const u=t.value;if(u){let f=this.headers.get(e);if(!f)return;f=f.filter(y=>-1===u.indexOf(y)),0===f.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,f)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class FP{encodeKey(t){return TA(t)}encodeValue(t){return TA(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const UP=/%(\d[a-f0-9])/gi,VP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function TA(n){return encodeURIComponent(n).replace(UP,(t,e)=>VP[e]??t)}function jw(n){return`${n}`}class Jd{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new FP,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function LP(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{const u=a.indexOf("="),[f,y]=-1==u?[t.decodeKey(a),""]:[t.decodeKey(a.slice(0,u)),t.decodeValue(a.slice(u+1))],C=e.get(f)||[];C.push(y),e.set(f,C)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],a=Array.isArray(r)?r.map(jw):[jw(r)];this.map.set(e,a)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const a=t[r];Array.isArray(a)?a.forEach(u=>{e.push({param:r,value:u,op:"a"})}):e.push({param:r,value:a,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Jd({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(jw(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const a=r.indexOf(jw(t.value));-1!==a&&r.splice(a,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class BP{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function AA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function MA(n){return typeof Blob<"u"&&n instanceof Blob}function RA(n){return typeof FormData<"u"&&n instanceof FormData}class Yy{constructor(t,e,r,a){let u;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function HP(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==r?r:null,u=a):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new sc),this.context||(this.context=new BP),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=e;else{const y=e.indexOf("?");this.urlWithParams=e+(-1===y?"?":y<e.length-1?"&":"")+f}}else this.params=new Jd,this.urlWithParams=e}serializeBody(){return null===this.body?null:AA(this.body)||MA(this.body)||RA(this.body)||function jP(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||RA(this.body)?null:MA(this.body)?this.body.type||null:AA(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,a=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,f=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,y=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let C=t.headers||this.headers,I=t.params||this.params;const P=t.context??this.context;return void 0!==t.setHeaders&&(C=Object.keys(t.setHeaders).reduce((N,$)=>N.set($,t.setHeaders[$]),C)),t.setParams&&(I=Object.keys(t.setParams).reduce((N,$)=>N.set($,t.setParams[$]),I)),new Yy(e,r,u,{params:I,headers:C,context:P,reportProgress:y,responseType:a,withCredentials:f})}}var mr=(()=>((mr=mr||{})[mr.Sent=0]="Sent",mr[mr.UploadProgress=1]="UploadProgress",mr[mr.ResponseHeader=2]="ResponseHeader",mr[mr.DownloadProgress=3]="DownloadProgress",mr[mr.Response=4]="Response",mr[mr.User=5]="User",mr))();class CI{constructor(t,e=200,r="OK"){this.headers=t.headers||new sc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class wI extends CI{constructor(t={}){super(t),this.type=mr.ResponseHeader}clone(t={}){return new wI({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class $w extends CI{constructor(t={}){super(t),this.type=mr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new $w({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class PA extends CI{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function bI(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let NA=(()=>{class n{constructor(e){this.handler=e}request(e,r,a={}){let u;if(e instanceof Yy)u=e;else{let C,I;C=a.headers instanceof sc?a.headers:new sc(a.headers),a.params&&(I=a.params instanceof Jd?a.params:new Jd({fromObject:a.params})),u=new Yy(e,r,void 0!==a.body?a.body:null,{headers:C,context:a.context,params:I,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const f=Ye(u).pipe(ta(C=>this.handler.handle(C)));if(e instanceof Yy||"events"===a.observe)return f;const y=f.pipe(Wn(C=>C instanceof $w));switch(a.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return y.pipe((0,A.U)(C=>{if(null!==C.body&&!(C.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return C.body}));case"blob":return y.pipe((0,A.U)(C=>{if(null!==C.body&&!(C.body instanceof Blob))throw new Error("Response is not a Blob.");return C.body}));case"text":return y.pipe((0,A.U)(C=>{if(null!==C.body&&"string"!=typeof C.body)throw new Error("Response is not a string.");return C.body}));default:return y.pipe((0,A.U)(C=>C.body))}case"response":return y;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Jd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,a={}){return this.request("PATCH",e,bI(a,r))}post(e,r,a={}){return this.request("POST",e,bI(a,r))}put(e,r,a={}){return this.request("PUT",e,bI(a,r))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Hw))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function OA(n,t){return t(n)}function $P(n,t){return(e,r)=>t.intercept(e,{handle:a=>n(a,r)})}const zP=new c.OlP("HTTP_INTERCEPTORS"),Qy=new c.OlP("HTTP_INTERCEPTOR_FNS");function WP(){let n=null;return(t,e)=>(null===n&&(n=((0,c.f3M)(zP,{optional:!0})??[]).reduceRight($P,OA)),n(t,e))}let kA=(()=>{class n extends Hw{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Qy)));this.chain=r.reduceRight((a,u)=>function GP(n,t,e){return(r,a)=>e.runInContext(()=>t(r,u=>n(u,a)))}(a,u,this.injector),OA)}return this.chain(e,r=>this.backend.handle(r))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(EI),c.LFG(c.lqb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const YP=/^\)\]\}',?\n/;let FA=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new vi.y(r=>{const a=this.xhrFactory.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((K,X)=>a.setRequestHeader(K,X.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const K=e.detectContentTypeHeader();null!==K&&a.setRequestHeader("Content-Type",K)}if(e.responseType){const K=e.responseType.toLowerCase();a.responseType="json"!==K?K:"text"}const u=e.serializeBody();let f=null;const y=()=>{if(null!==f)return f;const K=a.statusText||"OK",X=new sc(a.getAllResponseHeaders()),Se=function QP(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(a)||e.url;return f=new wI({headers:X,status:a.status,statusText:K,url:Se}),f},C=()=>{let{headers:K,status:X,statusText:Se,url:je}=y(),tt=null;204!==X&&(tt=typeof a.response>"u"?a.responseText:a.response),0===X&&(X=tt?200:0);let Dt=X>=200&&X<300;if("json"===e.responseType&&"string"==typeof tt){const qt=tt;tt=tt.replace(YP,"");try{tt=""!==tt?JSON.parse(tt):null}catch(Ot){tt=qt,Dt&&(Dt=!1,tt={error:Ot,text:tt})}}Dt?(r.next(new $w({body:tt,headers:K,status:X,statusText:Se,url:je||void 0})),r.complete()):r.error(new PA({error:tt,headers:K,status:X,statusText:Se,url:je||void 0}))},I=K=>{const{url:X}=y(),Se=new PA({error:K,status:a.status||0,statusText:a.statusText||"Unknown Error",url:X||void 0});r.error(Se)};let P=!1;const N=K=>{P||(r.next(y()),P=!0);let X={type:mr.DownloadProgress,loaded:K.loaded};K.lengthComputable&&(X.total=K.total),"text"===e.responseType&&a.responseText&&(X.partialText=a.responseText),r.next(X)},$=K=>{let X={type:mr.UploadProgress,loaded:K.loaded};K.lengthComputable&&(X.total=K.total),r.next(X)};return a.addEventListener("load",C),a.addEventListener("error",I),a.addEventListener("timeout",I),a.addEventListener("abort",I),e.reportProgress&&(a.addEventListener("progress",N),null!==u&&a.upload&&a.upload.addEventListener("progress",$)),a.send(u),r.next({type:mr.Sent}),()=>{a.removeEventListener("error",I),a.removeEventListener("abort",I),a.removeEventListener("load",C),a.removeEventListener("timeout",I),e.reportProgress&&(a.removeEventListener("progress",N),null!==u&&a.upload&&a.upload.removeEventListener("progress",$)),a.readyState!==a.DONE&&a.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Wl))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const DI=new c.OlP("XSRF_ENABLED"),LA="XSRF-TOKEN",UA=new c.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>LA}),VA="X-XSRF-TOKEN",BA=new c.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>VA});class HA{}let JP=(()=>{class n{constructor(e,r,a){this.doc=e,this.platform=r,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hn(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ee),c.LFG(c.Lbi),c.LFG(UA))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function XP(n,t){const e=n.url.toLowerCase();if(!(0,c.f3M)(DI)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const r=(0,c.f3M)(HA).getToken(),a=(0,c.f3M)(BA);return null!=r&&!n.headers.has(a)&&(n=n.clone({headers:n.headers.set(a,r)})),t(n)}var ir=(()=>((ir=ir||{})[ir.Interceptors=0]="Interceptors",ir[ir.LegacyInterceptors=1]="LegacyInterceptors",ir[ir.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ir[ir.NoXsrfProtection=3]="NoXsrfProtection",ir[ir.JsonpSupport=4]="JsonpSupport",ir[ir.RequestsMadeViaParent=5]="RequestsMadeViaParent",ir))();function Wg(n,t){return{\u0275kind:n,\u0275providers:t}}function eN(...n){const t=[NA,FA,kA,{provide:Hw,useExisting:kA},{provide:EI,useExisting:FA},{provide:Qy,useValue:XP,multi:!0},{provide:DI,useValue:!0},{provide:HA,useClass:JP}];for(const e of n)t.push(...e.\u0275providers);return(0,c.MR2)(t)}const jA=new c.OlP("LEGACY_INTERCEPTOR_FN");function nN({cookieName:n,headerName:t}){const e=[];return void 0!==n&&e.push({provide:UA,useValue:n}),void 0!==t&&e.push({provide:BA,useValue:t}),Wg(ir.CustomXsrfConfiguration,e)}let rN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[eN(Wg(ir.LegacyInterceptors,[{provide:jA,useFactory:WP},{provide:Qy,useExisting:jA,multi:!0}]),nN({cookieName:LA,headerName:VA}))]}),n})();class Ff{constructor(t){this.http=t,this.x=0,console.log("service called")}fetchAllPosts(){return this.http.get("https://jsonplaceholder.typicode.com/posts")}createPost(){return this.http.post("https://jsonplaceholder.typicode.com/posts",{title:"foo",body:"bar",userId:1})}createObservables(){return new vi.y(t=>{0==this.x?t.next(this.x):t.error("No data found"),t.complete()})}}function iN(n,t){if(1&n&&(c.TgZ(0,"tr")(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c._uU(8),c.qZA()()),2&n){const e=t.$implicit;c.xp6(2),c.hij(" ",e.userId," "),c.xp6(2),c.hij(" ",e.id," "),c.xp6(2),c.hij(" ",e.title," "),c.xp6(2),c.hij(" ",e.body," ")}}Ff.\u0275fac=function(t){return new(t||Ff)(c.LFG(NA))},Ff.\u0275prov=c.Yz7({token:Ff,factory:Ff.\u0275fac,providedIn:"root"});class Jy{constructor(t){this.apiService=t,this.postArray=[],this.subscription1=this.apiService.fetchAllPosts().subscribe(e=>{this.postArray=e}),this.subscription2=this.apiService.createPost().subscribe(e=>{console.log(e)}),this.subscription3=this.apiService.createObservables().subscribe(e=>{console.log(e)},e=>{console.log(e)},()=>{console.log("completed")}),Ye(10,20,30).pipe((0,A.U)(e=>2*e)).subscribe(e=>{}),Ye(10,20,30).pipe(Wn(e=>e>15)).subscribe(e=>{}),Ye(10,20,30).pipe((0,A.U)(e=>2*e),Wn(e=>e>15)).subscribe(e=>{}),Ye(10,20,30).pipe(Wn(e=>e>15),(0,A.U)(e=>2*e)).subscribe(e=>{})}ngOnInit(){}ngOnDestroy(){this.subscription1.unsubscribe(),this.subscription2.unsubscribe(),this.subscription3.unsubscribe()}}function sN(n,t){1&n&&c._UZ(0,"p",10)}function oN(n,t){1&n&&c._UZ(0,"p",10)}function aN(n,t){1&n&&c._UZ(0,"p",10)}function lN(n,t){1&n&&c._UZ(0,"p",10)}function uN(n,t){1&n&&c._UZ(0,"p",10)}Jy.\u0275fac=function(t){return new(t||Jy)(c.Y36(Ff))},Jy.\u0275cmp=c.Xpm({type:Jy,selectors:[["app-posts"]],decls:13,vars:1,consts:[[1,"table","table-bordered"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(c.TgZ(0,"p"),c._uU(1,"posts works!"),c.qZA(),c.TgZ(2,"table",0)(3,"tr")(4,"th"),c._uU(5," User Id "),c.qZA(),c.TgZ(6,"th"),c._uU(7," Id "),c.qZA(),c.TgZ(8,"th"),c._uU(9," Title "),c.qZA(),c.TgZ(10,"th"),c._uU(11," Body "),c.qZA()(),c.YNc(12,iN,9,4,"tr",1),c.qZA()),2&t&&(c.xp6(12),c.Q6J("ngForOf",e.postArray))},dependencies:[Pr]});class Xy{constructor(t){this.fb=t,this.issubmitted=!1,this.registerForm=this.fb.group({firstName:["",[In.required]],lastName:["",[In.required]],email:["",[In.required,In.email]],password:["",[In.required,In.pattern("[A-Z][a-z]")]],contact:["",[In.required,In.minLength(10),In.maxLength(10)]]})}ngOnInit(){}onFormSubmit(t){this.issubmitted=!0,console.log("valid ="+t.valid),console.log(t.value.firstName),console.log(t.value.lastName),console.log(t.value.email),console.log(t.value.password),console.log(t.value.contact)}}Xy.\u0275fac=function(t){return new(t||Xy)(c.Y36(Id))},Xy.\u0275cmp=c.Xpm({type:Xy,selectors:[["app-reactiveform"]],decls:28,vars:6,consts:[["action","",1,"form","w-50",3,"formGroup","ngSubmit"],[1,"form-group"],["for",""],["type","text","formControlName","firstName",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","lastName",1,"form-control"],["type","tel","formControlName","contact",1,"form-control"],["type","email","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-success"],[1,"text-danger"]],template:function(t,e){1&t&&(c.TgZ(0,"form",0),c.NdJ("ngSubmit",function(){return e.onFormSubmit(e.registerForm)}),c.TgZ(1,"div",1)(2,"label",2),c._uU(3,"Enter first name:"),c.qZA(),c._UZ(4,"input",3),c.qZA(),c.YNc(5,sN,1,0,"p",4),c.TgZ(6,"div",1)(7,"label",2),c._uU(8,"Enter Last name:"),c.qZA(),c._UZ(9,"input",5),c.qZA(),c.YNc(10,oN,1,0,"p",4),c.TgZ(11,"div",1)(12,"label",2),c._uU(13,"Enter Contact:"),c.qZA(),c._UZ(14,"input",6),c.qZA(),c.YNc(15,aN,1,0,"p",4),c.TgZ(16,"div",1)(17,"label",2),c._uU(18,"Enter Email:"),c.qZA(),c._UZ(19,"input",7),c.qZA(),c.YNc(20,lN,1,0,"p",4),c.TgZ(21,"div",1)(22,"label",2),c._uU(23,"Enter Password:"),c.qZA(),c._UZ(24,"input",8),c.qZA(),c.YNc(25,uN,1,0,"p",4),c.TgZ(26,"button",9),c._uU(27,"Submit"),c.qZA()()),2&t&&(c.Q6J("formGroup",e.registerForm),c.xp6(5),c.Q6J("ngIf",e.issubmitted&&e.registerForm.controls.firstName.errors),c.xp6(5),c.Q6J("ngIf",e.issubmitted&&e.registerForm.controls.lastName.errors),c.xp6(5),c.Q6J("ngIf",e.issubmitted&&e.registerForm.controls.contact.errors),c.xp6(5),c.Q6J("ngIf",e.issubmitted&&e.registerForm.controls.email.errors),c.xp6(5),c.Q6J("ngIf",e.issubmitted&&e.registerForm.controls.password.errors))},dependencies:[cs,Yp,Hu,Vp,Vm,wd,bd]});class ev{}ev.\u0275fac=function(t){return new(t||ev)},ev.\u0275cmp=c.Xpm({type:ev,selectors:[["app-primary"]],decls:2,vars:0,template:function(t,e){1&t&&(c.TgZ(0,"p"),c._uU(1,"primary works!"),c.qZA())}});class tv{constructor(t){this.router=t}ngOnInit(){}navigateSocial(){this.router.navigateByUrl("routing/social")}}tv.\u0275fac=function(t){return new(t||tv)(c.Y36(bi))},tv.\u0275cmp=c.Xpm({type:tv,selectors:[["app-routing"]],decls:9,vars:0,consts:[[1,"btn-group"],["routerLink","./primary",1,"btn","btn-primary"],[1,"btn","btn-secondary",3,"click"]],template:function(t,e){1&t&&(c.TgZ(0,"p"),c._uU(1,"routingcmp works!"),c.qZA(),c.TgZ(2,"div",0)(3,"button",1),c._uU(4,"Primary"),c.qZA(),c.TgZ(5,"button",2),c.NdJ("click",function(){return e.navigateSocial()}),c._uU(6,"Social"),c.qZA()(),c._UZ(7,"hr")(8,"router-outlet"))},dependencies:[mp,sd]});class Zg{constructor(t){this.actroute=t,this.userId=0}ngOnInit(){this.actroute.params.subscribe(t=>{this.userId=t.id})}}Zg.\u0275fac=function(t){return new(t||Zg)(c.Y36(ut))},Zg.\u0275cmp=c.Xpm({type:Zg,selectors:[["app-social"]],decls:4,vars:1,template:function(t,e){1&t&&(c.TgZ(0,"p"),c._uU(1,"social works!"),c.qZA(),c.TgZ(2,"h3"),c._uU(3),c.qZA()),2&t&&(c.xp6(3),c.Oqu(e.userId))}});class Lf{constructor(){this.subject=new ki.x}sendDataThroughSubject(t){this.subject.next(t)}resetDataThroughSubject(){this.subject.next("")}receiveDataThroughSubject(){return this.subject.asObservable()}}Lf.\u0275fac=function(t){return new(t||Lf)},Lf.\u0275prov=c.Yz7({token:Lf,factory:Lf.\u0275fac,providedIn:"root"});class nv{constructor(t){this.service=t,this.content=""}ngOnInit(){}saveContent(){this.service.sendDataThroughSubject(this.content),this.content=""}resetContent(){this.service.resetDataThroughSubject()}}nv.\u0275fac=function(t){return new(t||nv)(c.Y36(Lf))},nv.\u0275cmp=c.Xpm({type:nv,selectors:[["app-send-message"]],decls:11,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"col"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-warning",3,"click"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),c.NdJ("ngModelChange",function(a){return e.content=a}),c.qZA()()(),c._UZ(4,"br"),c.TgZ(5,"div",1)(6,"div",2)(7,"button",4),c.NdJ("click",function(){return e.saveContent()}),c._uU(8,"Save"),c.qZA(),c.TgZ(9,"button",5),c.NdJ("click",function(){return e.resetContent()}),c._uU(10,"Reset"),c.qZA()()()()),2&t&&(c.xp6(3),c.Q6J("ngModel",e.content))},dependencies:[Hu,Vp,Zh]});class rv{constructor(t){this.service=t,this.gotContent="",this.subscription=this.service.receiveDataThroughSubject().subscribe(r=>{this.gotContent=r})}ngOnInit(){}ngOnDestroy(){this.subscription.unsubscribe()}}rv.\u0275fac=function(t){return new(t||rv)(c.Y36(Lf))},rv.\u0275cmp=c.Xpm({type:rv,selectors:[["app-receive-message"]],decls:4,vars:1,template:function(t,e){1&t&&(c.TgZ(0,"p"),c._uU(1,"receive-message works!"),c.qZA(),c.TgZ(2,"h3"),c._uU(3),c.qZA()),2&t&&(c.xp6(3),c.hij(" ",e.gotContent," "))}});class iv{}iv.\u0275fac=function(t){return new(t||iv)},iv.\u0275cmp=c.Xpm({type:iv,selectors:[["app-subject"]],decls:8,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col"]],template:function(t,e){1&t&&(c.TgZ(0,"p"),c._uU(1,"subject works!"),c.qZA(),c.TgZ(2,"div",0)(3,"div",1)(4,"div",2),c._UZ(5,"app-send-message"),c.qZA(),c.TgZ(6,"div",2),c._UZ(7,"app-receive-message"),c.qZA()()())},dependencies:[nv,rv]});const cN=[{path:"data-binding",component:Pd},{path:"directive",component:Co},{path:"",redirectTo:"data-binding",pathMatch:"full"},{path:"routing",component:tv,children:[{path:"primary",component:ev},{path:"social",component:Zg},{path:"social/:id",component:Zg},{path:"",redirectTo:"primary",pathMatch:"full"}]},{path:"pipe",component:Ky},{path:"animation",component:dd},{path:"reactiveform",component:Xy},{path:"http",component:Jy},{path:"subject",component:iv},{path:"parent",component:Zy},{path:"auth",component:tf},{path:"database",component:zy}];class qg{}qg.\u0275fac=function(t){return new(t||qg)},qg.\u0275mod=c.oAB({type:qg}),qg.\u0275inj=c.cJS({imports:[rE.forRoot(cN),rE]});class sv{}sv.\u0275fac=function(t){return new(t||sv)},sv.\u0275cmp=c.Xpm({type:sv,selectors:[["app-sidebar"]],decls:23,vars:0,consts:[[1,"sidebar"],["routerLink","data-binding",1,"active"],["routerLink","directive"],["routerLink","routing"],["routerLink","pipe"],["routerLink","animation"],["routerLink","reactiveform"],["routerLink","http"],["routerLink","subject"],["routerLink","parent"],["routerLink","auth"],["routerLink","database"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0)(1,"a",1),c._uU(2,"Data-Binding"),c.qZA(),c.TgZ(3,"a",2),c._uU(4,"Directive"),c.qZA(),c.TgZ(5,"a",3),c._uU(6,"Nested Routing"),c.qZA(),c.TgZ(7,"a",4),c._uU(8,"Angular Pipes"),c.qZA(),c.TgZ(9,"a",5),c._uU(10,"Angular Animation"),c.qZA(),c.TgZ(11,"a",6),c._uU(12,"Reactive Form"),c.qZA(),c.TgZ(13,"a",7),c._uU(14,"HTTP"),c.qZA(),c.TgZ(15,"a",8),c._uU(16,"Subject"),c.qZA(),c.TgZ(17,"a",9),c._uU(18,"Parent-Child"),c.qZA(),c.TgZ(19,"a",10),c._uU(20,"Firebase Authentication"),c.qZA(),c.TgZ(21,"a",11),c._uU(22,"Firebase Database"),c.qZA()())},dependencies:[sd],styles:["body[_ngcontent-%COMP%]{margin:0;font-family:Lato,sans-serif}.sidebar[_ngcontent-%COMP%]{margin:0;padding:0;width:200px;background-color:#f1f1f1;position:fixed;height:100%;overflow:auto}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#000;padding:16px;text-decoration:none}.sidebar[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#04aa6d;color:#fff}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:not(.active){background-color:#555;color:#fff}@media screen and (max-width: 700px){.sidebar[_ngcontent-%COMP%]{width:100%;height:auto;position:relative}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:left}div.content[_ngcontent-%COMP%]{margin-left:0}}@media screen and (max-width: 400px){.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;float:none}}"]});class ov{constructor(){this.title="pipe"}}function $A(n){return new c.vHH(3e3,!1)}function zN(){return typeof window<"u"&&typeof window.document<"u"}function II(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Xd(n){switch(n.length){case 0:return new Bh;case 1:return n[0];default:return new aE(n)}}function GA(n,t,e,r,a=new Map,u=new Map){const f=[],y=[];let C=-1,I=null;if(r.forEach(P=>{const N=P.get("offset"),$=N==C,K=$&&I||new Map;P.forEach((X,Se)=>{let je=Se,tt=X;if("offset"!==Se)switch(je=t.normalizePropertyName(je,f),tt){case"!":tt=a.get(Se);break;case Vi:tt=u.get(Se);break;default:tt=t.normalizeStyleValue(Se,je,tt,f)}K.set(je,tt)}),$||y.push(K),I=K,C=N}),f.length)throw function ON(n){return new c.vHH(3502,!1)}();return y}function SI(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&TI(e,"start",n)));break;case"done":n.onDone(()=>r(e&&TI(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&TI(e,"destroy",n)))}}function TI(n,t,e){const u=AI(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),f=n._data;return null!=f&&(u._data=f),u}function AI(n,t,e,r,a="",u=0,f){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:a,totalTime:u,disabled:!!f}}function js(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function zA(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}ov.\u0275fac=function(t){return new(t||ov)},ov.\u0275cmp=c.Xpm({type:ov,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-3"],[1,"col-9"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c._UZ(3,"app-sidebar"),c.qZA(),c.TgZ(4,"div",3),c._UZ(5,"router-outlet"),c.qZA()()())},dependencies:[mp,sv]});let MI=(n,t)=>!1,WA=(n,t,e)=>[],ZA=null;function RI(n){const t=n.parentNode||n.host;return t===ZA?null:t}(II()||typeof Element<"u")&&(zN()?(ZA=(()=>document.documentElement)(),MI=(n,t)=>{for(;t;){if(t===n)return!0;t=RI(t)}return!1}):MI=(n,t)=>n.contains(t),WA=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let Uf=null,qA=!1;const KA=MI,YA=WA;let QA=(()=>{class n{validateStyleProperty(e){return function ZN(n){Uf||(Uf=function qN(){return typeof document<"u"?document.body:null}()||{},qA=!!Uf.style&&"WebkitAppearance"in Uf.style);let t=!0;return Uf.style&&!function WN(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Uf.style,!t&&qA&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Uf.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return KA(e,r)}getParentElement(e){return RI(e)}query(e,r,a){return YA(e,r,a)}computeStyle(e,r,a){return a||""}animate(e,r,a,u,f,y=[],C){return new Bh(a,u)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),PI=(()=>{class n{}return n.NOOP=new QA,n})();const NI="ng-enter",Gw="ng-leave",zw="ng-trigger",Ww=".ng-trigger",XA="ng-animating",OI=".ng-animating";function oc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:kI(parseFloat(t[1]),t[2])}function kI(n,t){return"s"===t?1e3*n:n}function Zw(n,t,e){return n.hasOwnProperty("duration")?n:function QN(n,t,e){let a,u=0,f="";if("string"==typeof n){const y=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===y)return t.push($A()),{duration:0,delay:0,easing:""};a=kI(parseFloat(y[1]),y[2]);const C=y[3];null!=C&&(u=kI(parseFloat(C),y[4]));const I=y[5];I&&(f=I)}else a=n;if(!e){let y=!1,C=t.length;a<0&&(t.push(function dN(){return new c.vHH(3100,!1)}()),y=!0),u<0&&(t.push(function hN(){return new c.vHH(3101,!1)}()),y=!0),y&&t.splice(C,0,$A())}return{duration:a,delay:u,easing:f}}(n,t,e)}function av(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function eM(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function eh(n,t=new Map,e){if(e)for(let[r,a]of e)t.set(r,a);for(let[r,a]of n)t.set(r,a);return t}function nM(n,t,e){return e?t+":"+e+";":""}function rM(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=nM(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=nM(0,tO(e),n.style[e]));n.setAttribute("style",t)}function Ol(n,t,e){n.style&&(t.forEach((r,a)=>{const u=FI(a);e&&!e.has(a)&&e.set(a,n.style[u]),n.style[u]=r}),II()&&rM(n))}function Vf(n,t){n.style&&(t.forEach((e,r)=>{const a=FI(r);n.style[a]=""}),II()&&rM(n))}function lv(n){return Array.isArray(n)?1==n.length?n[0]:Tp(n):n}const xI=new RegExp("{{\\s*(.+?)\\s*}}","g");function iM(n){let t=[];if("string"==typeof n){let e;for(;e=xI.exec(n);)t.push(e[1]);xI.lastIndex=0}return t}function uv(n,t,e){const r=n.toString(),a=r.replace(xI,(u,f)=>{let y=t[f];return null==y&&(e.push(function pN(n){return new c.vHH(3003,!1)}()),y=""),y.toString()});return a==r?n:a}function qw(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const eO=/-+([a-z0-9])/g;function FI(n){return n.replace(eO,(...t)=>t[1].toUpperCase())}function tO(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function $s(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function gN(n){return new c.vHH(3004,!1)}()}}function sM(n,t){return window.getComputedStyle(n)[t]}function aO(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function lO(n,t,e){if(":"==n[0]){const C=function uO(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function MN(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof C)return void t.push(C);n=C}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function AN(n){return new c.vHH(3015,!1)}()),t;const a=r[1],u=r[2],f=r[3];t.push(oM(a,f));"<"==u[0]&&!("*"==a&&"*"==f)&&t.push(oM(f,a))}(r,e,t)):e.push(n),e}const Jw=new Set(["true","1"]),Xw=new Set(["false","0"]);function oM(n,t){const e=Jw.has(n)||Xw.has(n),r=Jw.has(t)||Xw.has(t);return(a,u)=>{let f="*"==n||n==a,y="*"==t||t==u;return!f&&e&&"boolean"==typeof a&&(f=a?Jw.has(n):Xw.has(n)),!y&&r&&"boolean"==typeof u&&(y=u?Jw.has(t):Xw.has(t)),f&&y}}const cO=new RegExp("s*:selfs*,?","g");function LI(n,t,e,r){return new dO(n).build(t,e,r)}class dO{constructor(t){this._driver=t}build(t,e,r){const a=new pO(e);return this._resetContextStyleTimingState(a),$s(this,lv(t),a)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,a=e.depCount=0;const u=[],f=[];return"@"==t.name.charAt(0)&&e.errors.push(function _N(){return new c.vHH(3006,!1)}()),t.definitions.forEach(y=>{if(this._resetContextStyleTimingState(e),0==y.type){const C=y,I=C.name;I.toString().split(/\s*,\s*/).forEach(P=>{C.name=P,u.push(this.visitState(C,e))}),C.name=I}else if(1==y.type){const C=this.visitTransition(y,e);r+=C.queryCount,a+=C.depCount,f.push(C)}else e.errors.push(function yN(){return new c.vHH(3007,!1)}())}),{type:7,name:t.name,states:u,transitions:f,queryCount:r,depCount:a,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),a=t.options&&t.options.params||null;if(r.containsDynamicStyles){const u=new Set,f=a||{};r.styles.forEach(y=>{y instanceof Map&&y.forEach(C=>{iM(C).forEach(I=>{f.hasOwnProperty(I)||u.add(I)})})}),u.size&&(qw(u.values()),e.errors.push(function vN(n,t){return new c.vHH(3008,!1)}()))}return{type:0,name:t.name,style:r,options:a?{params:a}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=$s(this,lv(t.animation),e);return{type:1,matchers:aO(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Bf(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>$s(this,r,e)),options:Bf(t.options)}}visitGroup(t,e){const r=e.currentTime;let a=0;const u=t.steps.map(f=>{e.currentTime=r;const y=$s(this,f,e);return a=Math.max(a,e.currentTime),y});return e.currentTime=a,{type:3,steps:u,options:Bf(t.options)}}visitAnimate(t,e){const r=function mO(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return UI(Zw(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=UI(0,0,"");return u.dynamic=!0,u.strValue=e,u}const a=Zw(e,t);return UI(a.duration,a.delay,a.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let a,u=t.styles?t.styles:cd({});if(5==u.type)a=this.visitKeyframes(u,e);else{let f=t.styles,y=!1;if(!f){y=!0;const I={};r.easing&&(I.easing=r.easing),f=cd(I)}e.currentTime+=r.duration+r.delay;const C=this.visitStyle(f,e);C.isEmptyStep=y,a=C}return e.currentAnimateTimings=null,{type:4,timings:r,style:a,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],a=Array.isArray(t.styles)?t.styles:[t.styles];for(let y of a)"string"==typeof y?y===Vi?r.push(y):e.errors.push(new c.vHH(3002,!1)):r.push(eM(y));let u=!1,f=null;return r.forEach(y=>{if(y instanceof Map&&(y.has("easing")&&(f=y.get("easing"),y.delete("easing")),!u))for(let C of y.values())if(C.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:r,easing:f,offset:t.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let a=e.currentTime,u=e.currentTime;r&&u>0&&(u-=r.duration+r.delay),t.styles.forEach(f=>{"string"!=typeof f&&f.forEach((y,C)=>{const I=e.collectedStyles.get(e.currentQuerySelector),P=I.get(C);let N=!0;P&&(u!=a&&u>=P.startTime&&a<=P.endTime&&(e.errors.push(function CN(n,t,e,r,a){return new c.vHH(3010,!1)}()),N=!1),u=P.startTime),N&&I.set(C,{startTime:u,endTime:a}),e.options&&function XN(n,t,e){const r=t.params||{},a=iM(n);a.length&&a.forEach(u=>{r.hasOwnProperty(u)||e.push(function fN(n){return new c.vHH(3001,!1)}())})}(y,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function wN(){return new c.vHH(3011,!1)}()),r;let u=0;const f=[];let y=!1,C=!1,I=0;const P=t.steps.map(tt=>{const Dt=this._makeStyleAst(tt,e);let qt=null!=Dt.offset?Dt.offset:function gO(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Dt.styles),Ot=0;return null!=qt&&(u++,Ot=Dt.offset=qt),C=C||Ot<0||Ot>1,y=y||Ot<I,I=Ot,f.push(Ot),Dt});C&&e.errors.push(function bN(){return new c.vHH(3012,!1)}()),y&&e.errors.push(function DN(){return new c.vHH(3200,!1)}());const N=t.steps.length;let $=0;u>0&&u<N?e.errors.push(function IN(){return new c.vHH(3202,!1)}()):0==u&&($=1/(N-1));const K=N-1,X=e.currentTime,Se=e.currentAnimateTimings,je=Se.duration;return P.forEach((tt,Dt)=>{const qt=$>0?Dt==K?1:$*Dt:f[Dt],Ot=qt*je;e.currentTime=X+Se.delay+Ot,Se.duration=Ot,this._validateStyleAst(tt,e),tt.offset=qt,r.styles.push(tt)}),r}visitReference(t,e){return{type:8,animation:$s(this,lv(t.animation),e),options:Bf(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Bf(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Bf(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,a=t.options||{};e.queryCount++,e.currentQuery=t;const[u,f]=function hO(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(cO,"")),n=n.replace(/@\*/g,Ww).replace(/@\w+/g,e=>Ww+"-"+e.slice(1)).replace(/:animating/g,OI),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+u:u,js(e.collectedStyles,e.currentQuerySelector,new Map);const y=$s(this,lv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:u,limit:a.limit||0,optional:!!a.optional,includeSelf:f,animation:y,originalSelector:t.selector,options:Bf(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function SN(){return new c.vHH(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Zw(t.timings,e.errors,!0);return{type:12,animation:$s(this,lv(t.animation),e),timings:r,options:null}}}class pO{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Bf(n){return n?(n=av(n)).params&&(n.params=function fO(n){return n?av(n):null}(n.params)):n={},n}function UI(n,t,e){return{duration:n,delay:t,easing:e}}function VI(n,t,e,r,a,u,f=null,y=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:a,delay:u,totalTime:a+u,easing:f,subTimeline:y}}class e0{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const vO=new RegExp(":enter","g"),CO=new RegExp(":leave","g");function BI(n,t,e,r,a,u=new Map,f=new Map,y,C,I=[]){return(new wO).buildKeyframes(n,t,e,r,a,u,f,y,C,I)}class wO{buildKeyframes(t,e,r,a,u,f,y,C,I,P=[]){I=I||new e0;const N=new HI(t,e,I,a,u,P,[]);N.options=C;const $=C.delay?oc(C.delay):0;N.currentTimeline.delayNextStep($),N.currentTimeline.setStyles([f],null,N.errors,C),$s(this,r,N);const K=N.timelines.filter(X=>X.containsAnimation());if(K.length&&y.size){let X;for(let Se=K.length-1;Se>=0;Se--){const je=K[Se];if(je.element===e){X=je;break}}X&&!X.allowOnlyTimelineStyles()&&X.setStyles([y],null,N.errors,C)}return K.length?K.map(X=>X.buildKeyframes()):[VI(e,[],[],[],0,$,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const a=e.createSubContext(t.options),u=e.currentTimeline.currentTime,f=this._visitSubInstructions(r,a,a.options);u!=f&&e.transformIntoNewTimeline(f)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(const a of t){const u=a?.delay;if(u){const f="number"==typeof u?u:oc(uv(u,a?.params??{},e.errors));r.delayNextStep(f)}}}_visitSubInstructions(t,e,r){let u=e.currentTimeline.currentTime;const f=null!=r.duration?oc(r.duration):null,y=null!=r.delay?oc(r.delay):null;return 0!==f&&t.forEach(C=>{const I=e.appendInstructionToTimeline(C,f,y);u=Math.max(u,I.duration+I.delay)}),u}visitReference(t,e){e.updateOptions(t.options,!0),$s(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let a=e;const u=t.options;if(u&&(u.params||u.delay)&&(a=e.createSubContext(u),a.transformIntoNewTimeline(),null!=u.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=t0);const f=oc(u.delay);a.delayNextStep(f)}t.steps.length&&(t.steps.forEach(f=>$s(this,f,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let a=e.currentTimeline.currentTime;const u=t.options&&t.options.delay?oc(t.options.delay):0;t.steps.forEach(f=>{const y=e.createSubContext(t.options);u&&y.delayNextStep(u),$s(this,f,y),a=Math.max(a,y.currentTimeline.currentTime),r.push(y.currentTimeline)}),r.forEach(f=>e.currentTimeline.mergeTimelineCollectedStyles(f)),e.transformIntoNewTimeline(a),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Zw(e.params?uv(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),a=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),a.snapshotCurrentStyles());const u=t.style;5==u.type?this.visitKeyframes(u,e):(e.incrementTime(r.duration),this.visitStyle(u,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,a=e.currentAnimateTimings;!a&&r.hasCurrentStyleProperties()&&r.forwardFrame();const u=a&&a.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(u):r.setStyles(t.styles,u,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,a=e.currentTimeline.duration,u=r.duration,y=e.createSubContext().currentTimeline;y.easing=r.easing,t.styles.forEach(C=>{y.forwardTime((C.offset||0)*u),y.setStyles(C.styles,C.easing,e.errors,e.options),y.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(y),e.transformIntoNewTimeline(a+u),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,a=t.options||{},u=a.delay?oc(a.delay):0;u&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=t0);let f=r;const y=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=y.length;let C=null;y.forEach((I,P)=>{e.currentQueryIndex=P;const N=e.createSubContext(t.options,I);u&&N.delayNextStep(u),I===e.element&&(C=N.currentTimeline),$s(this,t.animation,N),N.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,N.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(f),C&&(e.currentTimeline.mergeTimelineCollectedStyles(C),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,a=e.currentTimeline,u=t.timings,f=Math.abs(u.duration),y=f*(e.currentQueryTotal-1);let C=f*e.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":C=y-C;break;case"full":C=r.currentStaggerTime}const P=e.currentTimeline;C&&P.delayNextStep(C);const N=P.currentTime;$s(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=a.currentTime-N+(a.startTime-r.currentTimeline.startTime)}}const t0={};class HI{constructor(t,e,r,a,u,f,y,C){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=u,this.errors=f,this.timelines=y,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=t0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new n0(this._driver,e,0),y.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let a=this.options;null!=r.duration&&(a.duration=oc(r.duration)),null!=r.delay&&(a.delay=oc(r.delay));const u=r.params;if(u){let f=a.params;f||(f=this.options.params={}),Object.keys(u).forEach(y=>{(!e||!f.hasOwnProperty(y))&&(f[y]=uv(u[y],f,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(a=>{r[a]=e[a]})}}return t}createSubContext(t=null,e,r){const a=e||this.element,u=new HI(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(t),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(t){return this.previousNode=t0,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const a={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},u=new bO(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,a,t.stretchStartingKeyframe);return this.timelines.push(u),a}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,a,u,f){let y=[];if(a&&y.push(this.element),t.length>0){t=(t=t.replace(vO,"."+this._enterClassName)).replace(CO,"."+this._leaveClassName);let I=this._driver.query(this.element,t,1!=r);0!==r&&(I=r<0?I.slice(I.length+r,I.length):I.slice(0,r)),y.push(...I)}return!u&&0==y.length&&f.push(function TN(n){return new c.vHH(3014,!1)}()),y}}class n0{constructor(t,e,r,a){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n0(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||Vi),this._currentKeyframe.set(e,Vi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,a){e&&this._previousKeyframe.set("easing",e);const u=a&&a.params||{},f=function DO(n,t){const e=new Map;let r;return n.forEach(a=>{if("*"===a){r=r||t.keys();for(let u of r)e.set(u,Vi)}else eh(a,e)}),e}(t,this._globalTimelineStyles);for(let[y,C]of f){const I=uv(C,u,r);this._pendingStyles.set(y,I),this._localTimelineStyles.has(y)||this._backFill.set(y,this._globalTimelineStyles.get(y)??Vi),this._updateStyle(y,I)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const a=this._styleSummary.get(r);(!a||e.time>a.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((y,C)=>{const I=eh(y,new Map,this._backFill);I.forEach((P,N)=>{"!"===P?t.add(N):P===Vi&&e.add(N)}),r||I.set("offset",C/this.duration),a.push(I)});const u=t.size?qw(t.values()):[],f=e.size?qw(e.values()):[];if(r){const y=a[0],C=new Map(y);y.set("offset",0),C.set("offset",1),a=[y,C]}return VI(this.element,a,u,f,this.duration,this.startTime,this.easing,!1)}}class bO extends n0{constructor(t,e,r,a,u,f,y=!1){super(t,e,f.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=u,this._stretchStartingKeyframe=y,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const u=[],f=r+e,y=e/f,C=eh(t[0]);C.set("offset",0),u.push(C);const I=eh(t[0]);I.set("offset",uM(y)),u.push(I);const P=t.length-1;for(let N=1;N<=P;N++){let $=eh(t[N]);const K=$.get("offset");$.set("offset",uM((e+K*r)/f)),u.push($)}r=f,e=0,a="",t=u}return VI(this.element,t,this.preStyleProps,this.postStyleProps,r,e,a,!0)}}function uM(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class jI{}const IO=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class SO extends jI{normalizePropertyName(t,e){return FI(t)}normalizeStyleValue(t,e,r,a){let u="";const f=r.toString().trim();if(IO.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const y=r.match(/^[+-]?[\d\.]+([a-z]*)$/);y&&0==y[1].length&&a.push(function mN(n,t){return new c.vHH(3005,!1)}())}return f+u}}function cM(n,t,e,r,a,u,f,y,C,I,P,N,$){return{type:0,element:n,triggerName:t,isRemovalTransition:a,fromState:e,fromStyles:u,toState:r,toStyles:f,timelines:y,queriedElements:C,preStyleProps:I,postStyleProps:P,totalTime:N,errors:$}}const $I={};class dM{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,a){return function TO(n,t,e,r,a){return n.some(u=>u(t,e,r,a))}(this.ast.matchers,t,e,r,a)}buildStyles(t,e,r){let a=this._stateStyles.get("*");return void 0!==t&&(a=this._stateStyles.get(t?.toString())||a),a?a.buildStyles(e,r):new Map}build(t,e,r,a,u,f,y,C,I,P){const N=[],$=this.ast.options&&this.ast.options.params||$I,X=this.buildStyles(r,y&&y.params||$I,N),Se=C&&C.params||$I,je=this.buildStyles(a,Se,N),tt=new Set,Dt=new Map,qt=new Map,Ot="void"===a,Ar={params:AO(Se,$),delay:this.ast.options?.delay},zr=P?[]:BI(t,e,this.ast.animation,u,f,X,je,Ar,I,N);let $i=0;if(zr.forEach(lc=>{$i=Math.max(lc.duration+lc.delay,$i)}),N.length)return cM(e,this._triggerName,r,a,Ot,X,je,[],[],Dt,qt,$i,N);zr.forEach(lc=>{const uc=lc.element,SM=js(Dt,uc,new Set);lc.preStyleProps.forEach(Hf=>SM.add(Hf));const dv=js(qt,uc,new Set);lc.postStyleProps.forEach(Hf=>dv.add(Hf)),uc!==e&&tt.add(uc)});const ac=qw(tt.values());return cM(e,this._triggerName,r,a,Ot,X,je,zr,ac,Dt,qt,$i)}}function AO(n,t){const e=av(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class MO{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,a=av(this.defaultParams);return Object.keys(t).forEach(u=>{const f=t[u];null!==f&&(a[u]=f)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,y)=>{f&&(f=uv(f,a,e));const C=this.normalizer.normalizePropertyName(y,e);f=this.normalizer.normalizeStyleValue(y,C,f,e),r.set(y,f)})}),r}}class PO{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(a=>{this.states.set(a.name,new MO(a.style,a.options&&a.options.params||{},r))}),hM(this.states,"true","1"),hM(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new dM(t,a,this.states))}),this.fallbackTransition=function NO(n,t,e){return new dM(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,y)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,a){return this.transitionFactories.find(f=>f.match(t,e,r,a))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function hM(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const OO=new e0;class kO{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],u=LI(this._driver,e,r,[]);if(r.length)throw function kN(n){return new c.vHH(3503,!1)}();this._animations.set(t,u)}_buildPlayer(t,e,r){const a=t.element,u=GA(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(a,u,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const a=[],u=this._animations.get(t);let f;const y=new Map;if(u?(f=BI(this._driver,e,u,NI,Gw,new Map,new Map,r,OO,a),f.forEach(P=>{const N=js(y,P.element,new Map);P.postStyleProps.forEach($=>N.set($,null))})):(a.push(function xN(){return new c.vHH(3300,!1)}()),f=[]),a.length)throw function FN(n){return new c.vHH(3504,!1)}();y.forEach((P,N)=>{P.forEach(($,K)=>{P.set(K,this._driver.computeStyle(N,K,Vi))})});const I=Xd(f.map(P=>{const N=y.get(P.element);return this._buildPlayer(P,new Map,N)}));return this._playersById.set(t,I),I.onDestroy(()=>this.destroy(t)),this.players.push(I),I}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function LN(n){return new c.vHH(3301,!1)}();return e}listen(t,e,r,a){const u=AI(e,"","","");return SI(this._getPlayer(t),r,u,a),()=>{}}command(t,e,r,a){if("register"==r)return void this.register(t,a[0]);if("create"==r)return void this.create(t,e,a[0]||{});const u=this._getPlayer(t);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(t)}}}const fM="ng-animate-queued",GI="ng-animate-disabled",VO=[],pM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},BO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ao="__ng_removed";class zI{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function GO(n){return n??null}(r?t.value:t),r){const u=av(t);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(a=>{null==r[a]&&(r[a]=e[a])})}}}const cv="void",WI=new zI(cv);class HO{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Mo(e,this._hostClassName)}listen(t,e,r,a){if(!this._triggers.has(e))throw function UN(n,t){return new c.vHH(3302,!1)}();if(null==r||0==r.length)throw function VN(n){return new c.vHH(3303,!1)}();if(!function zO(n){return"start"==n||"done"==n}(r))throw function BN(n,t){return new c.vHH(3400,!1)}();const u=js(this._elementListeners,t,[]),f={name:e,phase:r,callback:a};u.push(f);const y=js(this._engine.statesByElement,t,new Map);return y.has(e)||(Mo(t,zw),Mo(t,zw+"-"+e),y.set(e,WI)),()=>{this._engine.afterFlush(()=>{const C=u.indexOf(f);C>=0&&u.splice(C,1),this._triggers.has(e)||y.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function HN(n){return new c.vHH(3401,!1)}();return e}trigger(t,e,r,a=!0){const u=this._getTrigger(e),f=new ZI(this.id,e,t);let y=this._engine.statesByElement.get(t);y||(Mo(t,zw),Mo(t,zw+"-"+e),this._engine.statesByElement.set(t,y=new Map));let C=y.get(e);const I=new zI(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&C&&I.absorbOptions(C.options),y.set(e,I),C||(C=WI),I.value!==cv&&C.value===I.value){if(!function qO(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let a=0;a<e.length;a++){const u=e[a];if(!t.hasOwnProperty(u)||n[u]!==t[u])return!1}return!0}(C.params,I.params)){const Se=[],je=u.matchStyles(C.value,C.params,Se),tt=u.matchStyles(I.value,I.params,Se);Se.length?this._engine.reportError(Se):this._engine.afterFlush(()=>{Vf(t,je),Ol(t,tt)})}return}const $=js(this._engine.playersByElement,t,[]);$.forEach(Se=>{Se.namespaceId==this.id&&Se.triggerName==e&&Se.queued&&Se.destroy()});let K=u.matchTransition(C.value,I.value,t,I.params),X=!1;if(!K){if(!a)return;K=u.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:K,fromState:C,toState:I,player:f,isFallbackTransition:X}),X||(Mo(t,fM),f.onStart(()=>{Kg(t,fM)})),f.onDone(()=>{let Se=this.players.indexOf(f);Se>=0&&this.players.splice(Se,1);const je=this._engine.playersByElement.get(t);if(je){let tt=je.indexOf(f);tt>=0&&je.splice(tt,1)}}),this.players.push(f),$.push(f),f}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(a=>a.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Ww,!0);r.forEach(a=>{if(a[Ao])return;const u=this._engine.fetchNamespacesByElement(a);u.size?u.forEach(f=>f.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(t,e,r,a){const u=this._engine.statesByElement.get(t),f=new Map;if(u){const y=[];if(u.forEach((C,I)=>{if(f.set(I,C.value),this._triggers.has(I)){const P=this.trigger(t,I,cv,a);P&&y.push(P)}}),y.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,f),r&&Xd(y).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const a=new Set;e.forEach(u=>{const f=u.name;if(a.has(f))return;a.add(f);const C=this._triggers.get(f).fallbackTransition,I=r.get(f)||WI,P=new zI(cv),N=new ZI(this.id,f,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:f,transition:C,fromState:I,toState:P,player:N,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let a=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(t):[];if(u&&u.length)a=!0;else{let f=t;for(;f=f.parentNode;)if(r.statesByElement.get(f)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(t),a)r.markElementAsRemoved(this.id,t,!1,e);else{const u=t[Ao];(!u||u===pM)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Mo(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const u=r.element,f=this._elementListeners.get(u);f&&f.forEach(y=>{if(y.name==r.triggerName){const C=AI(u,r.triggerName,r.fromState.value,r.toState.value);C._data=t,SI(r.player,y.phase,C,y.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(r)}),this._queue=[],e.sort((r,a)=>{const u=r.transition.ast.depCount,f=a.transition.ast.depCount;return 0==u||0==f?u-f:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class jO{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,u)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new HO(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,a=this.namespacesByHostElement;if(r.length-1>=0){let f=!1,y=this.driver.getParentElement(e);for(;y;){const C=a.get(y);if(C){const I=r.indexOf(C);r.splice(I+1,0,t),f=!0;break}y=this.driver.getParentElement(y)}f||r.unshift(t)}else r.push(t);return a.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let a=this._namespaceLookup[t];a&&a.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let a of r.values())if(a.namespaceId){const u=this._fetchNamespace(a.namespaceId);u&&e.add(u)}return e}trigger(t,e,r,a){if(r0(e)){const u=this._fetchNamespace(t);if(u)return u.trigger(e,r,a),!0}return!1}insertNode(t,e,r,a){if(!r0(e))return;const u=e[Ao];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const f=this.collectedLeaveElements.indexOf(e);f>=0&&this.collectedLeaveElements.splice(f,1)}if(t){const f=this._fetchNamespace(t);f&&f.insertNode(e,r)}a&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Mo(t,GI)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Kg(t,GI))}removeNode(t,e,r,a){if(r0(e)){const u=t?this._fetchNamespace(t):null;if(u?u.removeNode(e,a):this.markElementAsRemoved(t,e,!1,a),r){const f=this.namespacesByHostElement.get(e);f&&f.id!==t&&f.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(t,e,r,a,u){this.collectedLeaveElements.push(e),e[Ao]={namespaceId:t,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(t,e,r,a,u){return r0(e)?this._fetchNamespace(t).listen(e,r,a,u):()=>{}}_buildInstruction(t,e,r,a,u){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,a,t.fromState.options,t.toState.options,e,u)}destroyInnerAnimations(t){let e=this.driver.query(t,Ww,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,OI,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Xd(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ao];if(e&&e.setForRemoval){if(t[Ao]=pM,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(GI)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Mo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Xd(e).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(t){throw function jN(n){return new c.vHH(3402,!1)}()}_flushAnimations(t,e){const r=new e0,a=[],u=new Map,f=[],y=new Map,C=new Map,I=new Map,P=new Set;this.disabledNodes.forEach(ot=>{P.add(ot);const yt=this.driver.query(ot,".ng-animate-queued",!0);for(let It=0;It<yt.length;It++)P.add(yt[It])});const N=this.bodyNode,$=Array.from(this.statesByElement.keys()),K=_M($,this.collectedEnterElements),X=new Map;let Se=0;K.forEach((ot,yt)=>{const It=NI+Se++;X.set(yt,It),ot.forEach(Jt=>Mo(Jt,It))});const je=[],tt=new Set,Dt=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const yt=this.collectedLeaveElements[ot],It=yt[Ao];It&&It.setForRemoval&&(je.push(yt),tt.add(yt),It.hasAnimation?this.driver.query(yt,".ng-star-inserted",!0).forEach(Jt=>tt.add(Jt)):Dt.add(yt))}const qt=new Map,Ot=_M($,Array.from(tt));Ot.forEach((ot,yt)=>{const It=Gw+Se++;qt.set(yt,It),ot.forEach(Jt=>Mo(Jt,It))}),t.push(()=>{K.forEach((ot,yt)=>{const It=X.get(yt);ot.forEach(Jt=>Kg(Jt,It))}),Ot.forEach((ot,yt)=>{const It=qt.get(yt);ot.forEach(Jt=>Kg(Jt,It))}),je.forEach(ot=>{this.processLeaveNode(ot)})});const Ar=[],zr=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(e).forEach(It=>{const Jt=It.player,Wr=It.element;if(Ar.push(Jt),this.collectedEnterElements.length){const Si=Wr[Ao];if(Si&&Si.setForMove){if(Si.previousTriggersValues&&Si.previousTriggersValues.has(It.triggerName)){const jf=Si.previousTriggersValues.get(It.triggerName),Ro=this.statesByElement.get(It.element);if(Ro&&Ro.has(It.triggerName)){const a0=Ro.get(It.triggerName);a0.value=jf,Ro.set(It.triggerName,a0)}}return void Jt.destroy()}}const kl=!N||!this.driver.containsElement(N,Wr),Gs=qt.get(Wr),th=X.get(Wr),Bn=this._buildInstruction(It,r,th,Gs,kl);if(Bn.errors&&Bn.errors.length)return void zr.push(Bn);if(kl)return Jt.onStart(()=>Vf(Wr,Bn.fromStyles)),Jt.onDestroy(()=>Ol(Wr,Bn.toStyles)),void a.push(Jt);if(It.isFallbackTransition)return Jt.onStart(()=>Vf(Wr,Bn.fromStyles)),Jt.onDestroy(()=>Ol(Wr,Bn.toStyles)),void a.push(Jt);const MM=[];Bn.timelines.forEach(Si=>{Si.stretchStartingKeyframe=!0,this.disabledNodes.has(Si.element)||MM.push(Si)}),Bn.timelines=MM,r.append(Wr,Bn.timelines),f.push({instruction:Bn,player:Jt,element:Wr}),Bn.queriedElements.forEach(Si=>js(y,Si,[]).push(Jt)),Bn.preStyleProps.forEach((Si,jf)=>{if(Si.size){let Ro=C.get(jf);Ro||C.set(jf,Ro=new Set),Si.forEach((a0,YI)=>Ro.add(YI))}}),Bn.postStyleProps.forEach((Si,jf)=>{let Ro=I.get(jf);Ro||I.set(jf,Ro=new Set),Si.forEach((a0,YI)=>Ro.add(YI))})});if(zr.length){const ot=[];zr.forEach(yt=>{ot.push(function $N(n,t){return new c.vHH(3505,!1)}())}),Ar.forEach(yt=>yt.destroy()),this.reportError(ot)}const $i=new Map,ac=new Map;f.forEach(ot=>{const yt=ot.element;r.has(yt)&&(ac.set(yt,yt),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,$i))}),a.forEach(ot=>{const yt=ot.element;this._getPreviousPlayers(yt,!1,ot.namespaceId,ot.triggerName,null).forEach(Jt=>{js($i,yt,[]).push(Jt),Jt.destroy()})});const lc=je.filter(ot=>vM(ot,C,I)),uc=new Map;mM(uc,this.driver,Dt,I,Vi).forEach(ot=>{vM(ot,C,I)&&lc.push(ot)});const dv=new Map;K.forEach((ot,yt)=>{mM(dv,this.driver,new Set(ot),C,"!")}),lc.forEach(ot=>{const yt=uc.get(ot),It=dv.get(ot);uc.set(ot,new Map([...Array.from(yt?.entries()??[]),...Array.from(It?.entries()??[])]))});const Hf=[],TM=[],AM={};f.forEach(ot=>{const{element:yt,player:It,instruction:Jt}=ot;if(r.has(yt)){if(P.has(yt))return It.onDestroy(()=>Ol(yt,Jt.toStyles)),It.disabled=!0,It.overrideTotalTime(Jt.totalTime),void a.push(It);let Wr=AM;if(ac.size>1){let Gs=yt;const th=[];for(;Gs=Gs.parentNode;){const Bn=ac.get(Gs);if(Bn){Wr=Bn;break}th.push(Gs)}th.forEach(Bn=>ac.set(Bn,Wr))}const kl=this._buildAnimation(It.namespaceId,Jt,$i,u,dv,uc);if(It.setRealPlayer(kl),Wr===AM)Hf.push(It);else{const Gs=this.playersByElement.get(Wr);Gs&&Gs.length&&(It.parentPlayer=Xd(Gs)),a.push(It)}}else Vf(yt,Jt.fromStyles),It.onDestroy(()=>Ol(yt,Jt.toStyles)),TM.push(It),P.has(yt)&&a.push(It)}),TM.forEach(ot=>{const yt=u.get(ot.element);if(yt&&yt.length){const It=Xd(yt);ot.setRealPlayer(It)}}),a.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<je.length;ot++){const yt=je[ot],It=yt[Ao];if(Kg(yt,Gw),It&&It.hasAnimation)continue;let Jt=[];if(y.size){let kl=y.get(yt);kl&&kl.length&&Jt.push(...kl);let Gs=this.driver.query(yt,OI,!0);for(let th=0;th<Gs.length;th++){let Bn=y.get(Gs[th]);Bn&&Bn.length&&Jt.push(...Bn)}}const Wr=Jt.filter(kl=>!kl.destroyed);Wr.length?WO(this,yt,Wr):this.processLeaveNode(yt)}return je.length=0,Hf.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const yt=this.players.indexOf(ot);this.players.splice(yt,1)}),ot.play()}),Hf}elementContainsData(t,e){let r=!1;const a=e[Ao];return a&&a.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,a,u){let f=[];if(e){const y=this.playersByQueriedElement.get(t);y&&(f=y)}else{const y=this.playersByElement.get(t);if(y){const C=!u||u==cv;y.forEach(I=>{I.queued||!C&&I.triggerName!=a||f.push(I)})}}return(r||a)&&(f=f.filter(y=>!(r&&r!=y.namespaceId||a&&a!=y.triggerName))),f}_beforeAnimationBuild(t,e,r){const u=e.element,f=e.isRemovalTransition?void 0:t,y=e.isRemovalTransition?void 0:e.triggerName;for(const C of e.timelines){const I=C.element,P=I!==u,N=js(r,I,[]);this._getPreviousPlayers(I,P,f,y,e.toState).forEach(K=>{const X=K.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),K.destroy(),N.push(K)})}Vf(u,e.fromStyles)}_buildAnimation(t,e,r,a,u,f){const y=e.triggerName,C=e.element,I=[],P=new Set,N=new Set,$=e.timelines.map(X=>{const Se=X.element;P.add(Se);const je=Se[Ao];if(je&&je.removedBeforeQueried)return new Bh(X.duration,X.delay);const tt=Se!==C,Dt=function ZO(n){const t=[];return yM(n,t),t}((r.get(Se)||VO).map($i=>$i.getRealPlayer())).filter($i=>!!$i.element&&$i.element===Se),qt=u.get(Se),Ot=f.get(Se),Ar=GA(0,this._normalizer,0,X.keyframes,qt,Ot),zr=this._buildPlayer(X,Ar,Dt);if(X.subTimeline&&a&&N.add(Se),tt){const $i=new ZI(t,y,Se);$i.setRealPlayer(zr),I.push($i)}return zr});I.forEach(X=>{js(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function $O(n,t,e){let r=n.get(t);if(r){if(r.length){const a=r.indexOf(e);r.splice(a,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,X.element,X))}),P.forEach(X=>Mo(X,XA));const K=Xd($);return K.onDestroy(()=>{P.forEach(X=>Kg(X,XA)),Ol(C,e.toStyles)}),N.forEach(X=>{js(a,X,[]).push(K)}),K}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Bh(t.duration,t.delay)}}class ZI{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Bh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(a=>SI(t,r,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){js(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function r0(n){return n&&1===n.nodeType}function gM(n,t){const e=n.style.display;return n.style.display=t??"none",e}function mM(n,t,e,r,a){const u=[];e.forEach(C=>u.push(gM(C)));const f=[];r.forEach((C,I)=>{const P=new Map;C.forEach(N=>{const $=t.computeStyle(I,N,a);P.set(N,$),(!$||0==$.length)&&(I[Ao]=BO,f.push(I))}),n.set(I,P)});let y=0;return e.forEach(C=>gM(C,u[y++])),f}function _M(n,t){const e=new Map;if(n.forEach(y=>e.set(y,[])),0==t.length)return e;const a=new Set(t),u=new Map;function f(y){if(!y)return 1;let C=u.get(y);if(C)return C;const I=y.parentNode;return C=e.has(I)?I:a.has(I)?1:f(I),u.set(y,C),C}return t.forEach(y=>{const C=f(y);1!==C&&e.get(C).push(y)}),e}function Mo(n,t){n.classList?.add(t)}function Kg(n,t){n.classList?.remove(t)}function WO(n,t,e){Xd(e).onDone(()=>n.processLeaveNode(t))}function yM(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof aE?yM(r.players,t):t.push(r)}}function vM(n,t,e){const r=e.get(n);if(!r)return!1;let a=t.get(n);return a?r.forEach(u=>a.add(u)):t.set(n,r),e.delete(n),!0}class s0{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,u)=>{},this._transitionEngine=new jO(t,e,r),this._timelineEngine=new kO(t,e,r),this._transitionEngine.onRemovalComplete=(a,u)=>this.onRemovalComplete(a,u)}registerTrigger(t,e,r,a,u){const f=t+"-"+a;let y=this._triggerCache[f];if(!y){const C=[],P=LI(this._driver,u,C,[]);if(C.length)throw function NN(n,t){return new c.vHH(3404,!1)}();y=function RO(n,t,e){return new PO(n,t,e)}(a,P,this._normalizer),this._triggerCache[f]=y}this._transitionEngine.registerTrigger(e,a,y)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,a){this._transitionEngine.insertNode(t,e,r,a)}onRemove(t,e,r,a){this._transitionEngine.removeNode(t,e,a||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,a){if("@"==r.charAt(0)){const[u,f]=zA(r);this._timelineEngine.command(u,e,f,a)}else this._transitionEngine.trigger(t,e,r,a)}listen(t,e,r,a,u){if("@"==r.charAt(0)){const[f,y]=zA(r);return this._timelineEngine.listen(f,e,y,u)}return this._transitionEngine.listen(t,e,r,a,u)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let YO=(()=>{class n{constructor(e,r,a){this._element=e,this._startStyles=r,this._endStyles=a,this._state=0;let u=n.initialStylesByElement.get(e);u||n.initialStylesByElement.set(e,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Ol(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ol(this._element,this._initialStyles),this._endStyles&&(Ol(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Vf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vf(this._element,this._endStyles),this._endStyles=null),Ol(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function qI(n){let t=null;return n.forEach((e,r)=>{(function QO(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class EM{constructor(t,e,r,a){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,a)=>{"offset"!==a&&t.set(a,this._finished?r:sM(this.element,a))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class JO{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return KA(t,e)}getParentElement(t){return RI(t)}query(t,e,r){return YA(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,a,u,f=[]){const C={duration:r,delay:a,fill:0==a?"both":"forwards"};u&&(C.easing=u);const I=new Map,P=f.filter(K=>K instanceof EM);(function nO(n,t){return 0===n||0===t})(r,a)&&P.forEach(K=>{K.currentSnapshot.forEach((X,Se)=>I.set(Se,X))});let N=function JN(n){return n.length?n[0]instanceof Map?n:n.map(t=>eM(t)):[]}(e).map(K=>eh(K));N=function rO(n,t,e){if(e.size&&t.length){let r=t[0],a=[];if(e.forEach((u,f)=>{r.has(f)||a.push(f),r.set(f,u)}),a.length)for(let u=1;u<t.length;u++){let f=t[u];a.forEach(y=>f.set(y,sM(n,y)))}}return t}(t,N,I);const $=function KO(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=qI(t[0]),t.length>1&&(r=qI(t[t.length-1]))):t instanceof Map&&(e=qI(t)),e||r?new YO(n,e,r):null}(t,N);return new EM(t,N,C,$)}}let XO=(()=>{class n extends Bu{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?Tp(e):e;return CM(this._renderer,null,r,"register",[a]),new ek(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ek extends Pm{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new tk(this._id,t,e||{},this._renderer)}}class tk{constructor(t,e,r,a){this.id=t,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return CM(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function CM(n,t,e,r,a){return n.setProperty(t,`@@${e}:${r}`,a)}const wM="@.disabled";let nk=(()=>{class n{constructor(e,r,a){this.delegate=e,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,f)=>{const y=f?.parentNode(u);y&&f.removeChild(y,u)}}createRenderer(e,r){const u=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let P=this._rendererCache.get(u);return P||(P=new bM("",u,this.engine,()=>this._rendererCache.delete(u)),this._rendererCache.set(u,P)),P}const f=r.id,y=r.id+"-"+this._currentId;this._currentId++,this.engine.register(y,e);const C=P=>{Array.isArray(P)?P.forEach(C):this.engine.registerTrigger(f,y,e,P.name,P)};return r.data.animation.forEach(C),new rk(this,y,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,a){e>=0&&e<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[f,y]=u;f(y)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(s0),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class bM{constructor(t,e,r,a){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=a,this.destroyNode=this.delegate.destroyNode?u=>e.destroyNode(u):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,a=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,a)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,a){this.delegate.setAttribute(t,e,r,a)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,a){this.delegate.setStyle(t,e,r,a)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==wM?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class rk extends bM{constructor(t,e,r,a,u){super(e,r,a,u),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==wM?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const a=function ik(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let u=e.slice(1),f="";return"@"!=u.charAt(0)&&([u,f]=function sk(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(u)),this.engine.listen(this.namespaceId,a,u,f,y=>{this.factory.scheduleListenerCallback(y._data||-1,r,y)})}return this.delegate.listen(t,e,r)}}const DM=[{provide:Bu,useClass:XO},{provide:jI,useFactory:function ak(){return new SO}},{provide:s0,useClass:(()=>{class n extends s0{constructor(e,r,a,u){super(e.body,r,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ee),c.LFG(PI),c.LFG(jI),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})()},{provide:c.FYo,useFactory:function lk(n,t,e){return new nk(n,t,e)},deps:[Ds,s0,c.R0b]}],KI=[{provide:PI,useFactory:()=>new JO},{provide:c.QbO,useValue:"BrowserAnimations"},...DM],IM=[{provide:PI,useClass:QA},{provide:c.QbO,useValue:"NoopAnimations"},...DM];let uk=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?IM:KI}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:KI,imports:[hu]}),n})();class Yg{}Yg.\u0275fac=function(t){return new(t||Yg)},Yg.\u0275mod=c.oAB({type:Yg,bootstrap:[ov]}),Yg.\u0275inj=c.cJS({providers:[Ff,ya,xf],imports:[hu,qg,$E,GE,uk,rN,ss.hO.initializeApp({apiKey:"AIzaSyASmMCiy7hOirJ8EPkg75ZTHRZZ3N8yFhY",authDomain:"mylisting-application-7d333.firebaseapp.com",projectId:"mylisting-application-7d333",storageBucket:"mylisting-application-7d333.appspot.com",messagingSenderId:"869664333057",appId:"1:869664333057:web:7b8f4bab3f87ef45538f00"}),iD,kP]}),Kf().bootstrapModule(Yg).catch(n=>console.error(n))},9751:(rt,ye,k)=>{k.d(ye,{y:()=>ae});var c=k(930),Y=k(727),O=k(8822),re=k(9635),ne=k(2416),ee=k(576),ue=k(2806);let ae=(()=>{class Z{constructor(Ee){Ee&&(this._subscribe=Ee)}lift(Ee){const Ve=new Z;return Ve.source=this,Ve.operator=Ee,Ve}subscribe(Ee,Ve,Qe){const ce=function j(Z){return Z&&Z instanceof c.Lv||function H(Z){return Z&&(0,ee.m)(Z.next)&&(0,ee.m)(Z.error)&&(0,ee.m)(Z.complete)}(Z)&&(0,Y.Nn)(Z)}(Ee)?Ee:new c.Hp(Ee,Ve,Qe);return(0,ue.x)(()=>{const{operator:Ce,source:we}=this;ce.add(Ce?Ce.call(ce,we):we?this._subscribe(ce):this._trySubscribe(ce))}),ce}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(Ve){Ee.error(Ve)}}forEach(Ee,Ve){return new(Ve=se(Ve))((Qe,ce)=>{const Ce=new c.Hp({next:we=>{try{Ee(we)}catch(Pe){ce(Pe),Ce.unsubscribe()}},error:ce,complete:Qe});this.subscribe(Ce)})}_subscribe(Ee){var Ve;return null===(Ve=this.source)||void 0===Ve?void 0:Ve.subscribe(Ee)}[O.L](){return this}pipe(...Ee){return(0,re.U)(Ee)(this)}toPromise(Ee){return new(Ee=se(Ee))((Ve,Qe)=>{let ce;this.subscribe(Ce=>ce=Ce,Ce=>Qe(Ce),()=>Ve(ce))})}}return Z.create=ke=>new Z(ke),Z})();function se(Z){var ke;return null!==(ke=Z??ne.v.Promise)&&void 0!==ke?ke:Promise}},7579:(rt,ye,k)=>{k.d(ye,{x:()=>ue});var c=k(9751),Y=k(727);const re=(0,k(3888).d)(se=>function(){se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=k(8737),ee=k(2806);let ue=(()=>{class se extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const Z=new ae(this,this);return Z.operator=j,Z}_throwIfClosed(){if(this.closed)throw new re}next(j){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Z of this.currentObservers)Z.next(j)}})}error(j){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:Z}=this;for(;Z.length;)Z.shift().error(j)}})}complete(){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:Z,isStopped:ke,observers:Ee}=this;return Z||ke?Y.Lc:(this.currentObservers=null,Ee.push(j),new Y.w0(()=>{this.currentObservers=null,(0,ne.P)(Ee,j)}))}_checkFinalizedStatuses(j){const{hasError:Z,thrownError:ke,isStopped:Ee}=this;Z?j.error(ke):Ee&&j.complete()}asObservable(){const j=new c.y;return j.source=this,j}}return se.create=(H,j)=>new ae(H,j),se})();class ae extends ue{constructor(H,j){super(),this.destination=H,this.source=j}next(H){var j,Z;null===(Z=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===Z||Z.call(j,H)}error(H){var j,Z;null===(Z=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===Z||Z.call(j,H)}complete(){var H,j;null===(j=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===j||j.call(H)}_subscribe(H){var j,Z;return null!==(Z=null===(j=this.source)||void 0===j?void 0:j.subscribe(H))&&void 0!==Z?Z:Y.Lc}}},930:(rt,ye,k)=>{k.d(ye,{Hp:()=>Qe,Lv:()=>Z});var c=k(576),Y=k(727),O=k(2416),re=k(7849),ne=k(5032);const ee=se("C",void 0,void 0);function se(ve,me,De){return{kind:ve,value:me,error:De}}var H=k(3410),j=k(2806);class Z extends Y.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,Y.Nn)(me)&&me.add(this)):this.destination=Pe}static create(me,De,Ne){return new Qe(me,De,Ne)}next(me){this.isStopped?we(function ae(ve){return se("N",ve,void 0)}(me),this):this._next(me)}error(me){this.isStopped?we(function ue(ve){return se("E",void 0,ve)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?we(ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function Ee(ve,me){return ke.call(ve,me)}class Ve{constructor(me){this.partialObserver=me}next(me){const{partialObserver:De}=this;if(De.next)try{De.next(me)}catch(Ne){ce(Ne)}}error(me){const{partialObserver:De}=this;if(De.error)try{De.error(me)}catch(Ne){ce(Ne)}else ce(me)}complete(){const{partialObserver:me}=this;if(me.complete)try{me.complete()}catch(De){ce(De)}}}class Qe extends Z{constructor(me,De,Ne){let Ae;if(super(),(0,c.m)(me)||!me)Ae={next:me??void 0,error:De??void 0,complete:Ne??void 0};else{let V;this&&O.v.useDeprecatedNextContext?(V=Object.create(me),V.unsubscribe=()=>this.unsubscribe(),Ae={next:me.next&&Ee(me.next,V),error:me.error&&Ee(me.error,V),complete:me.complete&&Ee(me.complete,V)}):Ae=me}this.destination=new Ve(Ae)}}function ce(ve){O.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(ve):(0,re.h)(ve)}function we(ve,me){const{onStoppedNotification:De}=O.v;De&&H.z.setTimeout(()=>De(ve,me))}const Pe={closed:!0,next:ne.Z,error:function Ce(ve){throw ve},complete:ne.Z}},727:(rt,ye,k)=>{k.d(ye,{Lc:()=>ee,w0:()=>ne,Nn:()=>ue});var c=k(576);const O=(0,k(3888).d)(se=>function(j){se(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((Z,ke)=>`${ke+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var re=k(8737);class ne{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ee of j)Ee.remove(this);else j.remove(this);const{initialTeardown:Z}=this;if((0,c.m)(Z))try{Z()}catch(Ee){H=Ee instanceof O?Ee.errors:[Ee]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const Ee of ke)try{ae(Ee)}catch(Ve){H=H??[],Ve instanceof O?H=[...H,...Ve.errors]:H.push(Ve)}}if(H)throw new O(H)}}add(H){var j;if(H&&H!==this)if(this.closed)ae(H);else{if(H instanceof ne){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(H)}}_hasParent(H){const{_parentage:j}=this;return j===H||Array.isArray(j)&&j.includes(H)}_addParent(H){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(H),j):j?[j,H]:H}_removeParent(H){const{_parentage:j}=this;j===H?this._parentage=null:Array.isArray(j)&&(0,re.P)(j,H)}remove(H){const{_finalizers:j}=this;j&&(0,re.P)(j,H),H instanceof ne&&H._removeParent(this)}}ne.EMPTY=(()=>{const se=new ne;return se.closed=!0,se})();const ee=ne.EMPTY;function ue(se){return se instanceof ne||se&&"closed"in se&&(0,c.m)(se.remove)&&(0,c.m)(se.add)&&(0,c.m)(se.unsubscribe)}function ae(se){(0,c.m)(se)?se():se.unsubscribe()}},2416:(rt,ye,k)=>{k.d(ye,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(rt,ye,k)=>{k.d(ye,{E:()=>Y});const Y=new(k(9751).y)(ne=>ne.complete())},8996:(rt,ye,k)=>{k.d(ye,{D:()=>me});var c=k(8421),Y=k(5363),O=k(9468),ee=k(9751),ae=k(2202),se=k(576),H=k(9672);function Z(De,Ne){if(!De)throw new Error("Iterable cannot be null");return new ee.y(Ae=>{(0,H.f)(Ae,Ne,()=>{const V=De[Symbol.asyncIterator]();(0,H.f)(Ae,Ne,()=>{V.next().then(pe=>{pe.done?Ae.complete():Ae.next(pe.value)})},0,!0)})})}var ke=k(3670),Ee=k(8239),Ve=k(1144),Qe=k(6495),ce=k(2206),Ce=k(4532),we=k(3260);function me(De,Ne){return Ne?function ve(De,Ne){if(null!=De){if((0,ke.c)(De))return function re(De,Ne){return(0,c.Xf)(De).pipe((0,O.R)(Ne),(0,Y.Q)(Ne))}(De,Ne);if((0,Ve.z)(De))return function ue(De,Ne){return new ee.y(Ae=>{let V=0;return Ne.schedule(function(){V===De.length?Ae.complete():(Ae.next(De[V++]),Ae.closed||this.schedule())})})}(De,Ne);if((0,Ee.t)(De))return function ne(De,Ne){return(0,c.Xf)(De).pipe((0,O.R)(Ne),(0,Y.Q)(Ne))}(De,Ne);if((0,ce.D)(De))return Z(De,Ne);if((0,Qe.T)(De))return function j(De,Ne){return new ee.y(Ae=>{let V;return(0,H.f)(Ae,Ne,()=>{V=De[ae.h](),(0,H.f)(Ae,Ne,()=>{let pe,Oe;try{({value:pe,done:Oe}=V.next())}catch(Be){return void Ae.error(Be)}Oe?Ae.complete():Ae.next(pe)},0,!0)}),()=>(0,se.m)(V?.return)&&V.return()})}(De,Ne);if((0,we.L)(De))return function Pe(De,Ne){return Z((0,we.Q)(De),Ne)}(De,Ne)}throw(0,Ce.z)(De)}(De,Ne):(0,c.Xf)(De)}},8421:(rt,ye,k)=>{k.d(ye,{Xf:()=>ke});var c=k(655),Y=k(1144),O=k(8239),re=k(9751),ne=k(3670),ee=k(2206),ue=k(4532),ae=k(6495),se=k(3260),H=k(576),j=k(7849),Z=k(8822);function ke(ve){if(ve instanceof re.y)return ve;if(null!=ve){if((0,ne.c)(ve))return function Ee(ve){return new re.y(me=>{const De=ve[Z.L]();if((0,H.m)(De.subscribe))return De.subscribe(me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ve);if((0,Y.z)(ve))return function Ve(ve){return new re.y(me=>{for(let De=0;De<ve.length&&!me.closed;De++)me.next(ve[De]);me.complete()})}(ve);if((0,O.t)(ve))return function Qe(ve){return new re.y(me=>{ve.then(De=>{me.closed||(me.next(De),me.complete())},De=>me.error(De)).then(null,j.h)})}(ve);if((0,ee.D)(ve))return Ce(ve);if((0,ae.T)(ve))return function ce(ve){return new re.y(me=>{for(const De of ve)if(me.next(De),me.closed)return;me.complete()})}(ve);if((0,se.L)(ve))return function we(ve){return Ce((0,se.Q)(ve))}(ve)}throw(0,ue.z)(ve)}function Ce(ve){return new re.y(me=>{(function Pe(ve,me){var De,Ne,Ae,V;return(0,c.mG)(this,void 0,void 0,function*(){try{for(De=(0,c.KL)(ve);!(Ne=yield De.next()).done;)if(me.next(Ne.value),me.closed)return}catch(pe){Ae={error:pe}}finally{try{Ne&&!Ne.done&&(V=De.return)&&(yield V.call(De))}finally{if(Ae)throw Ae.error}}me.complete()})})(ve,me).catch(De=>me.error(De))})}},6451:(rt,ye,k)=>{k.d(ye,{T:()=>ee});var c=k(8189),Y=k(8421),O=k(515),re=k(7669),ne=k(8996);function ee(...ue){const ae=(0,re.yG)(ue),se=(0,re._6)(ue,1/0),H=ue;return H.length?1===H.length?(0,Y.Xf)(H[0]):(0,c.J)(se)((0,ne.D)(H,ae)):O.E}},5403:(rt,ye,k)=>{k.d(ye,{x:()=>Y});var c=k(930);function Y(re,ne,ee,ue,ae){return new O(re,ne,ee,ue,ae)}class O extends c.Lv{constructor(ne,ee,ue,ae,se,H){super(ne),this.onFinalize=se,this.shouldUnsubscribe=H,this._next=ee?function(j){try{ee(j)}catch(Z){ne.error(Z)}}:super._next,this._error=ae?function(j){try{ae(j)}catch(Z){ne.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(j){ne.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ee}=this;super.unsubscribe(),!ee&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},4004:(rt,ye,k)=>{k.d(ye,{U:()=>O});var c=k(4482),Y=k(5403);function O(re,ne){return(0,c.e)((ee,ue)=>{let ae=0;ee.subscribe((0,Y.x)(ue,se=>{ue.next(re.call(ne,se,ae++))}))})}},8189:(rt,ye,k)=>{k.d(ye,{J:()=>O});var c=k(5577),Y=k(4671);function O(re=1/0){return(0,c.z)(Y.y,re)}},5577:(rt,ye,k)=>{k.d(ye,{z:()=>ae});var c=k(4004),Y=k(8421),O=k(4482),re=k(9672),ne=k(5403),ue=k(576);function ae(se,H,j=1/0){return(0,ue.m)(H)?ae((Z,ke)=>(0,c.U)((Ee,Ve)=>H(Z,Ee,ke,Ve))((0,Y.Xf)(se(Z,ke))),j):("number"==typeof H&&(j=H),(0,O.e)((Z,ke)=>function ee(se,H,j,Z,ke,Ee,Ve,Qe){const ce=[];let Ce=0,we=0,Pe=!1;const ve=()=>{Pe&&!ce.length&&!Ce&&H.complete()},me=Ne=>Ce<Z?De(Ne):ce.push(Ne),De=Ne=>{Ee&&H.next(Ne),Ce++;let Ae=!1;(0,Y.Xf)(j(Ne,we++)).subscribe((0,ne.x)(H,V=>{ke?.(V),Ee?me(V):H.next(V)},()=>{Ae=!0},void 0,()=>{if(Ae)try{for(Ce--;ce.length&&Ce<Z;){const V=ce.shift();Ve?(0,re.f)(H,Ve,()=>De(V)):De(V)}ve()}catch(V){H.error(V)}}))};return se.subscribe((0,ne.x)(H,me,()=>{Pe=!0,ve()})),()=>{Qe?.()}}(Z,ke,se,j)))}},5363:(rt,ye,k)=>{k.d(ye,{Q:()=>re});var c=k(9672),Y=k(4482),O=k(5403);function re(ne,ee=0){return(0,Y.e)((ue,ae)=>{ue.subscribe((0,O.x)(ae,se=>(0,c.f)(ae,ne,()=>ae.next(se),ee),()=>(0,c.f)(ae,ne,()=>ae.complete(),ee),se=>(0,c.f)(ae,ne,()=>ae.error(se),ee)))})}},3099:(rt,ye,k)=>{k.d(ye,{B:()=>ne});var c=k(8421),Y=k(7579),O=k(930),re=k(4482);function ne(ue={}){const{connector:ae=(()=>new Y.x),resetOnError:se=!0,resetOnComplete:H=!0,resetOnRefCountZero:j=!0}=ue;return Z=>{let ke,Ee,Ve,Qe=0,ce=!1,Ce=!1;const we=()=>{Ee?.unsubscribe(),Ee=void 0},Pe=()=>{we(),ke=Ve=void 0,ce=Ce=!1},ve=()=>{const me=ke;Pe(),me?.unsubscribe()};return(0,re.e)((me,De)=>{Qe++,!Ce&&!ce&&we();const Ne=Ve=Ve??ae();De.add(()=>{Qe--,0===Qe&&!Ce&&!ce&&(Ee=ee(ve,j))}),Ne.subscribe(De),!ke&&Qe>0&&(ke=new O.Hp({next:Ae=>Ne.next(Ae),error:Ae=>{Ce=!0,we(),Ee=ee(Pe,se,Ae),Ne.error(Ae)},complete:()=>{ce=!0,we(),Ee=ee(Pe,H),Ne.complete()}}),(0,c.Xf)(me).subscribe(ke))})(Z)}}function ee(ue,ae,...se){if(!0===ae)return void ue();if(!1===ae)return;const H=new O.Hp({next:()=>{H.unsubscribe(),ue()}});return(0,c.Xf)(ae(...se)).subscribe(H)}},9468:(rt,ye,k)=>{k.d(ye,{R:()=>Y});var c=k(4482);function Y(O,re=0){return(0,c.e)((ne,ee)=>{ee.add(O.schedule(()=>ne.subscribe(ee),re))})}},8505:(rt,ye,k)=>{k.d(ye,{b:()=>ne});var c=k(576),Y=k(4482),O=k(5403),re=k(4671);function ne(ee,ue,ae){const se=(0,c.m)(ee)||ue||ae?{next:ee,error:ue,complete:ae}:ee;return se?(0,Y.e)((H,j)=>{var Z;null===(Z=se.subscribe)||void 0===Z||Z.call(se);let ke=!0;H.subscribe((0,O.x)(j,Ee=>{var Ve;null===(Ve=se.next)||void 0===Ve||Ve.call(se,Ee),j.next(Ee)},()=>{var Ee;ke=!1,null===(Ee=se.complete)||void 0===Ee||Ee.call(se),j.complete()},Ee=>{var Ve;ke=!1,null===(Ve=se.error)||void 0===Ve||Ve.call(se,Ee),j.error(Ee)},()=>{var Ee,Ve;ke&&(null===(Ee=se.unsubscribe)||void 0===Ee||Ee.call(se)),null===(Ve=se.finalize)||void 0===Ve||Ve.call(se)}))}):re.y}},4408:(rt,ye,k)=>{k.d(ye,{o:()=>ne});var c=k(727);class Y extends c.w0{constructor(ue,ae){super()}schedule(ue,ae=0){return this}}const O={setInterval(ee,ue,...ae){const{delegate:se}=O;return se?.setInterval?se.setInterval(ee,ue,...ae):setInterval(ee,ue,...ae)},clearInterval(ee){const{delegate:ue}=O;return(ue?.clearInterval||clearInterval)(ee)},delegate:void 0};var re=k(8737);class ne extends Y{constructor(ue,ae){super(ue,ae),this.scheduler=ue,this.work=ae,this.pending=!1}schedule(ue,ae=0){var se;if(this.closed)return this;this.state=ue;const H=this.id,j=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(j,H,ae)),this.pending=!0,this.delay=ae,this.id=null!==(se=this.id)&&void 0!==se?se:this.requestAsyncId(j,this.id,ae),this}requestAsyncId(ue,ae,se=0){return O.setInterval(ue.flush.bind(ue,this),se)}recycleAsyncId(ue,ae,se=0){if(null!=se&&this.delay===se&&!1===this.pending)return ae;null!=ae&&O.clearInterval(ae)}execute(ue,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(ue,ae);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,ae){let H,se=!1;try{this.work(ue)}catch(j){se=!0,H=j||new Error("Scheduled action threw falsy error")}if(se)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:ue,scheduler:ae}=this,{actions:se}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(se,this),null!=ue&&(this.id=this.recycleAsyncId(ae,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(rt,ye,k)=>{k.d(ye,{v:()=>O});var c=k(6063);class Y{constructor(ne,ee=Y.now){this.schedulerActionCtor=ne,this.now=ee}schedule(ne,ee=0,ue){return new this.schedulerActionCtor(this,ne).schedule(ue,ee)}}Y.now=c.l.now;class O extends Y{constructor(ne,ee=Y.now){super(ne,ee),this.actions=[],this._active=!1}flush(ne){const{actions:ee}=this;if(this._active)return void ee.push(ne);let ue;this._active=!0;do{if(ue=ne.execute(ne.state,ne.delay))break}while(ne=ee.shift());if(this._active=!1,ue){for(;ne=ee.shift();)ne.unsubscribe();throw ue}}}},4986:(rt,ye,k)=>{k.d(ye,{z:()=>O});var c=k(4408);const O=new(k(7565).v)(c.o)},6063:(rt,ye,k)=>{k.d(ye,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(rt,ye,k)=>{k.d(ye,{z:()=>c});const c={setTimeout(Y,O,...re){const{delegate:ne}=c;return ne?.setTimeout?ne.setTimeout(Y,O,...re):setTimeout(Y,O,...re)},clearTimeout(Y){const{delegate:O}=c;return(O?.clearTimeout||clearTimeout)(Y)},delegate:void 0}},2202:(rt,ye,k)=>{k.d(ye,{h:()=>Y});const Y=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(rt,ye,k)=>{k.d(ye,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(rt,ye,k)=>{k.d(ye,{_6:()=>ee,jO:()=>re,yG:()=>ne});var c=k(576);function O(ue){return ue[ue.length-1]}function re(ue){return(0,c.m)(O(ue))?ue.pop():void 0}function ne(ue){return function Y(ue){return ue&&(0,c.m)(ue.schedule)}(O(ue))?ue.pop():void 0}function ee(ue,ae){return"number"==typeof O(ue)?ue.pop():ae}},8737:(rt,ye,k)=>{function c(Y,O){if(Y){const re=Y.indexOf(O);0<=re&&Y.splice(re,1)}}k.d(ye,{P:()=>c})},3888:(rt,ye,k)=>{function c(Y){const re=Y(ne=>{Error.call(ne),ne.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}k.d(ye,{d:()=>c})},2806:(rt,ye,k)=>{k.d(ye,{O:()=>re,x:()=>O});var c=k(2416);let Y=null;function O(ne){if(c.v.useDeprecatedSynchronousErrorHandling){const ee=!Y;if(ee&&(Y={errorThrown:!1,error:null}),ne(),ee){const{errorThrown:ue,error:ae}=Y;if(Y=null,ue)throw ae}}else ne()}function re(ne){c.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=ne)}},9672:(rt,ye,k)=>{function c(Y,O,re,ne=0,ee=!1){const ue=O.schedule(function(){re(),ee?Y.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(Y.add(ue),!ee)return ue}k.d(ye,{f:()=>c})},4671:(rt,ye,k)=>{function c(Y){return Y}k.d(ye,{y:()=>c})},1144:(rt,ye,k)=>{k.d(ye,{z:()=>c});const c=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(rt,ye,k)=>{k.d(ye,{D:()=>Y});var c=k(576);function Y(O){return Symbol.asyncIterator&&(0,c.m)(O?.[Symbol.asyncIterator])}},576:(rt,ye,k)=>{function c(Y){return"function"==typeof Y}k.d(ye,{m:()=>c})},3670:(rt,ye,k)=>{k.d(ye,{c:()=>O});var c=k(8822),Y=k(576);function O(re){return(0,Y.m)(re[c.L])}},6495:(rt,ye,k)=>{k.d(ye,{T:()=>O});var c=k(2202),Y=k(576);function O(re){return(0,Y.m)(re?.[c.h])}},8239:(rt,ye,k)=>{k.d(ye,{t:()=>Y});var c=k(576);function Y(O){return(0,c.m)(O?.then)}},3260:(rt,ye,k)=>{k.d(ye,{L:()=>re,Q:()=>O});var c=k(655),Y=k(576);function O(ne){return(0,c.FC)(this,arguments,function*(){const ue=ne.getReader();try{for(;;){const{value:ae,done:se}=yield(0,c.qq)(ue.read());if(se)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ae)}}finally{ue.releaseLock()}})}function re(ne){return(0,Y.m)(ne?.getReader)}},4482:(rt,ye,k)=>{k.d(ye,{A:()=>Y,e:()=>O});var c=k(576);function Y(re){return(0,c.m)(re?.lift)}function O(re){return ne=>{if(Y(ne))return ne.lift(function(ee){try{return re(ee,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(rt,ye,k)=>{function c(){}k.d(ye,{Z:()=>c})},9635:(rt,ye,k)=>{k.d(ye,{U:()=>O,z:()=>Y});var c=k(4671);function Y(...re){return O(re)}function O(re){return 0===re.length?c.y:1===re.length?re[0]:function(ee){return re.reduce((ue,ae)=>ae(ue),ee)}}},7849:(rt,ye,k)=>{k.d(ye,{h:()=>O});var c=k(2416),Y=k(3410);function O(re){Y.z.setTimeout(()=>{const{onUnhandledError:ne}=c.v;if(!ne)throw re;ne(re)})}},4532:(rt,ye,k)=>{function c(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(ye,{z:()=>c})},655:(rt,ye,k)=>{function re(ie,le){var ge={};for(var Ie in ie)Object.prototype.hasOwnProperty.call(ie,Ie)&&le.indexOf(Ie)<0&&(ge[Ie]=ie[Ie]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(Ie=Object.getOwnPropertySymbols(ie);Re<Ie.length;Re++)le.indexOf(Ie[Re])<0&&Object.prototype.propertyIsEnumerable.call(ie,Ie[Re])&&(ge[Ie[Re]]=ie[Ie[Re]])}return ge}function Z(ie,le,ge,Ie){return new(ge||(ge=Promise))(function(xe,Ge){function $e(jt){try{ct(Ie.next(jt))}catch(Ze){Ge(Ze)}}function zt(jt){try{ct(Ie.throw(jt))}catch(Ze){Ge(Ze)}}function ct(jt){jt.done?xe(jt.value):function Re(xe){return xe instanceof ge?xe:new ge(function(Ge){Ge(xe)})}(jt.value).then($e,zt)}ct((Ie=Ie.apply(ie,le||[])).next())})}function ve(ie){return this instanceof ve?(this.v=ie,this):new ve(ie)}function me(ie,le,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,Ie=ge.apply(ie,le||[]),xe=[];return Re={},Ge("next"),Ge("throw"),Ge("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function Ge(vt){Ie[vt]&&(Re[vt]=function(Cn){return new Promise(function(Xt,ln){xe.push([vt,Cn,Xt,ln])>1||$e(vt,Cn)})})}function $e(vt,Cn){try{!function zt(vt){vt.value instanceof ve?Promise.resolve(vt.value.v).then(ct,jt):Ze(xe[0][2],vt)}(Ie[vt](Cn))}catch(Xt){Ze(xe[0][3],Xt)}}function ct(vt){$e("next",vt)}function jt(vt){$e("throw",vt)}function Ze(vt,Cn){vt(Cn),xe.shift(),xe.length&&$e(xe[0][0],xe[0][1])}}function Ne(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,le=ie[Symbol.asyncIterator];return le?le.call(ie):(ie=function Qe(ie){var le="function"==typeof Symbol&&Symbol.iterator,ge=le&&ie[le],Ie=0;if(ge)return ge.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&Ie>=ie.length&&(ie=void 0),{value:ie&&ie[Ie++],done:!ie}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),ge={},Ie("next"),Ie("throw"),Ie("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function Ie(xe){ge[xe]=ie[xe]&&function(Ge){return new Promise(function($e,zt){!function Re(xe,Ge,$e,zt){Promise.resolve(zt).then(function(ct){xe({value:ct,done:$e})},Ge)}($e,zt,(Ge=ie[xe](Ge)).done,Ge.value)})}}}k.d(ye,{FC:()=>me,KL:()=>Ne,_T:()=>re,mG:()=>Z,qq:()=>ve})},4650:(rt,ye,k)=>{k.d(ye,{$8M:()=>Ac,$WT:()=>Tn,$Z:()=>iE,AFp:()=>vf,ALo:()=>SC,AaK:()=>ae,CHM:()=>Ql,CRH:()=>VC,CZH:()=>Hi,CqO:()=>vb,D6c:()=>GD,Dn7:()=>MC,EJc:()=>aw,EpF:()=>_b,F4k:()=>yb,FYo:()=>id,FiY:()=>ea,GfV:()=>Pv,Gpc:()=>j,JOm:()=>ni,KtG:()=>yc,LFG:()=>Le,Lbi:()=>py,Lck:()=>sD,MMx:()=>H_,MR2:()=>f0,NdJ:()=>Qm,OlP:()=>Kt,Oqu:()=>ig,P3R:()=>Ev,PXZ:()=>cw,Q6J:()=>TE,QGY:()=>ME,QbO:()=>iw,Qsj:()=>Rv,R0b:()=>Wt,RDi:()=>xs,Rgc:()=>xd,SBq:()=>ml,Sil:()=>mn,Suo:()=>ny,TTD:()=>Ta,TgZ:()=>Cd,X6Q:()=>rc,XFs:()=>st,Xpm:()=>Po,Xts:()=>gm,Y36:()=>ud,YKP:()=>EC,YNc:()=>Wm,Yjl:()=>Oo,Yz7:()=>Ze,Z0I:()=>ln,ZZ4:()=>Ry,_Bn:()=>Pd,_UZ:()=>Kp,_Vd:()=>rd,_c5:()=>ww,_uU:()=>WE,aQg:()=>Pf,c2e:()=>sw,cJS:()=>Cn,cg1:()=>Tr,dDg:()=>RD,dqk:()=>Ct,eFA:()=>Lg,ekj:()=>h_,eoX:()=>Cf,f3M:()=>qe,g9A:()=>rw,h0i:()=>Co,hGG:()=>bw,hij:()=>qh,iGM:()=>ty,ifc:()=>dt,ip1:()=>fy,jDz:()=>wC,kL8:()=>y_,lG2:()=>No,lcZ:()=>TC,lqb:()=>Fu,lri:()=>kg,n5z:()=>cu,oAB:()=>fn,oxw:()=>RE,q4F:()=>Nv,qLn:()=>xh,qOj:()=>vE,qZA:()=>zh,rWj:()=>Hd,sBO:()=>Tf,s_b:()=>df,soG:()=>Ea,tb:()=>Pg,tp0:()=>D,uIk:()=>_d,vHH:()=>ce,vpe:()=>bo,wAp:()=>ft,xi3:()=>AC,xp6:()=>zv,z2F:()=>jd,zSh:()=>nd,zs3:()=>Vu});var c=k(7579),Y=k(727),O=k(9751),re=k(6451),ne=k(3099);function ee(i){for(let s in i)if(i[s]===ee)return s;throw Error("Could not find renamed property on target object.")}function ue(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function ae(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ae).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function se(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const H=ee({__forward_ref__:ee});function j(i){return i.__forward_ref__=j,i.toString=function(){return ae(this())},i}function Z(i){return ke(i)?i():i}function ke(i){return"function"==typeof i&&i.hasOwnProperty(H)&&i.__forward_ref__===j}function Ee(i){return i&&!!i.\u0275providers}const Qe="https://g.co/ng/security#xss";class ce extends Error{constructor(s,o){super(function Ce(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,o)),this.code=s}}function we(i){return"string"==typeof i?i:null==i?"":String(i)}function Ne(i,s){throw new ce(-201,!1)}function Ge(i,s){null==i&&function $e(i,s,o,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Ze(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Cn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Xt(i){return cn(i,sr)||cn(i,nn)}function ln(i){return null!==Xt(i)}function cn(i,s){return i.hasOwnProperty(s)?i[s]:null}function Mr(i){return i&&(i.hasOwnProperty(zi)||i.hasOwnProperty(yr))?i[zi]:null}const sr=ee({\u0275prov:ee}),zi=ee({\u0275inj:ee}),nn=ee({ngInjectableDef:ee}),yr=ee({ngInjectorDef:ee});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let Wi;function dn(i){const s=Wi;return Wi=i,s}function Zn(i,s,o){const l=Xt(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&st.Optional?null:void 0!==s?s:void Ne(ae(i))}const Ct=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),rn={},wn="__NG_DI_FLAG__",qn="ngTempTokenPath",zs=/\n/gm,ui="__source";let Ut;function or(i){const s=Ut;return Ut=i,s}function ci(i,s=st.Default){if(void 0===Ut)throw new ce(-203,!1);return null===Ut?Zn(i,void 0,s):Ut.get(i,s&st.Optional?null:void 0,s)}function Le(i,s=st.Default){return(function Zr(){return Wi}()||ci)(Z(i),s)}function qe(i,s=st.Default){return Le(i,pt(s))}function pt(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function wt(i){const s=[];for(let o=0;o<i.length;o++){const l=Z(i[o]);if(Array.isArray(l)){if(0===l.length)throw new ce(900,!1);let d,p=st.Default;for(let _=0;_<l.length;_++){const E=l[_],w=Yn(E);"number"==typeof w?-1===w?d=E.token:p|=w:d=E}s.push(Le(d,p))}else s.push(Le(l))}return s}function At(i,s){return i[wn]=s,i.prototype[wn]=s,i}function Yn(i){return i[wn]}function z(i){return{toString:i}.toString()}var he=(()=>((he=he||{})[he.OnPush=0]="OnPush",he[he.Default=1]="Default",he))(),dt=(()=>{return(i=dt||(dt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",dt;var i})();const $t={},ht=[],hn=ee({\u0275cmp:ee}),Sn=ee({\u0275dir:ee}),kt=ee({\u0275pipe:ee}),qr=ee({\u0275mod:ee}),Nn=ee({\u0275fac:ee}),us=ee({__NG_ELEMENT_ID__:ee});let nh=0;function Po(i){return z(()=>{const o=!0===i.standalone,l={},d={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===he.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||ht,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||dt.Emulated,id:"c"+nh++,styles:i.styles||ht,_:null,setInput:null,schemas:i.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},p=i.dependencies,_=i.features;return d.inputs=Fl(i.inputs,l),d.outputs=Fl(i.outputs),_&&_.forEach(E=>E(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(xl).filter(cc):null,d.pipeDefs=p?()=>("function"==typeof p?p():p).map(bn).filter(cc):null,d})}function xl(i){return Vt(i)||On(i)}function cc(i){return null!==i}function fn(i){return z(()=>({type:i.type,bootstrap:i.bootstrap||ht,declarations:i.declarations||ht,imports:i.imports||ht,exports:i.exports||ht,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Fl(i,s){if(null==i)return $t;const o={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),o[d]=l,s&&(s[d]=p)}return o}const No=Po;function Oo(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Vt(i){return i[hn]||null}function On(i){return i[Sn]||null}function bn(i){return i[kt]||null}function Tn(i){const s=Vt(i)||On(i)||bn(i);return null!==s&&s.standalone}function Hn(i,s){const o=i[qr]||null;if(!o&&!0===s)throw new Error(`Type ${ae(i)} does not have '\u0275mod' property.`);return o}function vr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Or(i){return Array.isArray(i)&&!0===i[1]}function ko(i){return 0!=(4&i.flags)}function Qr(i){return i.componentOffset>-1}function Vl(i){return 1==(1&i.flags)}function ur(i){return null!==i.template}function xo(i){return 0!=(256&i[2])}function ps(i,s){return i.hasOwnProperty(Nn)?i[Nn]:null}class gs{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function Ta(){return Qs}function Qs(i){return i.type.prototype.ngOnChanges&&(i.setInput=Js),Aa}function Aa(){const i=Lo(this),s=i?.current;if(s){const o=i.previous;if(o===$t)i.previous=s;else for(let l in s)o[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Js(i,s,o,l){const d=this.declaredInputs[o],p=Lo(i)||function Wl(i,s){return i[ms]=s}(i,{previous:$t,current:null}),_=p.current||(p.current={}),E=p.previous,w=E[d];_[d]=new gs(w&&w.currentValue,s,E===$t),i[l]=s}Ta.ngInherit=!0;const ms="__ngSimpleChanges__";function Lo(i){return i[ms]||null}function Dn(i){for(;Array.isArray(i);)i=i[0];return i}function _s(i,s){return Dn(s[i])}function Mn(i,s){return Dn(s[i.index])}function to(i,s){return i.data[s]}function ys(i,s){return i[s]}function Fn(i,s){const o=s[i];return vr(o)?o:o[0]}function no(i){return 64==(64&i[2])}function Mi(i,s){return null==s?null:i[s]}function Bo(i){i[18]=0}function Ho(i,s){i[5]+=s;let o=i,l=i[3];for(;null!==l&&(1===s&&1===o[5]||-1===s&&0===o[5]);)l[5]+=s,o=l,l=l[3]}const Et={lFrame:Qg(null),bindingsEnabled:!0};function Oa(){return Et.bindingsEnabled}function de(){return Et.lFrame.lView}function Bt(){return Et.lFrame.tView}function Ql(i){return Et.lFrame.contextLView=i,i[8]}function yc(i){return Et.lFrame.contextLView=null,i}function $n(){let i=jo();for(;null!==i&&64===i.type;)i=i.parent;return i}function jo(){return Et.lFrame.currentTNode}function Cr(i,s){const o=Et.lFrame;o.currentTNode=i,o.isParent=s}function xa(){return Et.lFrame.isParent}function kn(){const i=Et.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function vs(){return Et.lFrame.bindingIndex++}function Cc(i,s){const o=Et.lFrame;o.bindingIndex=o.bindingRootIndex=i,eu(s)}function eu(i){Et.lFrame.currentDirectiveIndex=i}function wc(){return Et.lFrame.currentQueryIndex}function tu(i){Et.lFrame.currentQueryIndex=i}function bc(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function oh(i,s,o){if(o&st.SkipSelf){let d=s,p=i;for(;!(d=d.parent,null!==d||o&st.Host||(d=bc(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;s=d,i=p}const l=Et.lFrame=ah();return l.currentTNode=s,l.lView=i,!0}function Ua(i){const s=ah(),o=i[1];Et.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function ah(){const i=Et.lFrame,s=null===i?null:i.child;return null===s?Qg(i):s}function Qg(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function zf(){const i=Et.lFrame;return Et.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const nu=zf;function Wf(){const i=zf();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function dr(){return Et.lFrame.selectedIndex}function ro(i){Et.lFrame.selectedIndex=i}function on(){const i=Et.lFrame;return to(i.tView,i.selectedIndex)}function Go(i,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const p=i.data[o].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:w,ngAfterViewChecked:S,ngOnDestroy:M}=p;_&&(i.contentHooks||(i.contentHooks=[])).push(-o,_),E&&((i.contentHooks||(i.contentHooks=[])).push(o,E),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,E)),w&&(i.viewHooks||(i.viewHooks=[])).push(-o,w),S&&((i.viewHooks||(i.viewHooks=[])).push(o,S),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,S)),null!=M&&(i.destroyHooks||(i.destroyHooks=[])).push(o,M)}}function Es(i,s,o){Cs(i,s,3,o)}function Va(i,s,o,l){(3&i[2])===o&&Cs(i,s,o,l)}function pi(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function Cs(i,s,o,l){const p=l??-1,_=s.length-1;let E=0;for(let w=void 0!==l?65535&i[18]:0;w<_;w++)if("number"==typeof s[w+1]){if(E=s[w],null!=l&&E>=l)break}else s[w]<0&&(i[18]+=65536),(E<p||-1==p)&&(uh(i,o,s,w),i[18]=(4294901760&i[18])+w+2),w++}function uh(i,s,o,l){const d=o[l]<0,p=o[l+1],E=i[d?-o[l]:o[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(E)}finally{}}}else try{p.call(E)}finally{}}class zo{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function gn(i,s,o){let l=0;for(;l<o.length;){const d=o[l];if("number"==typeof d){if(0!==d)break;l++;const p=o[l++],_=o[l++],E=o[l++];i.setAttribute(s,_,E,p)}else{const p=d,_=o[++l];so(p)?i.setProperty(s,p,_):i.setAttribute(s,p,_),l++}}return l}function Qi(i){return 3===i||4===i||6===i}function so(i){return 64===i.charCodeAt(0)}function Ni(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?o=d:0===o||oo(i,o,d,null,-1===o||2===o?s[++l]:null)}}return i}function oo(i,s,o,l,d){let p=0,_=i.length;if(-1===s)_=-1;else for(;p<i.length;){const E=i[p++];if("number"==typeof E){if(E===s){_=-1;break}if(E>s){_=p-1;break}}}for(;p<i.length;){const E=i[p];if("number"==typeof E)break;if(E===o){if(null===l)return void(null!==d&&(i[p+1]=d));if(l===i[p+1])return void(i[p+2]=d)}p++,null!==l&&p++,null!==d&&p++}-1!==_&&(i.splice(_,0,s),p=_+1),i.splice(p++,0,o),null!==l&&i.splice(p++,0,l),null!==d&&i.splice(p++,0,d)}function ou(i){return-1!==i}function Wo(i){return 32767&i}function ja(i,s){let o=function Ha(i){return i>>16}(i),l=s;for(;o>0;)l=l[15],o--;return l}let Ji=!0;function Zo(i){const s=Ji;return Ji=i,s}let qo=0;const Dr={};function Is(i,s){const o=Ga(i,s);if(-1!==o)return o;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,Ss(l.data,i),Ss(s,null),Ss(l.blueprint,null));const d=za(i,s),p=i.injectorIndex;if(ou(d)){const _=Wo(d),E=ja(d,s),w=E[1].data;for(let S=0;S<8;S++)s[p+S]=E[_+S]|w[_+S]}return s[p+8]=d,p}function Ss(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Ga(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function za(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,l=null,d=s;for(;null!==d;){if(l=hu(d),null===l)return-1;if(o++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Wa(i,s,o){!function $a(i,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(us)&&(l=o[us]),null==l&&(l=o[us]=qo++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,o)}function Ts(i,s,o){if(o&st.Optional||void 0!==i)return i;Ne()}function Za(i,s,o,l){if(o&st.Optional&&void 0===l&&(l=null),!(o&(st.Self|st.Host))){const d=i[9],p=dn(void 0);try{return d?d.get(s,l,o&st.Optional):Zn(s,l,o&st.Optional)}finally{dn(p)}}return Ts(l,0,o)}function qa(i,s,o,l=st.Default,d){if(null!==i){if(1024&s[2]){const _=function du(i,s,o,l,d){let p=i,_=s;for(;null!==p&&null!==_&&1024&_[2]&&!(256&_[2]);){const E=Oi(p,_,o,l|st.Self,Dr);if(E!==Dr)return E;let w=p.parent;if(!w){const S=_[21];if(S){const M=S.get(o,Dr,l);if(M!==Dr)return M}w=hu(_),_=_[15]}p=w}return d}(i,s,o,l,Dr);if(_!==Dr)return _}const p=Oi(i,s,o,l,Dr);if(p!==Dr)return p}return Za(s,o,l,d)}function Oi(i,s,o,l,d){const p=function lu(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(us)?i[us]:void 0;return"number"==typeof s?s>=0?255&s:Kf:s}(o);if("function"==typeof p){if(!oh(s,i,l))return l&st.Host?Ts(d,0,l):Za(s,o,l,d);try{const _=p(l);if(null!=_||l&st.Optional)return _;Ne()}finally{nu()}}else if("number"==typeof p){let _=null,E=Ga(i,s),w=-1,S=l&st.Host?s[16][6]:null;for((-1===E||l&st.SkipSelf)&&(w=-1===E?za(i,s):s[E+8],-1!==w&&mi(l,!1)?(_=s[1],E=Wo(w),s=ja(w,s)):E=-1);-1!==E;){const M=s[1];if(uu(p,E,M.data)){const F=au(E,s,o,_,l,S);if(F!==Dr)return F}w=s[E+8],-1!==w&&mi(l,s[1].data[E+8]===S)&&uu(p,E,s)?(_=M,E=Wo(w),s=ja(w,s)):E=-1}}return d}function au(i,s,o,l,d,p){const _=s[1],E=_.data[i+8],M=lo(E,_,o,null==l?Qr(E)&&Ji:l!=_&&0!=(3&E.type),d&st.Host&&p===E);return null!==M?gi(s,_,M,E):Dr}function lo(i,s,o,l,d){const p=i.providerIndexes,_=s.data,E=1048575&p,w=i.directiveStart,M=p>>20,G=d?E+M:i.directiveEnd;for(let Q=l?E:E+M;Q<G;Q++){const fe=_[Q];if(Q<w&&o===fe||Q>=w&&fe.type===o)return Q}if(d){const Q=_[w];if(Q&&ur(Q)&&Q.type===o)return w}return null}function gi(i,s,o,l){let d=i[o];const p=s.data;if(function br(i){return i instanceof zo}(d)){const _=d;_.resolving&&function ve(i,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new ce(-200,`Circular dependency in DI detected for ${i}${o}`)}(function Pe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():we(i)}(p[o]));const E=Zo(_.canSeeViewProviders);_.resolving=!0;const w=_.injectImpl?dn(_.injectImpl):null;oh(i,l,st.Default);try{d=i[o]=_.factory(void 0,p,i,l),s.firstCreatePass&&o>=l.directiveStart&&function qf(i,s,o){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(l){const _=Qs(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,_),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,_)}d&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,d),p&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,p))}(o,p[o],s)}finally{null!==w&&dn(w),Zo(E),_.resolving=!1,nu()}}return d}function uu(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function mi(i,s){return!(i&st.Self||i&st.Host&&s)}class xr{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return qa(this._tNode,this._lView,s,pt(l),o)}}function Kf(){return new xr($n(),de())}function cu(i){return z(()=>{const s=i.prototype.constructor,o=s[Nn]||Ka(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const p=d[Nn]||Ka(d);if(p&&p!==o)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Ka(i){return ke(i)?()=>{const s=Ka(Z(i));return s&&s()}:ps(i)}function hu(i){const s=i[1],o=s.type;return 2===o?s.declTNode:1===o?i[6]:null}function Ac(i){return function Tc(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const l=o.length;let d=0;for(;d<l;){const p=o[d];if(Qi(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<l&&"string"==typeof o[d];)d++;else{if(p===s)return o[d+1];d+=2}}}return null}($n(),i)}const Ya="__parameters__";function Yo(i,s,o){return z(()=>{const l=function Mc(i){return function(...o){if(i){const l=i(...o);for(const d in l)this[d]=l[d]}}}(s);function d(...p){if(this instanceof d)return l.apply(this,p),this;const _=new d(...p);return E.annotation=_,E;function E(w,S,M){const F=w.hasOwnProperty(Ya)?w[Ya]:Object.defineProperty(w,Ya,{value:[]})[Ya];for(;F.length<=M;)F.push(null);return(F[M]=F[M]||[]).push(_),w}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class Kt{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ze({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function yi(i,s){i.forEach(o=>Array.isArray(o)?yi(o,s):s(o))}function Xa(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function Qo(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Jn(i,s,o){let l=Gt(i,s);return l>=0?i[1|l]=o:(l=~l,function hh(i,s,o,l){let d=i.length;if(d==s)i.push(o,l);else if(1===d)i.push(l,i[0]),i[0]=o;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=o,i[s+1]=l}}(i,l,s,o)),l}function tl(i,s){const o=Gt(i,s);if(o>=0)return i[1|o]}function Gt(i,s){return function Ye(i,s,o){let l=0,d=i.length>>o;for(;d!==l;){const p=l+(d-l>>1),_=i[p<<o];if(s===_)return p<<o;_>s?d=p:l=p+1}return~(d<<o)}(i,s,1)}const ea=At(Yo("Optional"),8),D=At(Yo("SkipSelf"),4);var ni=(()=>((ni=ni||{})[ni.Important=1]="Important",ni[ni.DashCase=2]="DashCase",ni))();const wu=new Map;let nm=0;const _h="__ngContext__";function er(i,s){vr(s)?(i[_h]=s[20],function ep(i){wu.set(i[20],i)}(s)):i[_h]=s}function Eh(i,s){return undefined(i,s)}function Ns(i){const s=i[3];return Or(s)?s[3]:s}function Os(i){return Du(i[13])}function Bc(i){return Du(i[4])}function Du(i){for(;null!==i&&!Or(i);)i=i[4];return i}function sl(i,s,o,l,d){if(null!=l){let p,_=!1;Or(l)?p=l:vr(l)&&(_=!0,l=l[0]);const E=Dn(l);0===i&&null!==o?null==d?ul(s,o,E):ll(s,o,E,d||null,!0):1===i&&null!==o?ll(s,o,E,d||null,!0):2===i?function Ci(i,s,o){const l=fo(i,s);l&&function ap(i,s,o,l){i.removeChild(s,o,l)}(i,l,s,o)}(s,E,_):3===i&&s.destroyNode(E),null!=p&&function up(i,s,o,l,d){const p=o[7];p!==Dn(o)&&sl(s,i,l,p,d);for(let E=10;E<o.length;E++){const w=o[E];aa(w[1],w,i,s,l,p)}}(s,i,p,o,d)}}function ol(i,s,o){return i.createElement(s,o)}function Tu(i,s){const o=i[9],l=o.indexOf(s),d=s[3];512&s[2]&&(s[2]&=-513,Ho(d,-1)),o.splice(l,1)}function bh(i,s){if(i.length<=10)return;const o=10+s,l=i[o];if(l){const d=l[17];null!==d&&d!==i&&Tu(d,l),s>0&&(i[o-1][4]=l[4]);const p=Qo(i,10+s);!function om(i,s){aa(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const _=p[19];null!==_&&_.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function sp(i,s){if(!(128&s[2])){const o=s[11];o.destroyNode&&aa(i,s,o,3,null,null),function al(i){let s=i[13];if(!s)return Au(i[1],i);for(;s;){let o=null;if(vr(s))o=s[13];else{const l=s[10];l&&(o=l)}if(!o){for(;s&&!s[4]&&s!==i;)vr(s)&&Au(s[1],s),s=s[3];null===s&&(s=i),vr(s)&&Au(s[1],s),o=s&&s[4]}s=o}}(s)}}function Au(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function cm(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let l=0;l<o.length;l+=2){const d=s[o[l]];if(!(d instanceof zo)){const p=o[l+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const E=d[p[_]],w=p[_+1];try{w.call(E)}finally{}}else try{p.call(d)}finally{}}}}(i,s),function Mu(i,s){const o=i.cleanup,l=s[7];let d=-1;if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const _=o[p+3];_>=0?l[d=_]():l[d=-_].unsubscribe(),p+=2}else{const _=l[d=o[p+1]];o[p].call(_)}if(null!==l){for(let p=d+1;p<l.length;p++)(0,l[p])();s[7]=null}}(i,s),1===s[1].type&&s[11].destroy();const o=s[17];if(null!==o&&Or(s[3])){o!==s[3]&&Tu(o,s);const l=s[19];null!==l&&l.detachView(i)}!function tp(i){wu.delete(i[20])}(s)}}function ho(i,s,o){return function Hc(i,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[0];{const{componentOffset:d}=l;if(d>-1){const{encapsulation:p}=i.data[l.directiveStart+d];if(p===dt.None||p===dt.Emulated)return null}return Mn(l,o)}}(i,s.parent,o)}function ll(i,s,o,l,d){i.insertBefore(s,o,l,d)}function ul(i,s,o){i.appendChild(s,o)}function op(i,s,o,l,d){null!==l?ll(i,s,o,l,d):ul(i,s,o)}function fo(i,s){return i.parentNode(s)}let Ah,Nu,Ru=function $c(i,s,o){return 40&i.type?Mn(i,o):null};function Gc(i,s,o,l){const d=ho(i,l,s),p=s[11],E=function Dh(i,s,o){return Ru(i,s,o)}(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(o))for(let w=0;w<o.length;w++)op(p,d,o[w],E,!1);else op(p,d,o,E,!1)}function oa(i,s){if(null!==s){const o=s.type;if(3&o)return Mn(s,i);if(4&o)return tr(-1,i[s.index]);if(8&o){const l=s.child;if(null!==l)return oa(i,l);{const d=i[s.index];return Or(d)?tr(-1,d):Dn(d)}}if(32&o)return Eh(s,i)()||Dn(i[s.index]);{const l=lp(i,s);return null!==l?Array.isArray(l)?l[0]:oa(Ns(i[16]),l):oa(i,s.next)}}return null}function lp(i,s){return null!==s?i[16][6].projection[s.projection]:null}function tr(i,s){const o=10+i+1;if(o<s.length){const l=s[o],d=l[1].firstChild;if(null!==d)return oa(l,d)}return s[7]}function zc(i,s,o,l,d,p,_){for(;null!=o;){const E=l[o.index],w=o.type;if(_&&0===s&&(E&&er(Dn(E),l),o.flags|=2),32!=(32&o.flags))if(8&w)zc(i,s,o.child,l,d,p,!1),sl(s,i,d,E,p);else if(32&w){const S=Eh(o,l);let M;for(;M=S();)sl(s,i,d,M,p);sl(s,i,d,E,p)}else 16&w?Pu(i,s,l,o,d,p):sl(s,i,d,E,p);o=_?o.projectionNext:o.next}}function aa(i,s,o,l,d,p){zc(o,l,i.firstChild,s,d,p,!1)}function Pu(i,s,o,l,d,p){const _=o[16],w=_[6].projection[l.projection];if(Array.isArray(w))for(let S=0;S<w.length;S++)sl(s,i,d,w[S],p);else zc(i,s,w,_[3],d,p,!0)}function Ui(i,s,o){""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o)}function ks(i,s,o){const{mergedAttrs:l,classes:d,styles:p}=o;null!==l&&gn(i,s,l),null!==d&&Ui(i,s,d),null!==p&&function ns(i,s,o){i.setAttribute(s,"style",o)}(i,s,p)}function xs(i){Ah=i}function Mh(i){return function Zc(){if(void 0===Nu&&(Nu=null,Ct.trustedTypes))try{Nu=Ct.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Nu}()?.createScriptURL(i)||i}class fp{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qe})`}}function v(i){return i instanceof fp?i.changingThisBreaksApplicationSecurity:i}function T(i,s){const o=function R(i){return i instanceof fp&&i.getTypeName()||null}(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${Qe})`)}return o===s}const Kc=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var nr=(()=>((nr=nr||{})[nr.NONE=0]="NONE",nr[nr.HTML=1]="HTML",nr[nr.STYLE=2]="STYLE",nr[nr.SCRIPT=3]="SCRIPT",nr[nr.URL=4]="URL",nr[nr.RESOURCE_URL=5]="RESOURCE_URL",nr))();function _v(i){const s=gl();return s?s.sanitize(nr.URL,i)||"":T(i,"URL")?v(i):function fl(i){return(i=String(i)).match(Kc)?i:"unsafe:"+i}(we(i))}function yv(i){const s=gl();if(s)return Mh(s.sanitize(nr.RESOURCE_URL,i)||"");if(T(i,"ResourceURL"))return Mh(v(i));throw new ce(904,!1)}function Ev(i,s,o){return function Oh(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?yv:_v}(s,o)(i)}function gl(){const i=de();return i&&i[12]}const gm=new Kt("ENVIRONMENT_INITIALIZER"),Cv=new Kt("INJECTOR",-1),ku=new Kt("INJECTOR_DEF_TYPES");class Xc{get(s,o=rn){if(o===rn){const l=new Error(`NullInjectorError: No provider for ${ae(s)}!`);throw l.name="NullInjectorError",l}return o}}function f0(i){return{\u0275providers:i}}function p0(...i){return{\u0275providers:ed(0,i),\u0275fromNgModule:!0}}function ed(i,...s){const o=[],l=new Set;let d;return yi(s,p=>{const _=p;mm(_,o,[],l)&&(d||(d=[]),d.push(_))}),void 0!==d&&td(d,o),o}function td(i,s){for(let o=0;o<i.length;o++){const{providers:d}=i[o];_m(d,p=>{s.push(p)})}}function mm(i,s,o,l){if(!(i=Z(i)))return!1;let d=null,p=Mr(i);const _=!p&&Vt(i);if(p||_){if(_&&!_.standalone)return!1;d=i}else{const w=i.ngModule;if(p=Mr(w),!p)return!1;d=w}const E=l.has(d);if(_){if(E)return!1;if(l.add(d),_.dependencies){const w="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const S of w)mm(S,s,o,l)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let S;l.add(d);try{yi(p.imports,M=>{mm(M,s,o,l)&&(S||(S=[]),S.push(M))})}finally{}void 0!==S&&td(S,s)}if(!E){const S=ps(d)||(()=>new d);s.push({provide:d,useFactory:S,deps:ht},{provide:ku,useValue:d,multi:!0},{provide:gm,useValue:()=>Le(d),multi:!0})}const w=p.providers;null==w||E||_m(w,M=>{s.push(M)})}}return d!==i&&void 0!==i.providers}function _m(i,s){for(let o of i)Ee(o)&&(o=o.\u0275providers),Array.isArray(o)?_m(o,s):s(o)}const g0=ee({provide:String,useValue:ee});function ym(i){return null!==i&&"object"==typeof i&&g0 in i}function xu(i){return"function"==typeof i}const nd=new Kt("Set Injector scope."),ca={},_0={};let Em;function yp(){return void 0===Em&&(Em=new Xc),Em}class Fu{}class bv extends Fu{get destroyed(){return this._destroyed}constructor(s,o,l,d){super(),this.parent=o,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kh(s,_=>this.processProvider(_)),this.records.set(Cv,Lu(void 0,this)),d.has("environment")&&this.records.set(Fu,Lu(void 0,this));const p=this.records.get(nd);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(ku.multi,ht,st.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const o=or(this),l=dn(void 0);try{return s()}finally{or(o),dn(l)}}get(s,o=rn,l=st.Default){this.assertNotDestroyed(),l=pt(l);const d=or(this),p=dn(void 0);try{if(!(l&st.SkipSelf)){let E=this.records.get(s);if(void 0===E){const w=function Iv(i){return"function"==typeof i||"object"==typeof i&&i instanceof Kt}(s)&&Xt(s);E=w&&this.injectableDefInScope(w)?Lu(Cm(s),ca):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(l&st.Self?yp():this.parent).get(s,o=l&st.Optional&&o===rn?null:o)}catch(_){if("NullInjectorError"===_.name){if((_[qn]=_[qn]||[]).unshift(ae(s)),d)throw _;return function B(i,s,o,l){const d=i[qn];throw s[ui]&&d.unshift(s[ui]),i.message=function U(i,s,o,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=ae(s);if(Array.isArray(s))d=s.map(ae).join(" -> ");else if("object"==typeof s){let p=[];for(let _ in s)if(s.hasOwnProperty(_)){let E=s[_];p.push(_+":"+("string"==typeof E?JSON.stringify(E):ae(E)))}d=`{${p.join(", ")}}`}return`${o}${l?"("+l+")":""}[${d}]: ${i.replace(zs,"\n  ")}`}("\n"+i.message,d,o,l),i.ngTokenPath=d,i[qn]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{dn(p),or(d)}}resolveInjectorInitializers(){const s=or(this),o=dn(void 0);try{const l=this.get(gm.multi,ht,st.Self);for(const d of l)d()}finally{or(s),dn(o)}}toString(){const s=[],o=this.records;for(const l of o.keys())s.push(ae(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processProvider(s){let o=xu(s=Z(s))?s:Z(s&&s.provide);const l=function v0(i){return ym(i)?Lu(void 0,i.useValue):Lu(Dv(i),ca)}(s);if(xu(s)||!0!==s.multi)this.records.get(o);else{let d=this.records.get(o);d||(d=Lu(void 0,ca,!0),d.factory=()=>wt(d.multi),this.records.set(o,d)),o=s,d.multi.push(s)}this.records.set(o,l)}hydrate(s,o){return o.value===ca&&(o.value=_0,o.value=o.factory()),"object"==typeof o.value&&o.value&&function wm(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=Z(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Cm(i){const s=Xt(i),o=null!==s?s.factory:ps(i);if(null!==o)return o;if(i instanceof Kt)throw new ce(204,!1);if(i instanceof Function)return function y0(i){const s=i.length;if(s>0)throw function uo(i,s){const o=[];for(let l=0;l<i;l++)o.push(s);return o}(s,"?"),new ce(204,!1);const o=function _r(i){const s=i&&(i[sr]||i[nn]);if(s){const o=function Gi(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new ce(204,!1)}function Dv(i,s,o){let l;if(xu(i)){const d=Z(i);return ps(d)||Cm(d)}if(ym(i))l=()=>Z(i.useValue);else if(function m0(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...wt(i.deps||[]));else if(function wv(i){return!(!i||!i.useExisting)}(i))l=()=>Le(Z(i.useExisting));else{const d=Z(i&&(i.useClass||i.provide));if(!function E0(i){return!!i.deps}(i))return ps(d)||Cm(d);l=()=>new d(...wt(i.deps))}return l}function Lu(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function kh(i,s){for(const o of i)Array.isArray(o)?kh(o,s):o&&Ee(o)?kh(o.\u0275providers,s):s(o)}class vp{}class Sv{}class Ep{resolveComponentFactory(s){throw function C0(i){const s=Error(`No component factory found for ${ae(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let rd=(()=>{class i{}return i.NULL=new Ep,i})();function Av(){return da($n(),de())}function da(i,s){return new ml(Mn(i,s))}let ml=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=Av,i})();function Mv(i){return i instanceof ml?i.nativeElement:i}class id{}let Rv=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function w0(){const i=de(),o=Fn($n().index,i);return(vr(o)?o:i)[11]}(),i})(),b0=(()=>{class i{}return i.\u0275prov=Ze({token:i,providedIn:"root",factory:()=>null}),i})();class Pv{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Nv=new Pv("15.1.4"),bm={};function Dm(i){return i.ngOriginalError}class xh{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&Dm(s);for(;o&&Dm(o);)o=Dm(o);return o||null}}function _l(i){return i instanceof Function?i():i}function Uv(i,s,o){let l=i.length;for(;;){const d=i.indexOf(s,o);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=s.length;if(d+p===l||i.charCodeAt(d+p)<=32)return d}o=d+1}}const Vv="ng-template";function Bv(i,s,o){let l=0;for(;l<i.length;){let d=i[l++];if(o&&"class"===d){if(d=i[l],-1!==Uv(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function wp(i){return 4===i.type&&i.value!==Vv}function R0(i,s,o){return s===(4!==i.type||o?i.value:Vv)}function Hv(i,s,o){let l=4;const d=i.attrs||[],p=function bp(i){for(let s=0;s<i.length;s++)if(Qi(i[s]))return s;return i.length}(d);let _=!1;for(let E=0;E<s.length;E++){const w=s[E];if("number"!=typeof w){if(!_)if(4&l){if(l=2|1&l,""!==w&&!R0(i,w,o)||""===w&&1===s.length){if(Br(l))return!1;_=!0}}else{const S=8&l?w:s[++E];if(8&l&&null!==i.attrs){if(!Bv(i.attrs,S,o)){if(Br(l))return!1;_=!0}continue}const F=Im(8&l?"class":w,d,wp(i),o);if(-1===F){if(Br(l))return!1;_=!0;continue}if(""!==S){let G;G=F>p?"":d[F+1].toLowerCase();const Q=8&l?G:null;if(Q&&-1!==Uv(Q,S,0)||2&l&&S!==G){if(Br(l))return!1;_=!0}}}}else{if(!_&&!Br(l)&&!Br(w))return!1;if(_&&Br(w))continue;_=!1,l=w|1&l}}return Br(l)||_}function Br(i){return 0==(1&i)}function Im(i,s,o,l){if(null===s)return-1;let d=0;if(l||!o){let p=!1;for(;d<s.length;){const _=s[d];if(_===i)return d;if(3===_||6===_)p=!0;else{if(1===_||2===_){let E=s[++d];for(;"string"==typeof E;)E=s[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=p?1:2}return-1}return function Dp(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const l=i[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,i)}function jv(i,s,o=!1){for(let l=0;l<s.length;l++)if(Hv(i,s[l],o))return!0;return!1}function Sm(i,s){return i?":not("+s.trim()+")":s}function P0(i){let s=i[0],o=1,l=2,d="",p=!1;for(;o<i.length;){let _=i[o];if("string"==typeof _)if(2&l){const E=i[++o];d+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?d+="."+_:4&l&&(d+=" "+_);else""!==d&&!Br(_)&&(s+=Sm(p,d),d=""),l=_,p=p||!Br(l);o++}return""!==d&&(s+=Sm(p,d)),s}const Pt={};function zv(i){Fh(Bt(),de(),dr()+i,!1)}function Fh(i,s,o,l){if(!l)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&Es(s,p,o)}else{const p=i.preOrderHooks;null!==p&&Va(s,p,0,o)}ro(o)}function sd(i,s=null,o=null,l){const d=Yv(i,s,o,l);return d.resolveInjectorInitializers(),d}function Yv(i,s=null,o=null,l,d=new Set){const p=[o||ht,p0(i)];return l=l||("object"==typeof i?void 0:ae(i)),new bv(p,s||yp(),l||null,d)}let Vu=(()=>{class i{static create(o,l){if(Array.isArray(o))return sd({name:""},l,o,"");{const d=o.name??"";return sd({name:d},o.parent,o.providers,d)}}}return i.THROW_IF_NOT_FOUND=rn,i.NULL=new Xc,i.\u0275prov=Ze({token:i,providedIn:"any",factory:()=>Le(Cv)}),i.__NG_ELEMENT_ID__=-1,i})();function ud(i,s=st.Default){const o=de();return null===o?Le(i,s):qa($n(),o,Z(i),s)}function iE(){throw new Error("invalid")}function sE(i,s){const o=i.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const p=o[l+1];if(-1!==p){const _=i.data[p];tu(o[l]),_.contentQueries(2,s[p],p)}}}function Rm(i,s,o,l,d,p,_,E,w,S,M){const F=s.blueprint.slice();return F[0]=d,F[2]=76|l,(null!==M||i&&1024&i[2])&&(F[2]|=1024),Bo(F),F[3]=F[15]=i,F[8]=o,F[10]=_||i&&i[10],F[11]=E||i&&i[11],F[12]=w||i&&i[12]||null,F[9]=S||i&&i[9]||null,F[6]=p,F[20]=function Ei(){return nm++}(),F[21]=M,F[16]=2==s.type?i[16]:F,F}function Bu(i,s,o,l,d){let p=i.data[s];if(null===p)p=function Pm(i,s,o,l,d){const p=jo(),_=xa(),w=i.data[s]=function pS(i,s,o,l,d,p){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,o,s,l,d);return null===i.firstChild&&(i.firstChild=w),null!==p&&(_?null==p.child&&null!==w.parent&&(p.child=w):null===p.next&&(p.next=w)),w}(i,s,o,l,d),function Ec(){return Et.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=o,p.value=l,p.attrs=d;const _=function ka(){const i=Et.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return Cr(p,!0),p}function Vi(i,s,o,l){if(0===o)return-1;const d=s.length;for(let p=0;p<o;p++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function Nm(i,s,o){Ua(s);try{const l=i.viewQuery;null!==l&&kp(1,l,o);const d=i.template;null!==d&&q0(i,s,d,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&sE(i,s),i.staticViewQueries&&kp(2,i.viewQuery,o);const p=i.components;null!==p&&function Z0(i,s){for(let o=0;o<s.length;o++)Np(i,s[o])}(s,p)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Wf()}}function Vh(i,s,o,l){const d=s[2];if(128!=(128&d)){Ua(s);try{Bo(s),function Yi(i){return Et.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&q0(i,s,o,2,l);const _=3==(3&d);if(_){const S=i.preOrderCheckHooks;null!==S&&Es(s,S,null)}else{const S=i.preOrderHooks;null!==S&&Va(s,S,0,null),pi(s,0)}if(function pE(i){for(let s=Os(i);null!==s;s=Bc(s)){if(!s[2])continue;const o=s[9];for(let l=0;l<o.length;l++){const d=o[l];512&d[2]||Ho(d[3],1),d[2]|=512}}}(s),function fE(i){for(let s=Os(i);null!==s;s=Bc(s))for(let o=10;o<s.length;o++){const l=s[o],d=l[1];no(l)&&Vh(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&sE(i,s),_){const S=i.contentCheckHooks;null!==S&&Es(s,S)}else{const S=i.contentHooks;null!==S&&Va(s,S,1),pi(s,1)}!function W0(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const d=o[l];if(d<0)ro(~d);else{const p=d,_=o[++l],E=o[++l];Cc(_,p),E(2,s[p])}}}finally{ro(-1)}}(i,s);const E=i.components;null!==E&&function oE(i,s){for(let o=0;o<s.length;o++)gE(i,s[o])}(s,E);const w=i.viewQuery;if(null!==w&&kp(2,w,l),_){const S=i.viewCheckHooks;null!==S&&Es(s,S)}else{const S=i.viewHooks;null!==S&&Va(s,S,2),pi(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,Ho(s[3],-1))}finally{Wf()}}}function q0(i,s,o,l,d){const p=dr(),_=2&l;try{ro(-1),_&&s.length>22&&Fh(i,s,22,!1),o(l,d)}finally{ro(p)}}function Tp(i,s,o){if(ko(s)){const d=s.directiveEnd;for(let p=s.directiveStart;p<d;p++){const _=i.data[p];_.contentQueries&&_.contentQueries(1,o[p],p)}}}function cd(i,s,o){Oa()&&(function tb(i,s,o,l){const d=o.directiveStart,p=o.directiveEnd;Qr(o)&&function rb(i,s,o){const l=Mn(s,i),d=K0(o),p=i[10],_=Hh(i,Rm(i,d,null,o.onPush?32:16,l,s,p,p.createRenderer(l,o),null,null,null));i[s.index]=_}(s,o,i.data[d+o.componentOffset]),i.firstCreatePass||Is(o,s),er(l,s);const _=o.initialInputs;for(let E=d;E<p;E++){const w=i.data[E],S=gi(s,i,E,o);er(S,s),null!==_&&dE(0,E-d,S,w,0,_),ur(w)&&(Fn(o.index,s)[8]=gi(s,i,E,o))}}(i,s,o,Mn(o,s)),64==(64&o.flags)&&uE(i,s,o))}function Ap(i,s,o=Mn){const l=s.localNames;if(null!==l){let d=s.index+1;for(let p=0;p<l.length;p+=2){const _=l[p+1],E=-1===_?o(s,i):i[_];i[d++]=E}}}function K0(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Mp(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Mp(i,s,o,l,d,p,_,E,w,S){const M=22+l,F=M+d,G=function hS(i,s){const o=[];for(let l=0;l<s;l++)o.push(l<i?null:Pt);return o}(M,F),Q="function"==typeof S?S():S;return G[1]={type:i,blueprint:G,template:o,queries:null,viewQuery:E,declTNode:s,data:G.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:w,consts:Q,incompleteFirstPass:!1}}function Y0(i,s,o,l){const d=xp(s);null===o?d.push(l):(d.push(o),i.firstCreatePass&&Fm(i).push(l,d.length-1))}function Q0(i,s,o,l){for(let d in i)if(i.hasOwnProperty(d)){o=null===o?{}:o;const p=i[d];null===l?Om(o,s,d,p):l.hasOwnProperty(d)&&Om(o,s,l[d],p)}return o}function Om(i,s,o,l){i.hasOwnProperty(o)?i[o].push(s,l):i[o]=[s,l]}function dd(i,s){const o=Fn(s,i);16&o[2]||(o[2]|=32)}function ha(i,s,o,l){let d=!1;if(Oa()){const p=null===l?null:{"":-1},_=function Hu(i,s){const o=i.directiveRegistry;let l=null,d=null;if(o)for(let p=0;p<o.length;p++){const _=o[p];if(jv(s,_.selectors,!1))if(l||(l=[]),ur(_))if(null!==_.findHostDirectiveDefs){const E=[];d=d||new Map,_.findHostDirectiveDefs(_,E,d),l.unshift(...E,_),km(i,s,E.length)}else l.unshift(_),km(i,s,0);else d=d||new Map,_.findHostDirectiveDefs?.(_,l,d),l.push(_)}return null===l?null:[l,d]}(i,o);let E,w;null===_?E=w=null:[E,w]=_,null!==E&&(d=!0,Fs(i,s,o,E,p,w)),p&&function yl(i,s,o){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const p=o[s[d+1]];if(null==p)throw new ce(-301,!1);l.push(s[d],p)}}}(o,l,p)}return o.mergedAttrs=Ni(o.mergedAttrs,o.attrs),d}function Fs(i,s,o,l,d,p){for(let S=0;S<l.length;S++)Wa(Is(o,s),i,l[S].type);!function Hr(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}(o,i.data.length,l.length);for(let S=0;S<l.length;S++){const M=l[S];M.providersResolver&&M.providersResolver(M)}let _=!1,E=!1,w=Vi(i,s,l.length,null);for(let S=0;S<l.length;S++){const M=l[S];o.mergedAttrs=Ni(o.mergedAttrs,M.hostAttrs),vl(i,o,s,w,M),cE(w,M,d),null!==M.contentQueries&&(o.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(o.flags|=64);const F=M.type.prototype;!_&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),_=!0),!E&&(F.ngOnChanges||F.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),E=!0),w++}!function Bh(i,s,o){const d=s.directiveEnd,p=i.data,_=s.attrs,E=[];let w=null,S=null;for(let M=s.directiveStart;M<d;M++){const F=p[M],G=o?o.get(F):null,fe=G?G.outputs:null;w=Q0(F.inputs,M,w,G?G.inputs:null),S=Q0(F.outputs,M,S,fe);const Me=null===w||null===_||wp(s)?null:hE(w,M,_);E.push(Me)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=8),w.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=E,s.inputs=w,s.outputs=S}(i,o,p)}function uE(i,s,o){const l=o.directiveStart,d=o.directiveEnd,p=o.index,_=function Xl(){return Et.lFrame.currentDirectiveIndex}();try{ro(p);for(let E=l;E<d;E++){const w=i.data[E],S=s[E];eu(E),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&nb(w,S)}}finally{ro(-1),eu(_)}}function nb(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function km(i,s,o){s.componentOffset=o,(i.components||(i.components=[])).push(s.index)}function cE(i,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=i;ur(s)&&(o[""]=i)}}function vl(i,s,o,l,d){i.data[l]=d;const p=d.factory||(d.factory=ps(d.type)),_=new zo(p,ur(d),ud);i.blueprint[l]=_,o[l]=_,function eb(i,s,o,l,d){const p=d.hostBindings;if(p){let _=i.hostBindingOpCodes;null===_&&(_=i.hostBindingOpCodes=[]);const E=~s.index;(function lE(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(_)!=E&&_.push(E),_.push(o,l,p)}}(i,s,l,Vi(i,o,d.hostVars,Pt),d)}function In(i,s,o,l,d,p){const _=Mn(i,s);!function Rp(i,s,o,l,d,p,_){if(null==p)i.removeAttribute(s,d,o);else{const E=null==_?we(p):_(p,l||"",d);i.setAttribute(s,d,E,o)}}(s[11],_,p,i.value,o,l,d)}function dE(i,s,o,l,d,p){const _=p[s];if(null!==_){const E=l.setInput;for(let w=0;w<_.length;){const S=_[w++],M=_[w++],F=_[w++];null!==E?l.setInput(o,F,S,M):o[M]=F}}}function hE(i,s,o){let l=null,d=0;for(;d<o.length;){const p=o[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(i.hasOwnProperty(p)){null===l&&(l=[]);const _=i[p];for(let E=0;E<_.length;E+=2)if(_[E]===s){l.push(p,_[E+1],o[d+1]);break}}d+=2}else d+=2;else d+=4}return l}function xm(i,s,o,l){return[i,!0,!1,s,null,0,l,o,null,null]}function gE(i,s){const o=Fn(s,i);if(no(o)){const l=o[1];48&o[2]?Vh(l,o,l.template,o[8]):o[5]>0&&Pp(o)}}function Pp(i){for(let l=Os(i);null!==l;l=Bc(l))for(let d=10;d<l.length;d++){const p=l[d];if(no(p))if(512&p[2]){const _=p[1];Vh(_,p,_.template,p[8])}else p[5]>0&&Pp(p)}const o=i[1].components;if(null!==o)for(let l=0;l<o.length;l++){const d=Fn(o[l],i);no(d)&&d[5]>0&&Pp(d)}}function Np(i,s){const o=Fn(s,i),l=o[1];(function mE(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(l,o),Nm(l,o,o[8])}function Hh(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Op(i){for(;i;){i[2]|=32;const s=Ns(i);if(xo(i)&&!s)return i;i=s}return null}function jh(i,s,o,l=!0){const d=s[10];d.begin&&d.begin();try{Vh(i,s,i.template,o)}catch(_){throw l&&Lm(s,_),_}finally{d.end&&d.end()}}function kp(i,s,o){tu(0),s(i,o)}function xp(i){return i[7]||(i[7]=[])}function Fm(i){return i.cleanup||(i.cleanup=[])}function Lm(i,s){const o=i[9],l=o?o.get(xh,null):null;l&&l.handleError(s)}function Lp(i,s,o,l,d){for(let p=0;p<o.length;){const _=o[p++],E=o[p++],w=s[_],S=i.data[_];null!==S.setInput?S.setInput(w,d,l,E):w[E]=d}}function hd(i,s,o){let l=o?i.styles:null,d=o?i.classes:null,p=0;if(null!==s)for(let _=0;_<s.length;_++){const E=s[_];"number"==typeof E?p=E:1==p?d=se(d,E):2==p&&(l=se(l,E+": "+s[++_]+";"))}o?i.styles=l:i.stylesWithoutHost=l,o?i.classes=d:i.classesWithoutHost=d}function ju(i,s,o,l,d=!1){for(;null!==o;){const p=s[o.index];if(null!==p&&l.push(Dn(p)),Or(p))for(let E=10;E<p.length;E++){const w=p[E],S=w[1].firstChild;null!==S&&ju(w[1],w,S,l)}const _=o.type;if(8&_)ju(i,s,o.child,l);else if(32&_){const E=Eh(o,s);let w;for(;w=E();)l.push(w)}else if(16&_){const E=lp(s,o);if(Array.isArray(E))l.push(...E);else{const w=Ns(s[16]);ju(w[1],w,E,l,!0)}}o=d?o.projectionNext:o.next}return l}class fd{get rootNodes(){const s=this._lView,o=s[1];return ju(o,s,o.firstChild,[])}constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Or(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(bh(s,l),Qo(o,l))}this._attachedToViewContainer=!1}sp(this._lView[1],this._lView)}onDestroy(s){Y0(this._lView[1],this._lView,null,s)}markForCheck(){Op(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){jh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wh(i,s){aa(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ce(902,!1);this._appRef=s}}class _E extends fd{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;jh(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class Um extends rd{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Vt(s);return new Up(o,this.ngModule)}}function jr(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}class yE{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,l){l=pt(l);const d=this.injector.get(s,bm,l);return d!==bm||o===bm?d:this.parentInjector.get(s,o,l)}}class Up extends Sv{get inputs(){return jr(this.componentDef.inputs)}get outputs(){return jr(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function N0(i){return i.map(P0).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,l,d){let p=(d=d||this.ngModule)instanceof Fu?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new yE(s,p):s,E=_.get(id,null);if(null===E)throw new ce(407,!1);const w=_.get(b0,null),S=E.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",F=l?function fS(i,s,o){return i.selectRootElement(s,o===dt.ShadowDom)}(S,l,this.componentDef.encapsulation):ol(S,M,function El(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(M)),G=this.componentDef.onPush?288:272,Q=Mp(0,null,null,1,0,null,null,null,null,null),fe=Rm(null,Q,null,G,null,null,E,S,w,_,null);let Me,He;Ua(fe);try{const et=this.componentDef;let _t,Te=null;et.findHostDirectiveDefs?(_t=[],Te=new Map,et.findHostDirectiveDefs(et,_t,Te),_t.push(et)):_t=[et];const bt=function Vm(i,s){const o=i[1];return i[22]=s,Bu(o,22,2,"#host",null)}(fe,F),En=function Bm(i,s,o,l,d,p,_,E){const w=d[1];!function Bp(i,s,o,l){for(const d of i)s.mergedAttrs=Ni(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(hd(s,s.mergedAttrs,!0),null!==o&&ks(l,o,s))}(l,i,s,_);const S=p.createRenderer(s,o),M=Rm(d,K0(o),null,o.onPush?32:16,d[i.index],i,p,S,E||null,null,null);return w.firstCreatePass&&km(w,i,l.length-1),Hh(d,M),d[i.index]=M}(bt,F,et,_t,fe,E,S);He=to(Q,22),F&&function Hm(i,s,o,l){if(l)gn(i,o,["ng-version",Nv.full]);else{const{attrs:d,classes:p}=function O0(i){const s=[],o=[];let l=1,d=2;for(;l<i.length;){let p=i[l];if("string"==typeof p)2===d?""!==p&&s.push(p,i[++l]):8===d&&o.push(p);else{if(!Br(d))break;d=p}l++}return{attrs:s,classes:o}}(s.selectors[0]);d&&gn(i,o,d),p&&p.length>0&&Ui(i,o,p.join(" "))}}(S,et,F,l),void 0!==o&&function ob(i,s,o){const l=i.projection=[];for(let d=0;d<s.length;d++){const p=o[d];l.push(null!=p?Array.from(p):null)}}(He,this.ngContentSelectors,o),Me=function sb(i,s,o,l,d,p){const _=$n(),E=d[1],w=Mn(_,d);Fs(E,d,_,o,null,l);for(let M=0;M<o.length;M++)er(gi(d,E,_.directiveStart+M,_),d);uE(E,d,_),w&&er(w,d);const S=gi(d,E,_.directiveStart+_.componentOffset,_);if(i[8]=d[8]=S,null!==p)for(const M of p)M(S,s);return Tp(E,_,i),S}(En,et,_t,Te,fe,[_S]),Nm(Q,fe,null)}finally{Wf()}return new mS(this.componentType,Me,da(He,fe),fe,He)}}class mS extends vp{constructor(s,o,l,d,p){super(),this.location=l,this._rootLView=d,this._tNode=p,this.instance=o,this.hostView=this.changeDetectorRef=new _E(d),this.componentType=s}setInput(s,o){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[s])){const p=this._rootLView;Lp(p[1],p,d,s,o),dd(p,this._tNode.index)}}get injector(){return new xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function _S(){const i=$n();Go(de()[1],i)}function vE(i){let s=function ab(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const l=[i];for(;s;){let d;if(ur(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ce(903,!1);d=s.\u0275dir}if(d){if(o){l.push(d);const _=i;_.inputs=EE(i.inputs),_.declaredInputs=EE(i.declaredInputs),_.outputs=EE(i.outputs);const E=d.hostBindings;E&&lb(i,E);const w=d.viewQuery,S=d.contentQueries;if(w&&vS(i,w),S&&ES(i,S),ue(i.inputs,d.inputs),ue(i.declaredInputs,d.declaredInputs),ue(i.outputs,d.outputs),ur(d)&&d.data.animation){const M=i.data;M.animation=(M.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let _=0;_<p.length;_++){const E=p[_];E&&E.ngInherit&&E(i),E===vE&&(o=!1)}}s=Object.getPrototypeOf(s)}!function yS(i){let s=0,o=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=Ni(d.hostAttrs,o=Ni(o,d.hostAttrs))}}(l)}function EE(i){return i===$t?{}:i===ht?[]:i}function vS(i,s){const o=i.viewQuery;i.viewQuery=o?(l,d)=>{s(l,d),o(l,d)}:s}function ES(i,s){const o=i.contentQueries;i.contentQueries=o?(l,d,p)=>{s(l,d,p),o(l,d,p)}:s}function lb(i,s){const o=i.hostBindings;i.hostBindings=o?(l,d)=>{s(l,d),o(l,d)}:s}let md=null;function $u(){if(!md){const i=Ct.Symbol;if(i&&i.iterator)md=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const l=s[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(md=l)}}}return md}function $p(i){return!!zp(i)&&(Array.isArray(i)||!(i instanceof Map)&&$u()in i)}function zp(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Di(i,s,o){return i[s]=o}function ii(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function Cl(i,s,o,l){const d=ii(i,s,o);return ii(i,s+1,l)||d}function _d(i,s,o,l){const d=de();return ii(d,vs(),s)&&(Bt(),In(on(),d,i,s,o,l)),_d}function Wm(i,s,o,l,d,p,_,E){const w=de(),S=Bt(),M=i+22,F=S.firstCreatePass?function gb(i,s,o,l,d,p,_,E,w){const S=s.consts,M=Bu(s,i,4,_||null,Mi(S,E));ha(s,o,M,Mi(S,w)),Go(s,M);const F=M.tViews=Mp(2,M,l,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S);return null!==s.queries&&(s.queries.template(s,M),F.queries=s.queries.embeddedTView(M)),M}(M,S,w,s,o,l,d,p,_):S.data[M];Cr(F,!1);const G=w[11].createComment("");Gc(S,w,G,F),er(G,w),Hh(w,w[M]=xm(G,w,G,F)),Vl(F)&&cd(S,w,F),null!=_&&Ap(w,F,E)}function TE(i,s,o){const l=de();return ii(l,vs(),s)&&function ri(i,s,o,l,d,p,_,E){const w=Mn(s,o);let M,S=s.inputs;!E&&null!=S&&(M=S[l])?(Lp(i,o,M,l,d),Qr(s)&&dd(o,s.index)):3&s.type&&(l=function aE(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=_?_(d,s.value||"",l):d,p.setProperty(w,l,d))}(Bt(),on(),l,i,s,l[11],o,!1),TE}function qm(i,s,o,l,d){const _=d?"class":"style";Lp(i,o,s.inputs[_],_,l)}function Cd(i,s,o,l){const d=de(),p=Bt(),_=22+i,E=d[11],w=d[_]=ol(E,s,function Zf(){return Et.lFrame.currentNamespace}()),S=p.firstCreatePass?function Gh(i,s,o,l,d,p,_){const E=s.consts,S=Bu(s,i,2,d,Mi(E,p));return ha(s,o,S,Mi(E,_)),null!==S.attrs&&hd(S,S.attrs,!1),null!==S.mergedAttrs&&hd(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(_,p,d,0,s,o,l):p.data[_];return Cr(S,!0),ks(E,w,S),32!=(32&S.flags)&&Gc(p,d,w,S),0===function Na(){return Et.lFrame.elementDepthCount}()&&er(w,d),function ql(){Et.lFrame.elementDepthCount++}(),Vl(S)&&(cd(p,d,S),Tp(p,S,d)),null!==l&&Ap(d,S),Cd}function zh(){let i=$n();xa()?function Fa(){Et.lFrame.isParent=!1}():(i=i.parent,Cr(i,!1));const s=i;!function Kl(){Et.lFrame.elementDepthCount--}();const o=Bt();return o.firstCreatePass&&(Go(o,i),ko(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Sc(i){return 0!=(8&i.flags)}(s)&&qm(o,s,de(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Ba(i){return 0!=(16&i.flags)}(s)&&qm(o,s,de(),s.stylesWithoutHost,!1),zh}function Kp(i,s,o,l){return Cd(i,s,o,l),zh(),Kp}function _b(){return de()}function ME(i){return!!i&&"function"==typeof i.then}function yb(i){return!!i&&"function"==typeof i.subscribe}const vb=yb;function Qm(i,s,o,l){const d=de(),p=Bt(),_=$n();return function Xm(i,s,o,l,d,p,_){const E=Vl(l),S=i.firstCreatePass&&Fm(i),M=s[8],F=xp(s);let G=!0;if(3&l.type||_){const Me=Mn(l,s),He=_?_(Me):Me,et=F.length,_t=_?bt=>_(Dn(bt[l.index])):l.index;let Te=null;if(!_&&E&&(Te=function Eb(i,s,o,l){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const _=d[p];if(_===o&&d[p+1]===l){const E=s[7],w=d[p+2];return E.length>w?E[w]:null}"string"==typeof _&&(p+=2)}return null}(i,s,d,l.index)),null!==Te)(Te.__ngLastListenerFn__||Te).__ngNextListenerFn__=p,Te.__ngLastListenerFn__=p,G=!1;else{p=Yp(l,s,M,p,!1);const bt=o.listen(He,d,p);F.push(p,bt),S&&S.push(d,_t,et,et+1)}}else p=Yp(l,s,M,p,!1);const Q=l.outputs;let fe;if(G&&null!==Q&&(fe=Q[d])){const Me=fe.length;if(Me)for(let He=0;He<Me;He+=2){const En=s[fe[He]][fe[He+1]].subscribe(p),Vn=F.length;F.push(p,En),S&&S.push(d,l.index,Vn,-(Vn+1))}}}(p,d,d[11],_,i,s,l),Qm}function Zh(i,s,o,l){try{return!1!==o(l)}catch(d){return Lm(i,d),!1}}function Yp(i,s,o,l,d){return function p(_){if(_===Function)return l;Op(i.componentOffset>-1?Fn(i.index,s):s);let w=Zh(s,0,l,_),S=p.__ngNextListenerFn__;for(;S;)w=Zh(s,0,S,_)&&w,S=S.__ngNextListenerFn__;return d&&!1===w&&(_.preventDefault(),_.returnValue=!1),w}}function RE(i=1){return function Jg(i){return(Et.lFrame.contextLView=function Dc(i,s){for(;i>0;)s=s[15],i--;return s}(i,Et.lFrame.contextLView))[8]}(i)}function Jp(i,s){return i<<17|s<<2}function yo(i){return i>>17&32767}function Xp(i){return 2|i}function Gu(i){return(131068&i)>>2}function bd(i,s){return-131069&i|s<<2}function eg(i){return 1|i}function o_(i,s,o,l,d){const p=i[o+1],_=null===s;let E=l?yo(p):Gu(p),w=!1;for(;0!==E&&(!1===w||_);){const M=i[E+1];Sb(i[E],s)&&(w=!0,i[E+1]=l?eg(M):Xp(M)),E=l?yo(M):Gu(M)}w&&(i[o+1]=l?Xp(p):eg(p))}function Sb(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Gt(i,s)>=0}function h_(i,s){return function is(i,s,o,l){const d=de(),p=Bt(),_=function fi(i){const s=Et.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}(2);p.firstUpdatePass&&function Pb(i,s,o,l){const d=i.data;if(null===d[o+1]){const p=d[dr()],_=function Rb(i,s){return s>=i.expandoStartIndex}(i,o);(function zE(i,s){return 0!=(i.flags&(s?8:16))})(p,l)&&null===s&&!_&&(s=!1),s=function HE(i,s,o,l){const d=function Ri(i){const s=Et.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(o=Id(o=ng(null,i,s,o,l),s.attrs,l),p=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==d)if(o=ng(d,i,s,o,l),null===p){let w=function jE(i,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==Gu(l))return i[yo(l)]}(i,s,l);void 0!==w&&Array.isArray(w)&&(w=ng(null,i,s,w[1],l),w=Id(w,s.attrs,l),function DS(i,s,o,l){i[yo(o?s.classBindings:s.styleBindings)]=l}(i,s,l,w))}else p=function IS(i,s,o){let l;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)l=Id(l,i[p].hostAttrs,o);return Id(l,s.attrs,o)}(i,s,l)}return void 0!==p&&(l?s.residualClasses=p:s.residualStyles=p),o}(d,p,s,l),function Db(i,s,o,l,d,p){let _=p?s.classBindings:s.styleBindings,E=yo(_),w=Gu(_);i[l]=o;let M,S=!1;if(Array.isArray(o)?(M=o[1],(null===M||Gt(o,M)>0)&&(S=!0)):M=o,d)if(0!==w){const G=yo(i[E+1]);i[l+1]=Jp(G,E),0!==G&&(i[G+1]=bd(i[G+1],l)),i[E+1]=function s_(i,s){return 131071&i|s<<17}(i[E+1],l)}else i[l+1]=Jp(E,0),0!==E&&(i[E+1]=bd(i[E+1],l)),E=l;else i[l+1]=Jp(w,0),0===E?E=l:i[w+1]=bd(i[w+1],l),w=l;S&&(i[l+1]=Xp(i[l+1])),o_(i,M,l,!0),o_(i,M,l,!1),function Ib(i,s,o,l,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&Gt(p,s)>=0&&(o[l+1]=eg(o[l+1]))}(s,M,i,l,p),_=Jp(E,w),p?s.classBindings=_:s.styleBindings=_}(d,p,s,o,_,l)}}(p,i,_,l),s!==Pt&&ii(d,_,s)&&function $E(i,s,o,l,d,p,_,E){if(!(3&s.type))return;const w=i.data,S=w[E+1],M=function bb(i){return 1==(1&i)}(S)?GE(w,s,o,d,Gu(S),_):void 0;Sd(M)||(Sd(p)||function wb(i){return 2==(2&i)}(S)&&(p=GE(w,null,o,d,E,_)),function dl(i,s,o,l,d){if(s)d?i.addClass(o,l):i.removeClass(o,l);else{let p=-1===l.indexOf("-")?void 0:ni.DashCase;null==d?i.removeStyle(o,l,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=ni.Important),i.setStyle(o,l,d,p))}}(l,_,_s(dr(),o),d,p))}(p,p.data[dr()],d,d[11],i,d[_+1]=function rg(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ae(v(i)))),i}(s,o),l,_)}(i,s,null,!0),h_}function ng(i,s,o,l,d){let p=null;const _=o.directiveEnd;let E=o.directiveStylingLast;for(-1===E?E=o.directiveStart:E++;E<_&&(p=s[E],l=Id(l,p.hostAttrs,d),p!==i);)E++;return null!==i&&(o.directiveStylingLast=E),l}function Id(i,s,o){const l=o?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const _=s[p];"number"==typeof _?d=_:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Jn(i,_,!!o||s[++p]))}return void 0===i?null:i}function GE(i,s,o,l,d,p){const _=null===s;let E;for(;d>0;){const w=i[d],S=Array.isArray(w),M=S?w[1]:w,F=null===M;let G=o[d+1];G===Pt&&(G=F?ht:void 0);let Q=F?tl(G,l):M===l?G:void 0;if(S&&!Sd(Q)&&(Q=tl(w,l)),Sd(Q)&&(E=Q,_))return E;const fe=i[d+1];d=_?yo(fe):Gu(fe)}if(null!==s){let w=p?s.residualClasses:s.residualStyles;null!=w&&(E=tl(w,l))}return E}function Sd(i){return void 0!==i}function WE(i,s=""){const o=de(),l=Bt(),d=i+22,p=l.firstCreatePass?Bu(l,d,1,s,null):l.data[d],_=o[d]=function Iu(i,s){return i.createText(s)}(o[11],s);Gc(l,o,_,p),Cr(p,!1)}function ig(i){return qh("",i,""),ig}function qh(i,s,o){const l=de(),d=function _o(i,s,o,l){return ii(i,vs(),o)?s+we(o)+l:Pt}(l,i,s,o);return d!==Pt&&function mo(i,s,o){const l=_s(s,i);!function Su(i,s,o){i.setValue(s,o)}(i[11],l,o)}(l,dr(),d),qh}const bl=void 0;var Ub=["en",[["a","p"],["AM","PM"],bl],[["AM","PM"],bl,bl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bl,"{1} 'at' {0}",bl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Lb(i){const o=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let Td={};function Tr(i){const s=function E_(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=lg(s);if(o)return o;const l=s.split("-")[0];if(o=lg(l),o)return o;if("en"===l)return Ub;throw new ce(701,!1)}function y_(i){return Tr(i)[ft.PluralCase]}function lg(i){return i in Td||(Td[i]=Ct.ng&&Ct.ng.common&&Ct.ng.common.locales&&Ct.ng.common.locales[i]),Td[i]}var ft=(()=>((ft=ft||{})[ft.LocaleId=0]="LocaleId",ft[ft.DayPeriodsFormat=1]="DayPeriodsFormat",ft[ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",ft[ft.DaysFormat=3]="DaysFormat",ft[ft.DaysStandalone=4]="DaysStandalone",ft[ft.MonthsFormat=5]="MonthsFormat",ft[ft.MonthsStandalone=6]="MonthsStandalone",ft[ft.Eras=7]="Eras",ft[ft.FirstDayOfWeek=8]="FirstDayOfWeek",ft[ft.WeekendRange=9]="WeekendRange",ft[ft.DateFormat=10]="DateFormat",ft[ft.TimeFormat=11]="TimeFormat",ft[ft.DateTimeFormat=12]="DateTimeFormat",ft[ft.NumberSymbols=13]="NumberSymbols",ft[ft.NumberFormats=14]="NumberFormats",ft[ft.CurrencyCode=15]="CurrencyCode",ft[ft.CurrencySymbol=16]="CurrencySymbol",ft[ft.CurrencyName=17]="CurrencyName",ft[ft.Currencies=18]="Currencies",ft[ft.Directionality=19]="Directionality",ft[ft.PluralCase=20]="PluralCase",ft[ft.ExtraData=21]="ExtraData",ft))();const Ad="en-US";let w_=Ad;function yg(i,s,o,l,d){if(i=Z(i),Array.isArray(i))for(let p=0;p<i.length;p++)yg(i[p],s,o,l,d);else{const p=Bt(),_=de();let E=xu(i)?i:Z(i.provide),w=Dv(i);const S=$n(),M=1048575&S.providerIndexes,F=S.directiveStart,G=S.providerIndexes>>20;if(xu(i)||!i.multi){const Q=new zo(w,d,ud),fe=Eg(E,s,d?M:M+G,F);-1===fe?(Wa(Is(S,_),p,E),vg(p,i,s.length),s.push(E),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),o.push(Q),_.push(Q)):(o[fe]=Q,_[fe]=Q)}else{const Q=Eg(E,s,M+G,F),fe=Eg(E,s,M,M+G),He=fe>=0&&o[fe];if(d&&!He||!d&&!(Q>=0&&o[Q])){Wa(Is(S,_),p,E);const et=function tf(i,s,o,l,d){const p=new zo(i,o,ud);return p.multi=[],p.index=s,p.componentProviders=0,V_(p,d,l&&!o),p}(d?iD:Cg,o.length,d,l,w);!d&&He&&(o[fe].providerFactory=et),vg(p,i,s.length,0),s.push(E),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),o.push(et),_.push(et)}else vg(p,i,Q>-1?Q:fe,V_(o[d?fe:Q],w,!d&&l));!d&&l&&He&&o[fe].componentProviders++}}}function vg(i,s,o,l){const d=xu(s),p=function vm(i){return!!i.useClass}(s);if(d||p){const w=(p?Z(s.useClass):s).prototype.ngOnDestroy;if(w){const S=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const M=S.indexOf(o);-1===M?S.push(o,[l,w]):S[M+1].push(l,w)}else S.push(o,w)}}}function V_(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function Eg(i,s,o,l){for(let d=o;d<l;d++)if(s[d]===i)return d;return-1}function Cg(i,s,o,l){return ya(this.multi,[])}function iD(i,s,o,l){const d=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,E=gi(o,o[1],this.providerFactory.index,l);p=E.slice(0,_),ya(d,p);for(let w=_;w<E.length;w++)p.push(E[w])}else p=[],ya(d,p);return p}function ya(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function Pd(i,s=[]){return o=>{o.providersResolver=(l,d)=>function vC(i,s,o){const l=Bt();if(l.firstCreatePass){const d=ur(i);yg(o,l.data,l.blueprint,d,!0),yg(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class Co{}class EC{}function sD(i,s){return new CC(i,s??null)}class CC extends Co{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Um(this);const l=Hn(s);this._bootstrapComponents=_l(l.bootstrap),this._r3Injector=Yv(s,o,[{provide:Co,useValue:this},{provide:rd,useValue:this.componentFactoryResolver}],ae(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class B_ extends EC{constructor(s){super(),this.moduleType=s}create(s){return new CC(this.moduleType,s)}}class oD extends Co{constructor(s,o,l){super(),this.componentFactoryResolver=new Um(this),this.instance=null;const d=new bv([...s,{provide:Co,useValue:this},{provide:rd,useValue:this.componentFactoryResolver}],o||yp(),l,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function H_(i,s,o=null){return new oD(i,s,o).injector}let tT=(()=>{class i{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const l=ed(0,o.type),d=l.length>0?H_([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,d)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Ze({token:i,providedIn:"environment",factory:()=>new i(Le(Fu))}),i})();function wC(i){i.getStandaloneInjector=s=>s.get(tT).getOrCreateStandaloneInjector(i)}function sf(i,s){const o=i[s];return o===Pt?void 0:o}function Z_(i,s,o,l,d,p,_,E){const w=s+o;return function jm(i,s,o,l,d){const p=Cl(i,s,o,l);return ii(i,s+2,d)||p}(i,w,d,p,_)?Di(i,w+3,E?l.call(E,d,p,_):l(d,p,_)):sf(i,w+3)}function SC(i,s){const o=Bt();let l;const d=i+22;o.firstCreatePass?(l=function hD(i,s){if(s)for(let o=s.length-1;o>=0;o--){const l=s[o];if(i===l.name)return l}}(s,o.pipeRegistry),o.data[d]=l,l.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(d,l.onDestroy)):l=o.data[d];const p=l.factory||(l.factory=ps(l.type)),_=dn(ud);try{const E=Zo(!1),w=p();return Zo(E),function Zm(i,s,o,l){o>=i.data.length&&(i.data[o]=null,i.blueprint[o]=null),s[o]=l}(o,de(),d,w),w}finally{dn(_)}}function TC(i,s,o){const l=i+22,d=de(),p=ys(d,l);return af(d,l)?function Nd(i,s,o,l,d,p){const _=s+o;return ii(i,_,d)?Di(i,_+1,p?l.call(p,d):l(d)):sf(i,_+1)}(d,kn(),s,p.transform,o,p):p.transform(o)}function AC(i,s,o,l){const d=i+22,p=de(),_=ys(p,d);return af(p,d)?function Ig(i,s,o,l,d,p,_){const E=s+o;return Cl(i,E,d,p)?Di(i,E+2,_?l.call(_,d,p):l(d,p)):sf(i,E+2)}(p,kn(),s,_.transform,o,l,_):_.transform(o,l)}function MC(i,s,o,l,d){const p=i+22,_=de(),E=ys(_,p);return af(_,p)?Z_(_,kn(),s,E.transform,o,l,d,E):E.transform(o,l,d)}function af(i,s){return i[1].data[s].pure}function K_(i){return s=>{setTimeout(i,void 0,s)}}const bo=class lf extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){let d=s,p=o||(()=>null),_=l;if(s&&"object"==typeof s){const w=s;d=w.next?.bind(w),p=w.error?.bind(w),_=w.complete?.bind(w)}this.__isAsync&&(p=K_(p),d&&(d=K_(d)),_&&(_=K_(_)));const E=super.subscribe({next:d,error:p,complete:_});return s instanceof Y.w0&&s.add(E),E}};function uf(){return this._results[$u()]()}class kd{get changes(){return this._changes||(this._changes=new bo)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=$u(),l=kd.prototype;l[o]||(l[o]=uf)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const d=function hr(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function kc(i,s,o){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],p=s[l];if(o&&(d=o(d),p=o(p)),p!==d)return!1}return!0}(l._results,d,o))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let xd=(()=>{class i{}return i.__NG_ELEMENT_ID__=OC,i})();const PC=xd,NC=class extends PC{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(s,o){const l=this._declarationTContainer.tViews,d=Rm(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,o||null);d[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(d[19]=_.createEmbeddedView(l)),Nm(l,d,s),new fd(d)}};function OC(){return cf($n(),de())}function cf(i,s){return 4&i.type?new NC(s,i,da(i,s)):null}let df=(()=>{class i{}return i.__NG_ELEMENT_ID__=kC,i})();function kC(){return xC($n(),de())}const Y_=df,Q_=class extends Y_{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return da(this._hostTNode,this._hostLView)}get injector(){return new xr(this._hostTNode,this._hostLView)}get parentInjector(){const s=za(this._hostTNode,this._hostLView);if(ou(s)){const o=ja(s,this._hostLView),l=Wo(s);return new xr(o[1].data[l+8],o)}return new xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=J_(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,l){let d,p;"number"==typeof l?d=l:null!=l&&(d=l.index,p=l.injector);const _=s.createEmbeddedView(o||{},p);return this.insert(_,d),_}createComponent(s,o,l,d,p){const _=s&&!function Ja(i){return"function"==typeof i}(s);let E;if(_)E=o;else{const F=o||{};E=F.index,l=F.injector,d=F.projectableNodes,p=F.environmentInjector||F.ngModuleRef}const w=_?s:new Up(Vt(s)),S=l||this.parentInjector;if(!p&&null==w.ngModule){const G=(_?S:this.parentInjector).get(Fu,null);G&&(p=G)}const M=w.create(S,d,void 0,p);return this.insert(M.hostView,E),M}insert(s,o){const l=s._lView,d=l[1];if(function Ra(i){return Or(i[3])}(l)){const M=this.indexOf(s);if(-1!==M)this.detach(M);else{const F=l[3],G=new Q_(F,F[6],F[3]);G.detach(G.indexOf(s))}}const p=this._adjustIndex(o),_=this._lContainer;!function lm(i,s,o,l){const d=10+l,p=o.length;l>0&&(o[d-1][4]=s),l<p-10?(s[4]=o[d],Xa(o,10+l,s)):(o.push(s),s[4]=null),s[3]=o;const _=s[17];null!==_&&o!==_&&function um(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(_,s);const E=s[19];null!==E&&E.insertView(i),s[2]|=64}(d,l,_,p);const E=tr(p,_),w=l[11],S=fo(w,_[7]);return null!==S&&function am(i,s,o,l,d,p){l[0]=d,l[6]=s,aa(i,l,o,1,d,p)}(d,_[6],w,l,S,E),s.attachToViewContainerRef(),Xa(hf(_),p,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=J_(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=bh(this._lContainer,o);l&&(Qo(hf(this._lContainer),o),sp(l[1],l))}detach(s){const o=this._adjustIndex(s,-1),l=bh(this._lContainer,o);return l&&null!=Qo(hf(this._lContainer),o)?new fd(l):null}_adjustIndex(s,o=0){return s??this.length+o}};function J_(i){return i[8]}function hf(i){return i[8]||(i[8]=[])}function xC(i,s){let o;const l=s[i.index];if(Or(l))o=l;else{let d;if(8&i.type)d=Dn(l);else{const p=s[11];d=p.createComment("");const _=Mn(i,s);ll(p,fo(p,_),d,function cl(i,s){return i.nextSibling(s)}(p,_),!1)}s[i.index]=o=xm(l,s,d,i),Hh(s,o)}return new Q_(o,i,s)}class Sg{constructor(s){this.queryList=s,this.matches=null}clone(){return new Sg(this.queryList)}setDirty(){this.queryList.setDirty()}}class X_{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,d=[];for(let p=0;p<l;p++){const _=o.getByIndex(p);d.push(this.queries[_.indexInDeclarationView].clone())}return new X_(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==ry(s,o).matches&&this.queries[o].setDirty()}}class Tg{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class ff{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const d=null!==o?o.length:0,p=this.getByIndex(l).embeddedTView(s,d);p&&(p.indexInDeclarationView=l,null!==o?o.push(p):o=[p])}return null!==o?new ff(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class pf{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new pf(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const p=l[d];this.matchTNodeWithReadOption(s,o,fD(o,p)),this.matchTNodeWithReadOption(s,o,lo(o,s,p,!1,!1))}else l===xd?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,lo(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===ml||d===df||d===xd&&4&o.type)this.addMatch(o.index,-2);else{const p=lo(o,s,d,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function fD(i,s){const o=i.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function FC(i,s,o,l){return-1===o?function pD(i,s){return 11&i.type?da(i,s):4&i.type?cf(i,s):null}(s,i):-2===o?function gD(i,s,o){return o===ml?da(s,i):o===xd?cf(s,i):o===df?xC(s,i):void 0}(i,s,l):gi(i,i[1],o,s)}function LC(i,s,o,l){const d=s[19].queries[l];if(null===d.matches){const p=i.data,_=o.matches,E=[];for(let w=0;w<_.length;w+=2){const S=_[w];E.push(S<0?null:FC(s,p[S],_[w+1],o.metadata.read))}d.matches=E}return d.matches}function ey(i,s,o,l){const d=i.queries.getByIndex(o),p=d.matches;if(null!==p){const _=LC(i,s,d,o);for(let E=0;E<p.length;E+=2){const w=p[E];if(w>0)l.push(_[E/2]);else{const S=p[E+1],M=s[-w];for(let F=10;F<M.length;F++){const G=M[F];G[17]===G[3]&&ey(G[1],G,S,l)}if(null!==M[9]){const F=M[9];for(let G=0;G<F.length;G++){const Q=F[G];ey(Q[1],Q,S,l)}}}}}return l}function ty(i){const s=de(),o=Bt(),l=wc();tu(l+1);const d=ry(o,l);if(i.dirty&&function Vo(i){return 4==(4&i[2])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?ey(o,s,l,[]):LC(o,s,d,l);i.reset(p,Mv),i.notifyOnChanges()}return!0}return!1}function ny(i,s,o,l){const d=Bt();if(d.firstCreatePass){const p=$n();(function HC(i,s,o){null===i.queries&&(i.queries=new ff),i.queries.track(new pf(s,o))})(d,new Tg(s,o,l),p.index),function _D(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(d,i),2==(2&o)&&(d.staticContentQueries=!0)}!function BC(i,s,o){const l=new kd(4==(4&o));Y0(i,s,l,l.destroy),null===s[19]&&(s[19]=new X_),s[19].queries.push(new Sg(l))}(d,de(),o)}function VC(){return function mD(i,s){return i[19].queries[s].queryList}(de(),wc())}function ry(i,s){return i.queries.getByIndex(s)}function tc(...i){}const fy=new Kt("Application Initializer");let Hi=(()=>{class i{constructor(o){this.appInits=o,this.resolve=tc,this.reject=tc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(ME(p))o.push(p);else if(vb(p)){const _=new Promise((E,w)=>{p.subscribe({complete:E,error:w})});o.push(_)}}Promise.all(o).then(()=>{l()}).catch(d=>{this.reject(d)}),0===o.length&&l(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(Le(fy,8))},i.\u0275prov=Ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const vf=new Kt("AppId",{providedIn:"root",factory:function os(){return`${Gr()}${Gr()}${Gr()}`}});function Gr(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rw=new Kt("Platform Initializer"),py=new Kt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Pg=new Kt("appBootstrapListener"),iw=new Kt("AnimationModuleType");let sw=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Ze({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Ea=new Kt("LocaleId",{providedIn:"root",factory:()=>qe(Ea,st.Optional|st.SkipSelf)||function ow(){return typeof $localize<"u"&&$localize.locale||Ad}()}),aw=new Kt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class TD{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let mn=(()=>{class i{compileModuleSync(o){return new B_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),p=_l(Hn(o).declarations).reduce((_,E)=>{const w=Vt(E);return w&&_.push(new Up(w)),_},[]);return new TD(l,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Nt=(()=>Promise.resolve(0))();function gy(i){typeof Zone>"u"?Nt.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Wt{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bo(!1),this.onMicrotaskEmpty=new bo(!1),this.onStable=new bo(!1),this.onError=new bo(!1),typeof Zone>"u")throw new ce(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&o,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Ef(){let i=Ct.requestAnimationFrame,s=Ct.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function lw(i){const s=()=>{!function yy(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Ct,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Rl(i),i.isCheckStableRunning=!0,_y(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Rl(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,d,p,_,E)=>{try{return Vd(i),o.invokeTask(d,p,_,E)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),Bd(i)}},onInvoke:(o,l,d,p,_,E,w)=>{try{return Vd(i),o.invoke(d,p,_,E,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),Bd(i)}},onHasTask:(o,l,d,p)=>{o.hasTask(d,p),l===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Rl(i),_y(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,l,d,p)=>(o.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wt.isInAngularZone())throw new ce(909,!1)}static assertNotInAngularZone(){if(Wt.isInAngularZone())throw new ce(909,!1)}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,d){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+d,s,my,tc,tc);try{return p.runTask(_,o,l)}finally{p.cancelTask(_)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const my={};function _y(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Rl(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Vd(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Bd(i){i._nesting--,_y(i)}class MD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bo,this.onMicrotaskEmpty=new bo,this.onStable=new bo,this.onError=new bo}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,d){return s.apply(o,l)}}const kg=new Kt(""),Hd=new Kt("");let vy,RD=(()=>{class i{constructor(o,l,d){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vy||(function PD(i){vy=i}(d),d.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wt.assertNotInAngularZone(),gy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gy(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,d){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:d})}whenStable(o,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,d){return[]}}return i.\u0275fac=function(o){return new(o||i)(Le(Wt),Le(Cf),Le(Hd))},i.\u0275prov=Ze({token:i,factory:i.\u0275fac}),i})(),Cf=(()=>{class i{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return vy?.findTestabilityInTree(this,o,l)??null}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Ze({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Pl=null;const xg=new Kt("AllowMultipleToken"),Ey=new Kt("PlatformDestroyListeners");class cw{constructor(s,o){this.name=s,this.token=o}}function Lg(i,s,o=[]){const l=`Platform: ${s}`,d=new Kt(l);return(p=[])=>{let _=Ug();if(!_||_.injector.get(xg,!1)){const E=[...o,...p,{provide:d,useValue:!0}];i?i(E):function Fg(i){if(Pl&&!Pl.get(xg,!1))throw new ce(400,!1);Pl=i;const s=i.get(hw);(function wf(i){const s=i.get(rw,null);s&&s.forEach(o=>o())})(i)}(function dw(i=[],s){return Vu.create({name:s,providers:[{provide:nd,useValue:"platform"},{provide:Ey,useValue:new Set([()=>Pl=null])},...i]})}(E,l))}return function wy(i){const s=Ug();if(!s)throw new ce(401,!1);return s}()}}function Ug(){return Pl?.get(hw)??null}let hw=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const d=function pw(i,s){let o;return o="noop"===i?new MD:("zone.js"===i?void 0:i)||new Wt(s),o}(l?.ngZone,function fw(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:Wt,useValue:d}];return d.run(()=>{const _=Vu.create({providers:p,parent:this.injector,name:o.moduleType.name}),E=o.create(_),w=E.injector.get(xh,null);if(!w)throw new ce(402,!1);return d.runOutsideAngular(()=>{const S=d.onError.subscribe({next:M=>{w.handleError(M)}});E.onDestroy(()=>{$d(this._modules,E),S.unsubscribe()})}),function ji(i,s,o){try{const l=o();return ME(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(w,d,()=>{const S=E.injector.get(Hi);return S.runInitializers(),S.donePromise.then(()=>(function XE(i){Ge(i,"Expected localeId to be defined"),"string"==typeof i&&(w_=i.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Ea,Ad)||Ad),this._moduleDoBootstrap(E),E))})})}bootstrapModule(o,l=[]){const d=Vg({},l);return function ND(i,s,o){const l=new B_(o);return Promise.resolve(l)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(o){const l=o.injector.get(jd);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new ce(-403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ce(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(Ey,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(Le(Vu))},i.\u0275prov=Ze({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Vg(i,s){return Array.isArray(s)?s.reduce(Vg,i):{...i,...s}}let jd=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,l,d){this._zone=o,this._injector=l,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new O.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),_=new O.y(E=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{Wt.assertNotInAngularZone(),gy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Wt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{w.unsubscribe(),S.unsubscribe()}});this.isStable=(0,re.T)(p,_.pipe((0,ne.B)()))}bootstrap(o,l){const d=o instanceof Sv;if(!this._injector.get(Hi).done)throw!d&&Tn(o),new ce(405,false);let _;_=d?o:this._injector.get(rd).resolveComponentFactory(o),this.componentTypes.push(_.componentType);const E=function uw(i){return i.isBoundToModule}(_)?void 0:this._injector.get(Co),S=_.create(Vu.NULL,[],l||_.selector,E),M=S.location.nativeElement,F=S.injector.get(kg,null);return F?.registerApplication(M),S.onDestroy(()=>{this.detachView(S.hostView),$d(this.components,S),F?.unregisterApplication(M)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new ce(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;$d(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const l=this._injector.get(Pg,[]);l.push(...this._bootstrapListeners),l.forEach(d=>d(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>$d(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ce(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(o){return new(o||i)(Le(Wt),Le(Fu),Le(xh))},i.\u0275prov=Ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function $d(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}function rc(){return!1}let Tf=(()=>{class i{}return i.__NG_ELEMENT_ID__=kD,i})();function kD(i){return function xD(i,s,o){if(Qr(i)&&!o){const l=Fn(i.index,s);return new fd(l,l)}return 47&i.type?new fd(s[16],s):null}($n(),de(),16==(16&i))}class _w{constructor(){}supports(s){return $p(s)}create(s){return new VD(s)}}const UD=(i,s)=>s;class VD{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||UD}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,d=0,p=null;for(;o||l;){const _=!l||o&&o.currentIndex<My(l,d,p)?o:l,E=My(_,d,p),w=_.currentIndex;if(_===l)d--,l=l._nextRemoved;else if(o=o._next,null==_.previousIndex)d++;else{p||(p=[]);const S=E-d,M=w-d;if(S!=M){for(let G=0;G<S;G++){const Q=G<p.length?p[G]:p[G]=0,fe=Q+G;M<=fe&&fe<S&&(p[G]=Q+1)}p[_.previousIndex]=M-S}}E!==w&&s(_,E,w)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!$p(s))throw new ce(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,_,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)p=s[E],_=this._trackByFn(E,p),null!==o&&Object.is(o.trackById,_)?(l&&(o=this._verifyReinsertion(o,p,_,E)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,_,E),l=!0),o=o._next}else d=0,function bE(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[$u()]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,E=>{_=this._trackByFn(d,E),null!==o&&Object.is(o.trackById,_)?(l&&(o=this._verifyReinsertion(o,E,_,d)),Object.is(o.item,E)||this._addIdentityChange(o,E)):(o=this._mismatch(o,E,_,d),l=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,p,d)):s=this._addAfter(new BD(o,l),p,d),s}_verifyReinsertion(s,o,l,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const d=null===o?this._itHead:o._next;return s._next=d,s._prev=o,null===d?this._itTail=s:d._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new Ay),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ay),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class BD{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class Ay{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new HD,this.map.set(o,l)),l.add(s)}get(s,o){const d=this.map.get(s);return d?d.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function My(i,s,o){const l=i.previousIndex;if(null===l)return l;let d=0;return o&&l<o.length&&(d=o[l]),l+s+d}class yw{constructor(){}supports(s){return s instanceof Map||zp(s)}create(){return new jD}}class jD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||zp(s)))throw new ce(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(d,l);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,o);const p=d._prev,_=d._next;return p&&(p._next=_),_&&(_._prev=p),d._next=null,d._prev=null,d}const l=new $D(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class $D{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vw(){return new Ry([new _w])}let Ry=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(null!=l){const d=l.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||vw()),deps:[[i,new D,new ea]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(null!=l)return l;throw new ce(901,!1)}}return i.\u0275prov=Ze({token:i,providedIn:"root",factory:vw}),i})();function Rf(){return new Pf([new yw])}let Pf=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(l){const d=l.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||Rf()),deps:[[i,new D,new ea]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(l)return l;throw new ce(901,!1)}}return i.\u0275prov=Ze({token:i,providedIn:"root",factory:Rf}),i})();const ww=Lg(null,"core",[]);let bw=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(Le(jd))},i.\u0275mod=fn({type:i}),i.\u0275inj=Cn({}),i})();function GD(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(rt,ye,k)=>{k.d(ye,{Z:()=>Ve});var c=k(2090),Y=k(4859),O=k(9681),re=k(1877);class ne{constructor(ce,Ce){this._delegate=ce,this.firebase=Ce,(0,O._addComponent)(ce,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this._delegate.automaticDataCollectionEnabled=ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ce=>{this._delegate.checkDestroyed(),ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ce,Ce=O._DEFAULT_ENTRY_NAME){var we;this._delegate.checkDestroyed();const Pe=this._delegate.container.getProvider(ce);return!Pe.isInitialized()&&"EXPLICIT"===(null===(we=Pe.getComponent())||void 0===we?void 0:we.instantiationMode)&&Pe.initialize(),Pe.getImmediate({identifier:Ce})}_removeServiceInstance(ce,Ce=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ce).clearInstance(Ce)}_addComponent(ce){(0,O._addComponent)(this._delegate,ce)}_addOrOverwriteComponent(ce){(0,O._addOrOverwriteComponent)(this._delegate,ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function se(){const Qe=function ae(Qe){const ce={},Ce={__esModule:!0,initializeApp:function ve(Ae,V={}){const pe=O.initializeApp(Ae,V);if((0,c.r3)(ce,pe.name))return ce[pe.name];const Oe=new Qe(pe,Ce);return ce[pe.name]=Oe,Oe},app:Pe,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function De(Ae){const V=Ae.name,pe=V.replace("-compat","");if(O._registerComponent(Ae)&&"PUBLIC"===Ae.type){const Oe=(Be=Pe())=>{if("function"!=typeof Be[pe])throw ue.create("invalid-app-argument",{appName:V});return Be[pe]()};void 0!==Ae.serviceProps&&(0,c.ZB)(Oe,Ae.serviceProps),Ce[pe]=Oe,Qe.prototype[pe]=function(...Be){return this._getService.bind(this,V).apply(this,Ae.multipleInstances?Be:[])}}return"PUBLIC"===Ae.type?Ce[pe]:null},removeApp:function we(Ae){delete ce[Ae]},useAsService:function Ne(Ae,V){return"serverAuth"===V?null:V},modularAPIs:O}};function Pe(Ae){if(!(0,c.r3)(ce,Ae=Ae||O._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:Ae});return ce[Ae]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function me(){return Object.keys(ce).map(Ae=>ce[Ae])}}),Pe.App=Qe,Ce}(ne);return Qe.INTERNAL=Object.assign(Object.assign({},Qe.INTERNAL),{createFirebaseNamespace:se,extendNamespace:function ce(Ce){(0,c.ZB)(Qe,Ce)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Qe}(),j=new re.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Qe=self.firebase.SDK_VERSION;Qe&&Qe.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ve=H;!function Ee(Qe){(0,O.registerVersion)("@firebase/app-compat","0.2.4",Qe)}()},9681:(rt,ye,k)=>{k.r(ye),k.d(ye,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>_r,_DEFAULT_ENTRY_NAME:()=>Re,_addComponent:()=>zt,_addOrOverwriteComponent:()=>ct,_apps:()=>Ge,_clearComponents:()=>Cn,_components:()=>$e,_getProvider:()=>Ze,_registerComponent:()=>jt,_removeServiceInstance:()=>vt,deleteApp:()=>zi,getApp:()=>Mr,getApps:()=>sr,initializeApp:()=>Gi,onLog:()=>st,registerVersion:()=>yr,setLogLevel:()=>Wi});var c=k(5861),Y=k(4859),O=k(1877),re=k(2090),ne=k(8766);class ee{constructor(_e){this.container=_e}getPlatformInfoString(){return this.container.getProviders().map(qe=>{if(function ue(Le){return"VERSION"===Le.getComponent()?.type}(qe)){const pt=qe.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(qe=>qe).join(" ")}}const ae="@firebase/app",H=new O.Yd("@firebase/app"),Re="[DEFAULT]",xe={[ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ge=new Map,$e=new Map;function zt(Le,_e){try{Le.container.addComponent(_e)}catch(qe){H.debug(`Component ${_e.name} failed to register with FirebaseApp ${Le.name}`,qe)}}function ct(Le,_e){Le.container.addOrOverwriteComponent(_e)}function jt(Le){const _e=Le.name;if($e.has(_e))return H.debug(`There were multiple attempts to register component ${_e}.`),!1;$e.set(_e,Le);for(const qe of Ge.values())zt(qe,Le);return!0}function Ze(Le,_e){const qe=Le.container.getProvider("heartbeat").getImmediate({optional:!0});return qe&&qe.triggerHeartbeat(),Le.container.getProvider(_e)}function vt(Le,_e,qe=Re){Ze(Le,_e).clearInstance(qe)}function Cn(){$e.clear()}const ln=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class cn{constructor(_e,qe,pt){this._isDeleted=!1,this._options=Object.assign({},_e),this._config=Object.assign({},qe),this._name=qe.name,this._automaticDataCollectionEnabled=qe.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this.checkDestroyed(),this._automaticDataCollectionEnabled=_e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_e){this._isDeleted=_e}checkDestroyed(){if(this.isDeleted)throw ln.create("app-deleted",{appName:this._name})}}const _r="9.17.2";function Gi(Le,_e={}){let qe=Le;"object"!=typeof _e&&(_e={name:_e});const pt=Object.assign({name:Re,automaticDataCollectionEnabled:!1},_e),wt=pt.name;if("string"!=typeof wt||!wt)throw ln.create("bad-app-name",{appName:String(wt)});if(qe||(qe=(0,re.aH)()),!qe)throw ln.create("no-options");const At=Ge.get(wt);if(At){if((0,re.vZ)(qe,At.options)&&(0,re.vZ)(pt,At.config))return At;throw ln.create("duplicate-app",{appName:wt})}const Yn=new Y.H0(wt);for(const U of $e.values())Yn.addComponent(U);const B=new cn(qe,pt,Yn);return Ge.set(wt,B),B}function Mr(Le=Re){const _e=Ge.get(Le);if(!_e&&Le===Re)return Gi();if(!_e)throw ln.create("no-app",{appName:Le});return _e}function sr(){return Array.from(Ge.values())}function zi(Le){return nn.apply(this,arguments)}function nn(){return(nn=(0,c.Z)(function*(Le){const _e=Le.name;Ge.has(_e)&&(Ge.delete(_e),yield Promise.all(Le.container.getProviders().map(qe=>qe.delete())),Le.isDeleted=!0)})).apply(this,arguments)}function yr(Le,_e,qe){var pt;let wt=null!==(pt=xe[Le])&&void 0!==pt?pt:Le;qe&&(wt+=`-${qe}`);const At=wt.match(/\s|\//),Yn=_e.match(/\s|\//);if(At||Yn){const B=[`Unable to register library "${wt}" with version "${_e}":`];return At&&B.push(`library name "${wt}" contains illegal characters (whitespace or "/")`),At&&Yn&&B.push("and"),Yn&&B.push(`version name "${_e}" contains illegal characters (whitespace or "/")`),void H.warn(B.join(" "))}jt(new Y.wA(`${wt}-version`,()=>({library:wt,version:_e}),"VERSION"))}function st(Le,_e){if(null!==Le&&"function"!=typeof Le)throw ln.create("invalid-log-argument");(0,O.Am)(Le,_e)}function Wi(Le){(0,O.Ub)(Le)}const Zn="firebase-heartbeat-store";let Zi=null;function Ct(){return Zi||(Zi=(0,ne.X3)("firebase-heartbeat-database",1,{upgrade:(Le,_e)=>{0===_e&&Le.createObjectStore(Zn)}}).catch(Le=>{throw ln.create("idb-open",{originalErrorMessage:Le.message})})),Zi}function gt(){return(gt=(0,c.Z)(function*(Le){try{return(yield Ct()).transaction(Zn).objectStore(Zn).get(wn(Le))}catch(_e){if(_e instanceof re.ZR)H.warn(_e.message);else{const qe=ln.create("idb-get",{originalErrorMessage:_e?.message});H.warn(qe.message)}}})).apply(this,arguments)}function ls(Le,_e){return rn.apply(this,arguments)}function rn(){return(rn=(0,c.Z)(function*(Le,_e){try{const pt=(yield Ct()).transaction(Zn,"readwrite");return yield pt.objectStore(Zn).put(_e,wn(Le)),pt.done}catch(qe){if(qe instanceof re.ZR)H.warn(qe.message);else{const pt=ln.create("idb-set",{originalErrorMessage:qe?.message});H.warn(pt.message)}}})).apply(this,arguments)}function wn(Le){return`${Le.name}!${Le.options.appId}`}class zs{constructor(_e){this.container=_e,this._heartbeatsCache=null;const qe=this.container.getProvider("app").getImmediate();this._storage=new Ut(qe),this._heartbeatsCachePromise=this._storage.read().then(pt=>(this._heartbeatsCache=pt,pt))}triggerHeartbeat(){var _e=this;return(0,c.Z)(function*(){const pt=_e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),wt=Zt();if(null===_e._heartbeatsCache&&(_e._heartbeatsCache=yield _e._heartbeatsCachePromise),_e._heartbeatsCache.lastSentHeartbeatDate!==wt&&!_e._heartbeatsCache.heartbeats.some(At=>At.date===wt))return _e._heartbeatsCache.heartbeats.push({date:wt,agent:pt}),_e._heartbeatsCache.heartbeats=_e._heartbeatsCache.heartbeats.filter(At=>{const Yn=new Date(At.date).valueOf();return Date.now()-Yn<=2592e6}),_e._storage.overwrite(_e._heartbeatsCache)})()}getHeartbeatsHeader(){var _e=this;return(0,c.Z)(function*(){if(null===_e._heartbeatsCache&&(yield _e._heartbeatsCachePromise),null===_e._heartbeatsCache||0===_e._heartbeatsCache.heartbeats.length)return"";const qe=Zt(),{heartbeatsToSend:pt,unsentEntries:wt}=function ui(Le,_e=1024){const qe=[];let pt=Le.slice();for(const wt of Le){const At=qe.find(Yn=>Yn.agent===wt.agent);if(At){if(At.dates.push(wt.date),or(qe)>_e){At.dates.pop();break}}else if(qe.push({agent:wt.agent,dates:[wt.date]}),or(qe)>_e){qe.pop();break}pt=pt.slice(1)}return{heartbeatsToSend:qe,unsentEntries:pt}}(_e._heartbeatsCache.heartbeats),At=(0,re.L)(JSON.stringify({version:2,heartbeats:pt}));return _e._heartbeatsCache.lastSentHeartbeatDate=qe,wt.length>0?(_e._heartbeatsCache.heartbeats=wt,yield _e._storage.overwrite(_e._heartbeatsCache)):(_e._heartbeatsCache.heartbeats=[],_e._storage.overwrite(_e._heartbeatsCache)),At})()}}function Zt(){return(new Date).toISOString().substring(0,10)}class Ut{constructor(_e){this.app=_e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var _e=this;return(0,c.Z)(function*(){return(yield _e._canUseIndexedDBPromise)&&(yield function lt(Le){return gt.apply(this,arguments)}(_e.app))||{heartbeats:[]}})()}overwrite(_e){var qe=this;return(0,c.Z)(function*(){var pt;if(yield qe._canUseIndexedDBPromise){const At=yield qe.read();return ls(qe.app,{lastSentHeartbeatDate:null!==(pt=_e.lastSentHeartbeatDate)&&void 0!==pt?pt:At.lastSentHeartbeatDate,heartbeats:_e.heartbeats})}})()}add(_e){var qe=this;return(0,c.Z)(function*(){var pt;if(yield qe._canUseIndexedDBPromise){const At=yield qe.read();return ls(qe.app,{lastSentHeartbeatDate:null!==(pt=_e.lastSentHeartbeatDate)&&void 0!==pt?pt:At.lastSentHeartbeatDate,heartbeats:[...At.heartbeats,..._e.heartbeats]})}})()}}function or(Le){return(0,re.L)(JSON.stringify({version:2,heartbeats:Le})).length}!function ci(Le){jt(new Y.wA("platform-logger",_e=>new ee(_e),"PRIVATE")),jt(new Y.wA("heartbeat",_e=>new zs(_e),"PRIVATE")),yr(ae,"0.9.4",Le),yr(ae,"0.9.4","esm2017"),yr("fire-js","")}("")},4859:(rt,ye,k)=>{k.d(ye,{H0:()=>ae,wA:()=>O,zt:()=>ne});var c=k(5861),Y=k(2090);class O{constructor(H,j,Z){this.name=H,this.instanceFactory=j,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const re="[DEFAULT]";class ne{constructor(H,j){this.name=H,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const j=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(j)){const Z=new Y.BH;if(this.instancesDeferred.set(j,Z),this.isInitialized(j)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:j});ke&&Z.resolve(ke)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(H){var j;const Z=this.normalizeInstanceIdentifier(H?.identifier),ke=null!==(j=H?.optional)&&void 0!==j&&j;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(Ee){if(ke)return null;throw Ee}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function ue(se){return"EAGER"===se.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[j,Z]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(j);try{const Ee=this.getOrInitializeService({instanceIdentifier:ke});Z.resolve(Ee)}catch{}}}}clearInstance(H=re){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,c.Z)(function*(){const j=Array.from(H.instances.values());yield Promise.all([...j.filter(Z=>"INTERNAL"in Z).map(Z=>Z.INTERNAL.delete()),...j.filter(Z=>"_delete"in Z).map(Z=>Z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=re){return this.instances.has(H)}getOptions(H=re){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:j={}}=H,Z=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:Z,options:j});for(const[Ee,Ve]of this.instancesDeferred.entries())Z===this.normalizeInstanceIdentifier(Ee)&&Ve.resolve(ke);return ke}onInit(H,j){var Z;const ke=this.normalizeInstanceIdentifier(j),Ee=null!==(Z=this.onInitCallbacks.get(ke))&&void 0!==Z?Z:new Set;Ee.add(H),this.onInitCallbacks.set(ke,Ee);const Ve=this.instances.get(ke);return Ve&&H(Ve,ke),()=>{Ee.delete(H)}}invokeOnInitCallbacks(H,j){const Z=this.onInitCallbacks.get(j);if(Z)for(const ke of Z)try{ke(H,j)}catch{}}getOrInitializeService({instanceIdentifier:H,options:j={}}){let Z=this.instances.get(H);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(se=H,se===re?void 0:se),options:j}),this.instances.set(H,Z),this.instancesOptions.set(H,j),this.invokeOnInitCallbacks(Z,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,Z)}catch{}var se;return Z||null}normalizeInstanceIdentifier(H=re){return this.component?this.component.multipleInstances?H:re:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const j=this.getProvider(H.name);if(j.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);j.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const j=new ne(H,this);return this.providers.set(H,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(rt,ye,k)=>{k.d(ye,{Am:()=>se,Ub:()=>ae,Yd:()=>ue,in:()=>Y});const c=[];var Y=(()=>{return(H=Y||(Y={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",Y;var H})();const O={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},re=Y.INFO,ne={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},ee=(H,j,...Z)=>{if(j<H.logLevel)return;const ke=(new Date).toISOString(),Ee=ne[j];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ee](`[${ke}]  ${H.name}:`,...Z)};class ue{constructor(j){this.name=j,this._logLevel=re,this._logHandler=ee,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in Y))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?O[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...j),this._logHandler(this,Y.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...j),this._logHandler(this,Y.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...j),this._logHandler(this,Y.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...j),this._logHandler(this,Y.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...j),this._logHandler(this,Y.ERROR,...j)}}function ae(H){c.forEach(j=>{j.setLogLevel(H)})}function se(H,j){for(const Z of c){let ke=null;j&&j.level&&(ke=O[j.level]),Z.userLogHandler=null===H?null:(Ee,Ve,...Qe)=>{const ce=Qe.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch{return null}}).filter(Ce=>Ce).join(" ");Ve>=(ke??Ee.logLevel)&&H({level:Y[Ve].toLowerCase(),message:ce,args:Qe,type:Ee.name})}}}},259:(rt,ye,k)=>{k.d(ye,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=k(9681);(0,c.registerVersion)("firebase","9.17.2","app")},9260:(rt,ye,k)=>{k.d(ye,{Z:()=>c.Z});var c=k(3942);c.Z.registerVersion("firebase","9.17.2","app-compat")},4217:(rt,ye,k)=>{k.r(ye);var c=k(5861),Y=k(3942),O=k(2090),re=k(9681),ne=k(1877),ee=k(655),ue=k(4859);const Ve=function ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Qe=function Ee(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ce=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),we=new ne.Yd("@firebase/auth");function Pe(m,...h){we.logLevel<=ne.in.ERROR&&we.error(`Auth (${re.SDK_VERSION}): ${m}`,...h)}function ve(m,...h){throw Ae(m,...h)}function me(m,...h){return Ae(m,...h)}function De(m,h,g){const v=Object.assign(Object.assign({},Qe()),{[h]:g});return new O.LL("auth","Firebase",v).create(h,{appName:m.name})}function Ne(m,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&ve(m,"argument-error"),De(m,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ae(m,...h){if("string"!=typeof m){const g=h[0],v=[...h.slice(1)];return v[0]&&(v[0].appName=m.name),m._errorFactory.create(g,...v)}return ce.create(m,...h)}function V(m,h,...g){if(!m)throw Ae(h,...g)}function pe(m){const h="INTERNAL ASSERTION FAILED: "+m;throw Pe(h),new Error(h)}function Oe(m,h){m||pe(h)}const Be=new Map;function it(m){Oe(m instanceof Function,"Expected a class definition");let h=Be.get(m);return h?(Oe(h instanceof m,"Instance stored in cache mismatched with class"),h):(h=new m,Be.set(m,h),h)}function le(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function ge(){return"http:"===Ie()||"https:"===Ie()}function Ie(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Ge{constructor(h,g){this.shortDelay=h,this.longDelay=g,Oe(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function Re(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ge()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $e(m,h){Oe(m.emulator,"Emulator should always be set here");const{url:g}=m.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class zt{static initialize(h,g,v){this.fetchImpl=h,g&&(this.headersImpl=g),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ct={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},jt=new Ge(3e4,6e4);function Ze(m,h){return m.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:m.tenantId}):h}function vt(m,h,g,v){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,c.Z)(function*(m,h,g,v,T={}){return Xt(m,T,(0,c.Z)(function*(){let R={},W={};v&&("GET"===h?W=v:R={body:JSON.stringify(v)});const oe=(0,O.xO)(Object.assign({key:m.config.apiKey},W)).slice(1),Fe=yield m._getAdditionalHeaders();return Fe["Content-Type"]="application/json",m.languageCode&&(Fe["X-Firebase-Locale"]=m.languageCode),zt.fetch()(Gi(m,m.config.apiHost,g,oe),Object.assign({method:h,headers:Fe,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Xt(m,h,g){return ln.apply(this,arguments)}function ln(){return(ln=(0,c.Z)(function*(m,h,g){m._canInitEmulator=!1;const v=Object.assign(Object.assign({},ct),h);try{const T=new Mr(m),R=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const W=yield R.json();if("needConfirmation"in W)throw sr(m,"account-exists-with-different-credential",W);if(R.ok&&!("errorMessage"in W))return W;{const oe=R.ok?W.errorMessage:W.error.message,[Fe,Ke]=oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fe)throw sr(m,"credential-already-in-use",W);if("EMAIL_EXISTS"===Fe)throw sr(m,"email-already-in-use",W);if("USER_DISABLED"===Fe)throw sr(m,"user-disabled",W);const ut=v[Fe]||Fe.toLowerCase().replace(/[_\s]+/g,"-");if(Ke)throw De(m,ut,Ke);ve(m,ut)}}catch(T){if(T instanceof O.ZR)throw T;ve(m,"internal-error",{message:String(T)})}})).apply(this,arguments)}function cn(m,h,g,v){return _r.apply(this,arguments)}function _r(){return(_r=(0,c.Z)(function*(m,h,g,v,T={}){const R=yield vt(m,h,g,v,T);return"mfaPendingCredential"in R&&ve(m,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Gi(m,h,g,v){const T=`${h}${g}?${v}`;return m.config.emulator?$e(m.config,T):`${m.config.apiScheme}://${T}`}class Mr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,v)=>{this.timer=setTimeout(()=>v(me(this.auth,"network-request-failed")),jt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sr(m,h,g){const v={appName:m.name};g.email&&(v.email=g.email),g.phoneNumber&&(v.phoneNumber=g.phoneNumber);const T=me(m,h,v);return T.customData._tokenResponse=g,T}function nn(){return(nn=(0,c.Z)(function*(m,h){return vt(m,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function yr(m,h){return st.apply(this,arguments)}function st(){return(st=(0,c.Z)(function*(m,h){return vt(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Wi(m,h){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(m,h){return vt(m,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function dn(m){if(m)try{const h=new Date(Number(m));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Ct(){return(Ct=(0,c.Z)(function*(m,h=!1){const g=(0,O.m9)(m),v=yield g.getIdToken(h),T=gt(v);V(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const R="object"==typeof T.firebase?T.firebase:void 0,W=R?.sign_in_provider;return{claims:T,token:v,authTime:dn(lt(T.auth_time)),issuedAtTime:dn(lt(T.iat)),expirationTime:dn(lt(T.exp)),signInProvider:W||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function lt(m){return 1e3*Number(m)}function gt(m){const[h,g,v]=m.split(".");if(void 0===h||void 0===g||void 0===v)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,O.tV)(g);return T?JSON.parse(T):(Pe("Failed to decode base64 JWT payload"),null)}catch(T){return Pe("Caught error parsing JWT payload as JSON",T?.toString()),null}}function rn(m,h){return wn.apply(this,arguments)}function wn(){return(wn=(0,c.Z)(function*(m,h,g=!1){if(g)return h;try{return yield h}catch(v){throw v instanceof O.ZR&&qn(v)&&m.auth.currentUser===m&&(yield m.auth.signOut()),v}})).apply(this,arguments)}function qn({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class Kn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const v=this.getInterval(h);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),v)}iteration(){var h=this;return(0,c.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&h.schedule(!0))}h.schedule()})()}}class zs{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=dn(this.lastLoginAt),this.creationTime=dn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zt(m){return ui.apply(this,arguments)}function ui(){return(ui=(0,c.Z)(function*(m){var h;const g=m.auth,v=yield m.getIdToken(),T=yield rn(m,Wi(g,{idToken:v}));V(T?.users.length,g,"internal-error");const R=T.users[0];m._notifyReloadListener(R);const W=null!==(h=R.providerUserInfo)&&void 0!==h&&h.length?Le(R.providerUserInfo):[],oe=ci(m.providerData,W),ut=!!m.isAnonymous&&!(m.email&&R.passwordHash||oe?.length),at={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:oe,metadata:new zs(R.createdAt,R.lastLoginAt),isAnonymous:ut};Object.assign(m,at)})).apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(m){const h=(0,O.m9)(m);yield Zt(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function ci(m,h){return[...m.filter(v=>!h.some(T=>T.providerId===v.providerId)),...h]}function Le(m){return m.map(h=>{var{providerId:g}=h,v=(0,ee._T)(h,["providerId"]);return{providerId:g,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function qe(){return(qe=(0,c.Z)(function*(m,h){const g=yield Xt(m,{},(0,c.Z)(function*(){const v=(0,O.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:T,apiKey:R}=m.config,W=Gi(m,T,"/v1/token",`key=${R}`),oe=yield m._getAdditionalHeaders();return oe["Content-Type"]="application/x-www-form-urlencoded",zt.fetch()(W,{method:"POST",headers:oe,body:v})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class pt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){V(h.idToken,"internal-error"),V(typeof h.idToken<"u","internal-error"),V(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function ls(m){const h=gt(m);return V(h,"internal-error"),V(typeof h.exp<"u","internal-error"),V(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var v=this;return(0,c.Z)(function*(){return V(!v.accessToken||v.refreshToken,h,"user-token-expired"),g||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(h,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var v=this;return(0,c.Z)(function*(){const{accessToken:T,refreshToken:R,expiresIn:W}=yield function _e(m,h){return qe.apply(this,arguments)}(h,g);v.updateTokensAndExpiration(T,R,Number(W))})()}updateTokensAndExpiration(h,g,v){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(h,g){const{refreshToken:v,accessToken:T,expirationTime:R}=g,W=new pt;return v&&(V("string"==typeof v,"internal-error",{appName:h}),W.refreshToken=v),T&&(V("string"==typeof T,"internal-error",{appName:h}),W.accessToken=T),R&&(V("number"==typeof R,"internal-error",{appName:h}),W.expirationTime=R),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new pt,this.toJSON())}_performRefresh(){return pe("not implemented")}}function wt(m,h){V("string"==typeof m||typeof m>"u","internal-error",{appName:h})}class At{constructor(h){var{uid:g,auth:v,stsTokenManager:T}=h,R=(0,ee._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=v,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new zs(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,c.Z)(function*(){const v=yield rn(g,g.stsTokenManager.getToken(g.auth,h));return V(v,g.auth,"internal-error"),g.accessToken!==v&&(g.accessToken=v,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),v})()}getIdTokenResult(h){return function Zi(m){return Ct.apply(this,arguments)}(this,h)}reload(){return function Ut(m){return or.apply(this,arguments)}(this)}_assign(h){this!==h&&(V(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new At(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var v=this;return(0,c.Z)(function*(){let T=!1;h.idToken&&h.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(h),T=!0),g&&(yield Zt(v)),yield v.auth._persistUserIfCurrent(v),T&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var h=this;return(0,c.Z)(function*(){const g=yield h.getIdToken();return yield rn(h,function zi(m,h){return nn.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var v,T,R,W,oe,Fe,Ke,ut;const at=null!==(v=g.displayName)&&void 0!==v?v:void 0,Un=null!==(T=g.email)&&void 0!==T?T:void 0,Vr=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,Ou=null!==(W=g.photoURL)&&void 0!==W?W:void 0,Kc=null!==(oe=g.tenantId)&&void 0!==oe?oe:void 0,fl=null!==(Fe=g._redirectEventId)&&void 0!==Fe?Fe:void 0,wi=null!==(Ke=g.createdAt)&&void 0!==Ke?Ke:void 0,go=null!==(ut=g.lastLoginAt)&&void 0!==ut?ut:void 0,{uid:Yc,emailVerified:ua,isAnonymous:Rh,providerData:pp,stsTokenManager:Ph}=g;V(Yc&&Ph,h,"internal-error");const hm=pt.fromJSON(this.name,Ph);V("string"==typeof Yc,h,"internal-error"),wt(at,h.name),wt(Un,h.name),V("boolean"==typeof ua,h,"internal-error"),V("boolean"==typeof Rh,h,"internal-error"),wt(Vr,h.name),wt(Ou,h.name),wt(Kc,h.name),wt(fl,h.name),wt(wi,h.name),wt(go,h.name);const pl=new At({uid:Yc,auth:h,email:Un,emailVerified:ua,displayName:at,isAnonymous:Rh,photoURL:Ou,phoneNumber:Vr,tenantId:Kc,stsTokenManager:hm,createdAt:wi,lastLoginAt:go});return pp&&Array.isArray(pp)&&(pl.providerData=pp.map(Qc=>Object.assign({},Qc))),fl&&(pl._redirectEventId=fl),pl}static _fromIdTokenResponse(h,g,v=!1){return(0,c.Z)(function*(){const T=new pt;T.updateFromServerResponse(g);const R=new At({uid:g.localId,auth:h,stsTokenManager:T,isAnonymous:v});return yield Zt(R),R})()}}const B=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,v){var T=this;return(0,c.Z)(function*(){T.storage[g]=v})()}_get(g){var v=this;return(0,c.Z)(function*(){const T=v.storage[g];return void 0===T?null:T})()}_remove(g){var v=this;return(0,c.Z)(function*(){delete v.storage[g]})()}_addListener(g,v){}_removeListener(g,v){}}return m.type="NONE",m})();function U(m,h,g){return`firebase:${m}:${h}:${g}`}class z{constructor(h,g,v){this.persistence=h,this.auth=g,this.userKey=v;const{config:T,name:R}=this.auth;this.fullUserKey=U(this.userKey,T.apiKey,R),this.fullPersistenceKey=U("persistence",T.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,c.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?At._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,c.Z)(function*(){if(g.persistence===h)return;const v=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,v?g.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,v="authUser"){return(0,c.Z)(function*(){if(!g.length)return new z(it(B),h,v);const T=(yield Promise.all(g.map(function(){var Ke=(0,c.Z)(function*(ut){if(yield ut._isAvailable())return ut});return function(ut){return Ke.apply(this,arguments)}}()))).filter(Ke=>Ke);let R=T[0]||it(B);const W=U(v,h.config.apiKey,h.name);let oe=null;for(const Ke of g)try{const ut=yield Ke._get(W);if(ut){const at=At._fromJSON(h,ut);Ke!==R&&(oe=at),R=Ke;break}}catch{}const Fe=T.filter(Ke=>Ke._shouldAllowMigration);return R._shouldAllowMigration&&Fe.length?(R=Fe[0],oe&&(yield R._set(W,oe.toJSON())),yield Promise.all(g.map(function(){var Ke=(0,c.Z)(function*(ut){if(ut!==R)try{yield ut._remove(W)}catch{}});return function(ut){return Ke.apply(this,arguments)}}())),new z(R,h,v)):new z(R,h,v)})()}}function he(m){const h=m.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if($t(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(te(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(hn(h))return"Blackberry";if(Sn(h))return"Webos";if(Je(h))return"Safari";if((h.includes("chrome/")||dt(h))&&!h.includes("edge/"))return"Chrome";if(ht(h))return"Android";{const v=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function te(m=(0,O.z$)()){return/firefox\//i.test(m)}function Je(m=(0,O.z$)()){const h=m.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function dt(m=(0,O.z$)()){return/crios\//i.test(m)}function $t(m=(0,O.z$)()){return/iemobile/i.test(m)}function ht(m=(0,O.z$)()){return/android/i.test(m)}function hn(m=(0,O.z$)()){return/blackberry/i.test(m)}function Sn(m=(0,O.z$)()){return/webos/i.test(m)}function kt(m=(0,O.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function nh(m=(0,O.z$)()){return kt(m)||ht(m)||Sn(m)||hn(m)||/windows phone/i.test(m)||$t(m)}function Sa(m,h=[]){let g;switch(m){case"Browser":g=he((0,O.z$)());break;case"Worker":g=`${he((0,O.z$)())}-${m}`;break;default:g=m}const v=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${re.SDK_VERSION}/${v}`}class xl{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const v=R=>new Promise((W,oe)=>{try{W(h(R))}catch(Fe){oe(Fe)}});v.onAbort=g,this.queue.push(v);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,c.Z)(function*(){if(g.auth.currentUser===h)return;const v=[];try{for(const T of g.queue)yield T(h),T.onAbort&&v.push(T.onAbort)}catch(T){v.reverse();for(const R of v)try{R()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class cc{constructor(h,g,v){this.app=h,this.heartbeatServiceProvider=g,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dc(this),this.idTokenSubscription=new dc(this),this.beforeStateQueue=new xl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ce,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(h,g){var v=this;return g&&(this._popupRedirectResolver=it(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var T,R;if(!v._deleted&&(v.persistenceManager=yield z.create(v,h),!v._deleted)){if(null!==(T=v._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(g),v.lastNotifiedUid=(null===(R=v.currentUser)||void 0===R?void 0:R.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,c.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,c.Z)(function*(){var v;const T=yield g.assertedPersistence.getCurrentUser();let R=T,W=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const oe=null===(v=g.redirectUser)||void 0===v?void 0:v._redirectEventId,Fe=R?._redirectEventId,Ke=yield g.tryRedirectSignIn(h);(!oe||oe===Fe)&&Ke?.user&&(R=Ke.user,W=!0)}if(!R)return g.directlySetCurrentUser(null);if(!R._redirectEventId){if(W)try{yield g.beforeStateQueue.runMiddleware(R)}catch(oe){R=T,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(oe))}return R?g.reloadAndSetCurrentUserOrClear(R):g.directlySetCurrentUser(null)}return V(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===R._redirectEventId?g.directlySetCurrentUser(R):g.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(h){var g=this;return(0,c.Z)(function*(){let v=null;try{v=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,c.Z)(function*(){try{yield Zt(h)}catch(v){if("auth/network-request-failed"!==v?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function xe(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var h=this;return(0,c.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,c.Z)(function*(){const v=h?(0,O.m9)(h):null;return v&&V(v.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(v&&v._clone(g))})()}_updateCurrentUser(h,g=!1){var v=this;return(0,c.Z)(function*(){if(!v._deleted)return h&&V(v.tenantId===h.tenantId,v,"tenant-id-mismatch"),g||(yield v.beforeStateQueue.runMiddleware(h)),v.queue((0,c.Z)(function*(){yield v.directlySetCurrentUser(h),v.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,c.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(it(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new O.LL("auth","Firebase",h())}onAuthStateChanged(h,g,v){return this.registerStateListener(this.authStateSubscription,h,g,v)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,v){return this.registerStateListener(this.idTokenSubscription,h,g,v)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var v=this;return(0,c.Z)(function*(){const T=yield v.getOrInitRedirectPersistenceManager(g);return null===h?T.removeCurrentUser():T.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const v=h&&it(h)||g._popupRedirectResolver;V(v,g,"argument-error"),g.redirectPersistenceManager=yield z.create(g,[it(v._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,c.Z)(function*(){var v,T;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(v=g._currentUser)||void 0===v?void 0:v._redirectEventId)===h?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,c.Z)(function*(){if(h===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,v,T){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return V(W,this,"internal-error"),W.then(()=>R(this.currentUser)),"function"==typeof g?h.addObserver(g,v,T):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Sa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,c.Z)(function*(){var g;const v={"X-Client-Version":h.clientVersion};h.app.options.appId&&(v["X-Firebase-gmpid"]=h.app.options.appId);const T=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return T&&(v["X-Firebase-Client"]=T),v})()}}function fn(m){return(0,O.m9)(m)}class dc{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,O.ne)(g=>this.observer=g)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function No(m){const h=m.indexOf(":");return h<0?"":m.substr(0,h+1)}function Vt(m){if(!m)return null;const h=Number(m);return isNaN(h)?null:h}class bn{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return pe("not implemented")}_getIdTokenResponse(h){return pe("not implemented")}_linkToIdToken(h,g){return pe("not implemented")}_getReauthenticationResolver(h){return pe("not implemented")}}function Tn(m,h){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(m,h){return vt(m,"POST","/v1/accounts:resetPassword",Ze(m,h))})).apply(this,arguments)}function Rr(m,h){return ze.apply(this,arguments)}function ze(){return(ze=(0,c.Z)(function*(m,h){return vt(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function St(m,h){return sn.apply(this,arguments)}function sn(){return(sn=(0,c.Z)(function*(m,h){return vt(m,"POST","/v1/accounts:update",Ze(m,h))})).apply(this,arguments)}function Ti(){return(Ti=(0,c.Z)(function*(m,h){return cn(m,"POST","/v1/accounts:signInWithPassword",Ze(m,h))})).apply(this,arguments)}function An(m,h){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,c.Z)(function*(m,h){return vt(m,"POST","/v1/accounts:sendOobCode",Ze(m,h))})).apply(this,arguments)}function pn(m,h){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,c.Z)(function*(m,h){return An(m,h)})).apply(this,arguments)}function cs(m,h){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.Z)(function*(m,h){return An(m,h)})).apply(this,arguments)}function Ll(m,h){return qi.apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(m,h){return An(m,h)})).apply(this,arguments)}function Ul(m,h){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,c.Z)(function*(m,h){return An(m,h)})).apply(this,arguments)}function Zs(){return(Zs=(0,c.Z)(function*(m,h){return cn(m,"POST","/v1/accounts:signInWithEmailLink",Ze(m,h))})).apply(this,arguments)}function Yr(){return(Yr=(0,c.Z)(function*(m,h){return cn(m,"POST","/v1/accounts:signInWithEmailLink",Ze(m,h))})).apply(this,arguments)}class Ki extends bn{constructor(h,g,v,T=null){super("password",v),this._email=h,this._password=g,this._tenantId=T}static _fromEmailAndPassword(h,g){return new Ki(h,g,"password")}static _fromEmailAndCode(h,g,v=null){return new Ki(h,g,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function ar(m,h){return Ti.apply(this,arguments)}(h,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Qn(m,h){return Zs.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:ve(h,"internal-error")}})()}_linkToIdToken(h,g){var v=this;return(0,c.Z)(function*(){switch(v.signInMethod){case"password":return Rr(h,{idToken:g,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function ds(m,h){return Yr.apply(this,arguments)}(h,{idToken:g,email:v._email,oobCode:v._password});default:ve(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Ai(m,h){return en.apply(this,arguments)}function en(){return(en=(0,c.Z)(function*(m,h){return cn(m,"POST","/v1/accounts:signInWithIdp",Ze(m,h))})).apply(this,arguments)}class Nr extends bn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new Nr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):ve("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:T}=g,R=(0,ee._T)(g,["providerId","signInMethod"]);if(!v||!T)return null;const W=new Nr(v,T);return W.idToken=R.idToken||void 0,W.accessToken=R.accessToken||void 0,W.secret=R.secret,W.nonce=R.nonce,W.pendingToken=R.pendingToken||null,W}_getIdTokenResponse(h){return Ai(h,this.buildRequest())}_linkToIdToken(h,g){const v=this.buildRequest();return v.idToken=g,Ai(h,v)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Ai(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,O.xO)(g)}return h}}function hc(m,h){return qs.apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(m,h){return vt(m,"POST","/v1/accounts:sendVerificationCode",Ze(m,h))})).apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(m,h){return cn(m,"POST","/v1/accounts:signInWithPhoneNumber",Ze(m,h))})).apply(this,arguments)}function fc(){return(fc=(0,c.Z)(function*(m,h){const g=yield cn(m,"POST","/v1/accounts:signInWithPhoneNumber",Ze(m,h));if(g.temporaryProof)throw sr(m,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const vr={USER_NOT_FOUND:"user-not-found"};function ko(){return(ko=(0,c.Z)(function*(m,h){return cn(m,"POST","/v1/accounts:signInWithPhoneNumber",Ze(m,Object.assign(Object.assign({},h),{operation:"REAUTH"})),vr)})).apply(this,arguments)}class Qr extends bn{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new Qr({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new Qr({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function hs(m,h){return lr.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function jn(m,h){return fc.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Or(m,h){return ko.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:v,verificationCode:T}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:v,code:T}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:v,phoneNumber:T,temporaryProof:R}=h;return v||g||T||R?new Qr({verificationId:g,verificationCode:v,phoneNumber:T,temporaryProof:R}):null}}class xo{constructor(h){var g,v,T,R,W,oe;const Fe=(0,O.zd)((0,O.pd)(h)),Ke=null!==(g=Fe.apiKey)&&void 0!==g?g:null,ut=null!==(v=Fe.oobCode)&&void 0!==v?v:null,at=function Vl(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Fe.mode)&&void 0!==T?T:null);V(Ke&&ut&&at,"argument-error"),this.apiKey=Ke,this.operation=at,this.code=ut,this.continueUrl=null!==(R=Fe.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(W=Fe.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(oe=Fe.tenantId)&&void 0!==oe?oe:null}static parseLink(h){const g=function ur(m){const h=(0,O.zd)((0,O.pd)(m)).link,g=h?(0,O.zd)((0,O.pd)(h)).deep_link_id:null,v=(0,O.zd)((0,O.pd)(m)).deep_link_id;return(v?(0,O.zd)((0,O.pd)(v)).link:null)||v||g||h||m}(h);try{return new xo(g)}catch{return null}}}let Bl=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(g,v){return Ki._fromEmailAndPassword(g,v)}static credentialWithLink(g,v){const T=xo.parseLink(v);return V(T,"argument-error"),Ki._fromEmailAndCode(g,T.code,T.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class hi{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Ks extends hi{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Fo extends Ks{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return V("providerId"in g&&"signInMethod"in g,"argument-error"),Nr._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return V(h.idToken||h.accessToken,"argument-error"),Nr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Fo.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Fo.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:R,nonce:W,providerId:oe}=h;if(!v&&!T&&!g&&!R||!oe)return null;try{return new Fo(oe)._credential({idToken:g,accessToken:v,nonce:W,pendingToken:R})}catch{return null}}}let Hl=(()=>{class m extends Ks{constructor(){super("facebook.com")}static credential(g){return Nr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return m.credentialFromTaggedObject(g)}static credentialFromError(g){return m.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return m.credential(g.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),pc=(()=>{class m extends Ks{constructor(){super("google.com"),this.addScope("profile")}static credential(g,v){return Nr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:v})}static credentialFromResult(g){return m.credentialFromTaggedObject(g)}static credentialFromError(g){return m.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:T}=g;if(!v&&!T)return null;try{return m.credential(v,T)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),gc=(()=>{class m extends Ks{constructor(){super("github.com")}static credential(g){return Nr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return m.credentialFromTaggedObject(g)}static credentialFromError(g){return m.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return m.credential(g.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class Ys extends bn{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return Ai(h,this.buildRequest())}_linkToIdToken(h,g){const v=this.buildRequest();return v.idToken=g,Ai(h,v)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Ai(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:T,pendingToken:R}=g;return v&&T&&R&&v===T?new Ys(v,R):null}static _create(h,g){return new Ys(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class kr extends hi{constructor(h){V(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return kr.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return kr.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=Ys.fromJSON(h);return V(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:v}=h;if(!g||!v)return null;try{return Ys._create(v,g)}catch{return null}}}let Gf=(()=>{class m extends Ks{constructor(){super("twitter.com")}static credential(g,v){return Nr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:v})}static credentialFromResult(g){return m.credentialFromTaggedObject(g)}static credentialFromError(g){return m.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:v,oauthTokenSecret:T}=g;if(!v||!T)return null;try{return m.credential(v,T)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function jl(m,h){return $l.apply(this,arguments)}function $l(){return($l=(0,c.Z)(function*(m,h){return cn(m,"POST","/v1/accounts:signUp",Ze(m,h))})).apply(this,arguments)}class cr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,v,T=!1){return(0,c.Z)(function*(){const R=yield At._fromIdTokenResponse(h,v,T),W=Gl(v);return new cr({user:R,providerId:W,_tokenResponse:v,operationType:g})})()}static _forOperation(h,g,v){return(0,c.Z)(function*(){yield h._updateTokensIfNecessary(v,!0);const T=Gl(v);return new cr({user:h,providerId:T,_tokenResponse:v,operationType:g})})()}}function Gl(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function ih(){return(ih=(0,c.Z)(function*(m){var h;const g=fn(m);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new cr({user:g.currentUser,providerId:null,operationType:"signIn"});const v=yield jl(g,{returnSecureToken:!0}),T=yield cr._fromIdTokenResponse(g,"signIn",v,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class zl extends O.ZR{constructor(h,g,v,T){var R;super(g.code,g.message),this.operationType=v,this.user=T,Object.setPrototypeOf(this,zl.prototype),this.customData={appName:h.name,tenantId:null!==(R=h.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(h,g,v,T){return new zl(h,g,v,T)}}function ps(m,h,g,v){return("reauthenticate"===h?g._getReauthenticationResolver(m):g._getIdTokenResponse(m)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?zl._fromErrorAndOperation(m,R,h,v):R})}function gs(m){return new Set(m.map(({providerId:h})=>h).filter(h=>!!h))}function Qs(){return(Qs=(0,c.Z)(function*(m,h){const g=(0,O.m9)(m);yield ms(!0,g,h);const{providerUserInfo:v}=yield yr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),T=gs(v||[]);return g.providerData=g.providerData.filter(R=>T.has(R.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Aa(m,h){return Js.apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(m,h,g=!1){const v=yield rn(m,h._linkToIdToken(m.auth,yield m.getIdToken()),g);return cr._forOperation(m,"link",v)})).apply(this,arguments)}function ms(m,h,g){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,c.Z)(function*(m,h,g){yield Zt(h);const T=!1===m?"provider-already-linked":"no-such-provider";V(gs(h.providerData).has(g)===m,h.auth,T)})).apply(this,arguments)}function Wl(m,h){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(m,h,g=!1){const{auth:v}=m,T="reauthenticate";try{const R=yield rn(m,ps(v,T,h,m),g);V(R.idToken,v,"internal-error");const W=gt(R.idToken);V(W,v,"internal-error");const{sub:oe}=W;return V(m.uid===oe,v,"user-mismatch"),cr._forOperation(m,T,R)}catch(R){throw"auth/user-not-found"===R?.code&&ve(v,"user-mismatch"),R}})).apply(this,arguments)}function eo(m,h){return Er.apply(this,arguments)}function Er(){return(Er=(0,c.Z)(function*(m,h,g=!1){const v="signIn",T=yield ps(m,v,h),R=yield cr._fromIdTokenResponse(m,v,T);return g||(yield m._updateCurrentUser(R.user)),R})).apply(this,arguments)}function yn(m,h){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,c.Z)(function*(m,h){return eo(fn(m),h)})).apply(this,arguments)}function Dn(m,h){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,c.Z)(function*(m,h){const g=(0,O.m9)(m);return yield ms(!1,g,h.providerId),Aa(g,h)})).apply(this,arguments)}function _s(m,h){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,c.Z)(function*(m,h){return Wl((0,O.m9)(m),h)})).apply(this,arguments)}function Zl(m,h){return to.apply(this,arguments)}function to(){return(to=(0,c.Z)(function*(m,h){return cn(m,"POST","/v1/accounts:signInWithCustomToken",Ze(m,h))})).apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(function*(m,h){const g=fn(m),v=yield Zl(g,{token:h,returnSecureToken:!0}),T=yield cr._fromIdTokenResponse(g,"signIn",v);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class Vo{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?no._fromServerResponse(h,g):ve(h,"internal-error")}}class no extends Vo{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new no(g)}}function Ra(m,h,g){var v;V((null===(v=g.url)||void 0===v?void 0:v.length)>0,m,"invalid-continue-uri"),V(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(V(g.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(V(g.android.packageName.length>0,m,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function Bo(){return(Bo=(0,c.Z)(function*(m,h,g){const v=(0,O.m9)(m),T={requestType:"PASSWORD_RESET",email:h};g&&Ra(v,T,g),yield cs(v,T)})).apply(this,arguments)}function Et(){return(Et=(0,c.Z)(function*(m,h,g){yield Tn((0,O.m9)(m),{oobCode:h,newPassword:g})})).apply(this,arguments)}function _c(){return(_c=(0,c.Z)(function*(m,h){yield St((0,O.m9)(m),{oobCode:h})})).apply(this,arguments)}function Na(m,h){return ql.apply(this,arguments)}function ql(){return(ql=(0,c.Z)(function*(m,h){const g=(0,O.m9)(m),v=yield Tn(g,{oobCode:h}),T=v.requestType;switch(V(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":V(v.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":V(v.mfaInfo,g,"internal-error");default:V(v.email,g,"internal-error")}let R=null;return v.mfaInfo&&(R=Vo._fromServerResponse(fn(g),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:R},operation:T}})).apply(this,arguments)}function Oa(){return(Oa=(0,c.Z)(function*(m,h){const{data:g}=yield Na((0,O.m9)(m),h);return g.email})).apply(this,arguments)}function Yl(){return(Yl=(0,c.Z)(function*(m,h,g){const v=fn(m),T=yield jl(v,{returnSecureToken:!0,email:h,password:g}),R=yield cr._fromIdTokenResponse(v,"signIn",T);return yield v._updateCurrentUser(R.user),R})).apply(this,arguments)}function Ql(){return(Ql=(0,c.Z)(function*(m,h,g){const v=(0,O.m9)(m),T={requestType:"EMAIL_SIGNIN",email:h};V(g.handleCodeInApp,v,"argument-error"),g&&Ra(v,T,g),yield Ll(v,T)})).apply(this,arguments)}function jo(){return(jo=(0,c.Z)(function*(m,h,g){const v=(0,O.m9)(m),T=Bl.credentialWithLink(h,g||le());return V(T._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),yn(v,T)})).apply(this,arguments)}function ka(m,h){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,c.Z)(function*(m,h){return vt(m,"POST","/v1/accounts:createAuthUri",Ze(m,h))})).apply(this,arguments)}function Fa(){return(Fa=(0,c.Z)(function*(m,h){const v={identifier:h,continueUri:ge()?le():"http://localhost"},{signinMethods:T}=yield ka((0,O.m9)(m),v);return T||[]})).apply(this,arguments)}function Jl(){return(Jl=(0,c.Z)(function*(m,h){const g=(0,O.m9)(m),T={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};h&&Ra(g.auth,T,h);const{email:R}=yield pn(g.auth,T);R!==m.email&&(yield m.reload())})).apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(m,h,g){const v=(0,O.m9)(m),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:h};g&&Ra(v.auth,R,g);const{email:W}=yield Ul(v.auth,R);W!==m.email&&(yield m.reload())})).apply(this,arguments)}function wr(m,h){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,c.Z)(function*(m,h){return vt(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function fi(){return(fi=(0,c.Z)(function*(m,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const v=(0,O.m9)(m),R={idToken:yield v.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},W=yield rn(v,wr(v.auth,R));v.displayName=W.displayName||null,v.photoURL=W.photoUrl||null;const oe=v.providerData.find(({providerId:Fe})=>"password"===Fe);oe&&(oe.displayName=v.displayName,oe.photoURL=v.photoURL),yield v._updateTokensIfNecessary(W)})).apply(this,arguments)}function Cc(m,h,g){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,c.Z)(function*(m,h,g){const{auth:v}=m,R={idToken:yield m.getIdToken(),returnSecureToken:!0};h&&(R.email=h),g&&(R.password=g);const W=yield rn(m,Rr(v,R));yield m._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class Ri{constructor(h,g,v={}){this.isNewUser=h,this.providerId=g,this.profile=v}}class wc extends Ri{constructor(h,g,v,T){super(h,g,v),this.username=T}}class tu extends Ri{constructor(h,g){super(h,"facebook.com",g)}}class bc extends wc{constructor(h,g){super(h,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class oh extends Ri{constructor(h,g){super(h,"google.com",g)}}class Ua extends wc{constructor(h,g,v){super(h,"twitter.com",g,v)}}function ah(m){const{user:h,_tokenResponse:g}=m;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function eu(m){var h,g;if(!m)return null;const{providerId:v}=m,T=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},R=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!v&&m?.idToken){const W=null===(g=null===(h=gt(m.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new Ri(R,"anonymous"!==W&&"custom"!==W?W:null)}if(!v)return null;switch(v){case"facebook.com":return new tu(R,T);case"github.com":return new bc(R,T);case"google.com":return new oh(R,T);case"twitter.com":return new Ua(R,T,m.screenName||null);case"custom":case"anonymous":return new Ri(R,null);default:return new Ri(R,v,T)}}(g)}class io{constructor(h,g,v){this.type=h,this.credential=g,this.auth=v}static _fromIdtoken(h,g){return new io("enroll",h,g)}static _fromMfaPendingCredential(h){return new io("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,v;if(h?.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return io._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(v=h.multiFactorSession)&&void 0!==v&&v.idToken)return io._fromIdtoken(h.multiFactorSession.idToken)}return null}}class ru{constructor(h,g,v){this.session=h,this.hints=g,this.signInResolver=v}static _fromError(h,g){const v=fn(h),T=g.customData._serverResponse,R=(T.mfaInfo||[]).map(oe=>Vo._fromServerResponse(v,oe));V(T.mfaPendingCredential,v,"internal-error");const W=io._fromMfaPendingCredential(T.mfaPendingCredential);return new ru(W,R,function(){var oe=(0,c.Z)(function*(Fe){const Ke=yield Fe._process(v,W);delete T.mfaInfo,delete T.mfaPendingCredential;const ut=Object.assign(Object.assign({},T),{idToken:Ke.idToken,refreshToken:Ke.refreshToken});switch(g.operationType){case"signIn":const at=yield cr._fromIdTokenResponse(v,g.operationType,ut);return yield v._updateCurrentUser(at.user),at;case"reauthenticate":return V(g.user,v,"internal-error"),cr._forOperation(g.user,g.operationType,ut);default:ve(v,"internal-error")}});return function(Fe){return oe.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,c.Z)(function*(){return g.signInResolver(h)})()}}function lh(m,h){return vt(m,"POST","/v2/accounts/mfaEnrollment:start",Ze(m,h))}class Go{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(v=>Vo._fromServerResponse(h.auth,v)))})}static _fromUser(h){return new Go(h)}getSession(){var h=this;return(0,c.Z)(function*(){return io._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,g){var v=this;return(0,c.Z)(function*(){const T=h,R=yield v.getSession(),W=yield rn(v.user,T._process(v.user.auth,R,g));return yield v.user._updateTokensIfNecessary(W),v.user.reload()})()}unenroll(h){var g=this;return(0,c.Z)(function*(){const v="string"==typeof h?h:h.uid,T=yield g.user.getIdToken();try{const R=yield rn(g.user,function qf(m,h){return vt(m,"POST","/v2/accounts/mfaEnrollment:withdraw",Ze(m,h))}(g.user.auth,{idToken:T,mfaEnrollmentId:v}));g.enrolledFactors=g.enrolledFactors.filter(({uid:W})=>W!==v),yield g.user._updateTokensIfNecessary(R),yield g.user.reload()}catch(R){throw R}})()}}const Es=new WeakMap,pi="__sak";class Cs{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(pi,"1"),this.storage.removeItem(pi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const iu=(()=>{class m extends Cs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,v)=>this.onStorageEvent(g,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function uh(){const m=(0,O.z$)();return Je(m)||kt(m)}()&&function Po(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=nh(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const v of Object.keys(this.listeners)){const T=this.storage.getItem(v),R=this.localCache[v];T!==R&&g(v,R,T)}}onStorageEvent(g,v=!1){if(!g.key)return void this.forAllChangedKeys((oe,Fe,Ke)=>{this.notifyListeners(oe,Ke)});const T=g.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const oe=this.storage.getItem(T);if(g.newValue!==oe)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!v)return}const R=()=>{const oe=this.storage.getItem(T);!v&&this.localCache[T]===oe||this.notifyListeners(T,oe)},W=this.storage.getItem(T);!function us(){return(0,O.w1)()&&10===document.documentMode}()||W===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,v){this.localCache[g]=v;const T=this.listeners[g];if(T)for(const R of Array.from(T))R(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,v,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:v,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,v){var T=()=>super._set,R=this;return(0,c.Z)(function*(){yield T().call(R,g,v),R.localCache[g]=JSON.stringify(v)})()}_get(g){var v=()=>super._get,T=this;return(0,c.Z)(function*(){const R=yield v().call(T,g);return T.localCache[g]=JSON.stringify(R),R})()}_remove(g){var v=()=>super._remove,T=this;return(0,c.Z)(function*(){yield v().call(T,g),delete T.localCache[g]})()}}return m.type="LOCAL",m})(),ws=(()=>{class m extends Cs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,v){}_removeListener(g,v){}}return m.type="SESSION",m})();let Ba=(()=>{class m{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const v=this.receivers.find(R=>R.isListeningto(g));if(v)return v;const T=new m(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var v=this;return(0,c.Z)(function*(){const T=g,{eventId:R,eventType:W,data:oe}=T.data,Fe=v.handlersMap[W];if(!Fe?.size)return;T.ports[0].postMessage({status:"ack",eventId:R,eventType:W});const Ke=Array.from(Fe).map(function(){var at=(0,c.Z)(function*(Un){return Un(T.origin,oe)});return function(Un){return at.apply(this,arguments)}}()),ut=yield function Sc(m){return Promise.all(m.map(function(){var h=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(v){return{fulfilled:!1,reason:v}}});return function(g){return h.apply(this,arguments)}}()))}(Ke);T.ports[0].postMessage({status:"done",eventId:R,eventType:W,response:ut})})()}_subscribe(g,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(v)}_unsubscribe(g,v){this.handlersMap[g]&&v&&this.handlersMap[g].delete(v),(!v||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function bs(m="",h=10){let g="";for(let v=0;v<h;v++)g+=Math.floor(10*Math.random());return m+g}class su{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,v=50){var T=this;return(0,c.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let W,oe;return new Promise((Fe,Ke)=>{const ut=bs("",20);R.port1.start();const at=setTimeout(()=>{Ke(new Error("unsupported_event"))},v);oe={messageChannel:R,onMessage(Un){const Vr=Un;if(Vr.data.eventId===ut)switch(Vr.data.status){case"ack":clearTimeout(at),W=setTimeout(()=>{Ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Fe(Vr.data.response);break;default:clearTimeout(at),clearTimeout(W),Ke(new Error("invalid_response"))}}},T.handlers.add(oe),R.port1.addEventListener("message",oe.onMessage),T.target.postMessage({eventType:h,eventId:ut,data:g},[R.port2])}).finally(()=>{oe&&T.removeMessageHandler(oe)})})()}}function gn(){return window}function so(){return typeof gn().WorkerGlobalScope<"u"&&"function"==typeof gn().importScripts}function oo(){return(oo=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ha="firebaseLocalStorageDb",Ji="firebaseLocalStorage",Zo="fbase_key";class Xi{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ao(m,h){return m.transaction([Ji],h?"readwrite":"readonly").objectStore(Ji)}function qo(){const m=indexedDB.open(Ha,1);return new Promise((h,g)=>{m.addEventListener("error",()=>{g(m.error)}),m.addEventListener("upgradeneeded",()=>{const v=m.result;try{v.createObjectStore(Ji,{keyPath:Zo})}catch(T){g(T)}}),m.addEventListener("success",(0,c.Z)(function*(){const v=m.result;v.objectStoreNames.contains(Ji)?h(v):(v.close(),yield function Ds(){const m=indexedDB.deleteDatabase(Ha);return new Xi(m).toPromise()}(),h(yield qo()))}))})}function Dr(m,h,g){return $a.apply(this,arguments)}function $a(){return($a=(0,c.Z)(function*(m,h,g){const v=ao(m,!0).put({[Zo]:h,value:g});return new Xi(v).toPromise()})).apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(m,h){const g=ao(m,!1).get(h),v=yield new Xi(g).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Ga(m,h){const g=ao(m,!0).delete(h);return new Xi(g).toPromise()}const Ts=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield qo()),g.db})()}_withRetries(g){var v=this;return(0,c.Z)(function*(){let T=0;for(;;)try{const R=yield v._openDb();return yield g(R)}catch(R){if(T++>3)throw R;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return so()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=Ba._getInstance(function Wo(){return so()?self:null}()),g.receiver._subscribe("keyChanged",function(){var v=(0,c.Z)(function*(T,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(T,R){return v.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var v=(0,c.Z)(function*(T,R){return["keyChanged"]});return function(T,R){return v.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var v,T;if(g.activeServiceWorker=yield function Ni(){return oo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new su(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);R&&null!==(v=R[0])&&void 0!==v&&v.fulfilled&&null!==(T=R[0])&&void 0!==T&&T.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var v=this;return(0,c.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function ou(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:g},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield qo();return yield Dr(g,pi,"1"),yield Ga(g,pi),!0}catch{}return!1})()}_withPendingWrite(g){var v=this;return(0,c.Z)(function*(){v.pendingWrites++;try{yield g()}finally{v.pendingWrites--}})()}_set(g,v){var T=this;return(0,c.Z)(function*(){return T._withPendingWrite((0,c.Z)(function*(){return yield T._withRetries(R=>Dr(R,g,v)),T.localCache[g]=v,T.notifyServiceWorker(g)}))})()}_get(g){var v=this;return(0,c.Z)(function*(){const T=yield v._withRetries(R=>function Is(m,h){return Ss.apply(this,arguments)}(R,g));return v.localCache[g]=T,T})()}_remove(g){var v=this;return(0,c.Z)(function*(){return v._withPendingWrite((0,c.Z)(function*(){return yield v._withRetries(T=>Ga(T,g)),delete v.localCache[g],v.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const v=yield g._withRetries(W=>{const oe=ao(W,!1).getAll();return new Xi(oe).toPromise()});if(!v)return[];if(0!==g.pendingWrites)return[];const T=[],R=new Set;for(const{fbase_key:W,value:oe}of v)R.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(oe)&&(g.notifyListeners(W,oe),T.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!R.has(W)&&(g.notifyListeners(W,null),T.push(W));return T})()}notifyListeners(g,v){this.localCache[g]=v;const T=this.listeners[g];if(T)for(const R of Array.from(T))R(v)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function Za(m,h){return vt(m,"POST","/v2/accounts/mfaSignIn:start",Ze(m,h))}function au(){return(au=(0,c.Z)(function*(m){return(yield vt(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function gi(m){return new Promise((h,g)=>{const v=document.createElement("script");v.setAttribute("src",m),v.onload=h,v.onerror=T=>{const R=me("internal-error");R.customData=T,g(R)},v.type="text/javascript",v.charset="UTF-8",function lo(){var m,h;return null!==(h=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==h?h:document}().appendChild(v)})}function lu(m){return`__${m}${Math.floor(1e6*Math.random())}`}const xr=1e12;class Kf{constructor(h){this.auth=h,this.counter=xr,this._widgets=new Map}render(h,g){const v=this.counter;return this._widgets.set(v,new cu(h,this.auth.name,g||{})),this.counter++,v}reset(h){var g;const v=h||xr;null===(g=this._widgets.get(v))||void 0===g||g.delete(),this._widgets.delete(v)}getResponse(h){var g;return(null===(g=this._widgets.get(h||xr))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,c.Z)(function*(){var v;return null===(v=g._widgets.get(h||xr))||void 0===v||v.execute(),""})()}}class cu{constructor(h,g,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof h?document.getElementById(h):h;V(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ka(m){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<m;v++)h.push(g.charAt(Math.floor(Math.random()*g.length)));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const du=lu("rcb"),hu=new Ge(3e4,6e4);class es{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=gn().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return V(function Ya(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(g),h,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(gn().grecaptcha):new Promise((v,T)=>{const R=gn().setTimeout(()=>{T(me(h,"network-request-failed"))},hu.get());gn()[du]=()=>{gn().clearTimeout(R),delete gn()[du];const oe=gn().grecaptcha;if(!oe)return void T(me(h,"internal-error"));const Fe=oe.render;oe.render=(Ke,ut)=>{const at=Fe(Ke,ut);return this.counter++,at},this.hostLanguage=g,v(oe)},gi(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:du,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),T(me(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=gn().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ko{load(h){return(0,c.Z)(function*(){return new Kf(h)})()}clearedOneInstance(){}}const fu="recaptcha",Mc={theme:"light",type:"image"};class Yo{constructor(h,g=Object.assign({},Mc),v){this.parameters=g,this.type=fu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fn(v),this.isInvisible="invisible"===this.parameters.size,V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof h?document.getElementById(h):h;V(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ko:new es,this.validateStartingState()}verify(){var h=this;return(0,c.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),v=h.getAssertedRecaptcha();return v.getResponse(g)||new Promise(R=>{const W=oe=>{oe&&(h.tokenChangeListeners.delete(W),R(oe))};h.tokenChangeListeners.add(W),h.isInvisible&&v.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){V(!this.parameters.sitekey,this.auth,"argument-error"),V(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(v=>v(g)),"function"==typeof h)h(g);else if("string"==typeof h){const v=gn()[h];"function"==typeof v&&v(g)}}}assertNotDestroyed(){V(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,c.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const v=document.createElement("div");g.appendChild(v),g=v}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,c.Z)(function*(){V(ge()&&!so(),h.auth,"internal-error"),yield function Xg(){let m=null;return new Promise(h=>{"complete"!==document.readyState?(m=()=>h(),window.addEventListener("load",m)):h()}).catch(h=>{throw m&&window.removeEventListener("load",m),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function Oi(m){return au.apply(this,arguments)}(h.auth);V(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return V(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ch{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=Qr._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function _i(){return(_i=(0,c.Z)(function*(m,h,g){const v=fn(m),T=yield Nc(v,h,(0,O.m9)(g));return new ch(T,R=>yn(v,R))})).apply(this,arguments)}function Rc(){return(Rc=(0,c.Z)(function*(m,h,g){const v=(0,O.m9)(m);yield ms(!1,v,"phone");const T=yield Nc(v.auth,h,(0,O.m9)(g));return new ch(T,R=>Dn(v,R))})).apply(this,arguments)}function pu(){return(pu=(0,c.Z)(function*(m,h,g){const v=(0,O.m9)(m),T=yield Nc(v.auth,h,(0,O.m9)(g));return new ch(T,R=>_s(v,R))})).apply(this,arguments)}function Nc(m,h,g){return dh.apply(this,arguments)}function dh(){return(dh=(0,c.Z)(function*(m,h,g){var v;const T=yield g.verify();try{let R;if(V("string"==typeof T,m,"argument-error"),V(g.type===fu,m,"argument-error"),R="string"==typeof h?{phoneNumber:h}:h,"session"in R){const W=R.session;if("phoneNumber"in R)return V("enroll"===W.type,m,"internal-error"),(yield lh(m,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{V("signin"===W.type,m,"internal-error");const oe=(null===(v=R.multiFactorHint)||void 0===v?void 0:v.uid)||R.multiFactorUid;return V(oe,m,"missing-multi-factor-info"),(yield Za(m,{mfaPendingCredential:W.credential,mfaEnrollmentId:oe,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield hc(m,{phoneNumber:R.phoneNumber,recaptchaToken:T});return W}}finally{g._reset()}})).apply(this,arguments)}function Oc(){return(Oc=(0,c.Z)(function*(m,h){yield Aa((0,O.m9)(m),h)})).apply(this,arguments)}let mu=(()=>{class m{constructor(g){this.providerId=m.PROVIDER_ID,this.auth=fn(g)}verifyPhoneNumber(g,v){return Nc(this.auth,g,(0,O.m9)(v))}static credential(g,v){return Qr._fromVerification(g,v)}static credentialFromResult(g){return m.credentialFromTaggedObject(g)}static credentialFromError(g){return m.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:v,temporaryProof:T}=g;return v&&T?Qr._fromTokenResponse(v,T):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function an(m,h){return h?it(h):(V(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class Qa extends bn{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Ai(h,this._buildIdpRequest())}_linkToIdToken(h,g){return Ai(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return Ai(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function Ja(m){return eo(m.auth,new Qa(m),m.bypassAuthState)}function kc(m){const{auth:h,user:g}=m;return V(g,h,"internal-error"),Wl(g,new Qa(m),m.bypassAuthState)}function hr(m){return yi.apply(this,arguments)}function yi(){return(yi=(0,c.Z)(function*(m){const{auth:h,user:g}=m;return V(g,h,"internal-error"),Aa(g,new Qa(m),m.bypassAuthState)})).apply(this,arguments)}class Xa{constructor(h,g,v,T,R=!1){this.auth=h,this.resolver=v,this.user=T,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,c.Z)(function*(v,T){h.pendingPromise={resolve:v,reject:T};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(R){h.reject(R)}});return function(v,T){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,c.Z)(function*(){const{urlResponse:v,sessionId:T,postBody:R,tenantId:W,error:oe,type:Fe}=h;if(oe)return void g.reject(oe);const Ke={auth:g.auth,requestUri:v,sessionId:T,tenantId:W||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Fe)(Ke))}catch(ut){g.reject(ut)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Ja;case"linkViaPopup":case"linkViaRedirect":return hr;case"reauthViaPopup":case"reauthViaRedirect":return kc;default:ve(this.auth,"internal-error")}}resolve(h){Oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qo=new Ge(2e3,1e4);function el(){return(el=(0,c.Z)(function*(m,h,g){const v=fn(m);Ne(m,h,hi);const T=an(v,g);return new tl(v,"signInViaPopup",h,T).executeNotNull()})).apply(this,arguments)}function hh(){return(hh=(0,c.Z)(function*(m,h,g){const v=(0,O.m9)(m);Ne(v.auth,h,hi);const T=an(v.auth,g);return new tl(v.auth,"reauthViaPopup",h,T,v).executeNotNull()})).apply(this,arguments)}function Jn(){return(Jn=(0,c.Z)(function*(m,h,g){const v=(0,O.m9)(m);Ne(v.auth,h,hi);const T=an(v.auth,g);return new tl(v.auth,"linkViaPopup",h,T,v).executeNotNull()})).apply(this,arguments)}let tl=(()=>{class m extends Xa{constructor(g,v,T,R,W){super(g,v,R,W),this.provider=T,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const v=yield g.execute();return V(v,g.auth,"internal-error"),v})()}onExecution(){var g=this;return(0,c.Z)(function*(){Oe(1===g.filter.length,"Popup operations only handle one event");const v=bs();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],v),g.authWindow.associatedEvent=v,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(me(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const g=()=>{var v,T;this.pollId=null!==(T=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Qo.get())};g()}}return m.currentPopupAction=null,m})();const Jr=new Map;class Ye extends Xa{constructor(h,g,v=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,v),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,c.Z)(function*(){let v=Jr.get(g.auth._key());if(!v){try{const R=(yield function ki(m,h){return Rn.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;v=()=>Promise.resolve(R)}catch(T){v=()=>Promise.reject(T)}Jr.set(g.auth._key(),v)}return g.bypassAuthState||Jr.set(g.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,v=this;return(0,c.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(v,h);if("unknown"!==h.type){if(h.eventId){const T=yield v.auth._redirectUserForId(h.eventId);if(T)return v.user=T,g().call(v,h);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Rn(){return(Rn=(0,c.Z)(function*(m,h){const g=Xo(h),v=Jo(m);if(!(yield v._isAvailable()))return!1;const T="true"===(yield v._get(g));return yield v._remove(g),T})).apply(this,arguments)}function _u(m,h){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,c.Z)(function*(m,h){return Jo(m)._set(Xo(h),"true")})).apply(this,arguments)}function xc(m,h){Jr.set(m._key(),h)}function Jo(m){return it(m._redirectPersistence)}function Xo(m){return U("pendingRedirect",m.config.apiKey,m.name)}function b(){return(b=(0,c.Z)(function*(m,h,g){const v=fn(m);Ne(m,h,hi),yield v._initializationPromise;const T=an(v,g);return yield _u(T,v),T._openRedirect(v,h,"signInViaRedirect")})).apply(this,arguments)}function L(){return(L=(0,c.Z)(function*(m,h,g){const v=(0,O.m9)(m);Ne(v.auth,h,hi),yield v.auth._initializationPromise;const T=an(v.auth,g);yield _u(T,v.auth);const R=yield mt(v);return T._openRedirect(v.auth,h,"reauthViaRedirect",R)})).apply(this,arguments)}function be(){return(be=(0,c.Z)(function*(m,h,g){const v=(0,O.m9)(m);Ne(v.auth,h,hi),yield v.auth._initializationPromise;const T=an(v.auth,g);yield ms(!1,v,h.providerId),yield _u(T,v.auth);const R=yield mt(v);return T._openRedirect(v.auth,h,"linkViaRedirect",R)})).apply(this,arguments)}function nt(){return(nt=(0,c.Z)(function*(m,h){return yield fn(m)._initializationPromise,Xe(m,h,!1)})).apply(this,arguments)}function Xe(m,h){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,c.Z)(function*(m,h,g=!1){const v=fn(m),T=an(v,h),W=yield new Ye(v,T,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield v._persistUserIfCurrent(W.user),yield v._setRedirectUser(null,h)),W})).apply(this,arguments)}function mt(m){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(m){const h=bs(`${m.uid}:::`);return m._redirectEventId=h,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),h})).apply(this,arguments)}class As{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(h,v)&&(g=!0,this.sendToConsumer(h,v),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Xr(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rs(m);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var v;if(h.error&&!Rs(h)){const T=(null===(v=h.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";g.onError(me(this.auth,T))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const v=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&v}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ms(h))}saveEventToCache(h){this.cachedEventUids.add(Ms(h)),this.lastProcessedEventTime=Date.now()}}function Ms(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(h=>h).join("-")}function Rs({type:m,error:h}){return"unknown"===m&&"auth/no-auth-event"===h?.code}function ei(m){return ti.apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(m,h={}){return vt(m,"GET","/v1/projects",h)})).apply(this,arguments)}const Ps=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qf=/^https?/;function Fc(){return(Fc=(0,c.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:h}=yield ei(m);for(const g of h)try{if(fh(g))return}catch{}ve(m,"unauthorized-domain")})).apply(this,arguments)}function fh(m){const h=le(),{protocol:g,hostname:v}=new URL(h);if(m.startsWith("chrome-extension://")){const W=new URL(m);return""===W.hostname&&""===v?"chrome-extension:"===g&&m.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===v}if(!Qf.test(g))return!1;if(Ps.test(m))return v===m;const T=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(v)}const zn=new Ge(3e4,6e4);function nl(){const m=gn().___jsl;if(m?.H)for(const h of Object.keys(m.H))if(m.H[h].r=m.H[h].r||[],m.H[h].L=m.H[h].L||[],m.H[h].r=[...m.H[h].L],m.CP)for(let g=0;g<m.CP.length;g++)m.CP[g]=null}let Wn=null;function Lr(m){return Wn=Wn||function em(m){return new Promise((h,g)=>{var v,T,R;function W(){nl(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{nl(),g(me(m,"network-request-failed"))},timeout:zn.get()})}if(null!==(T=null===(v=gn().gapi)||void 0===v?void 0:v.iframes)&&void 0!==T&&T.Iframe)h(gapi.iframes.getContext());else{if(null===(R=gn().gapi)||void 0===R||!R.load){const oe=lu("iframefcb");return gn()[oe]=()=>{gapi.load?W():g(me(m,"network-request-failed"))},gi(`https://apis.google.com/js/api.js?onload=${oe}`).catch(Fe=>g(Fe))}W()}}).catch(h=>{throw Wn=null,h})}(m),Wn}const ph=new Ge(5e3,15e3),co={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ta=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ir(m){const h=m.config;V(h.authDomain,m,"auth-domain-config-required");const g=h.emulator?$e(h,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,v={apiKey:h.apiKey,appName:m.name,v:re.SDK_VERSION},T=ta.get(m.config.apiHost);T&&(v.eid=T);const R=m._getFrameworks();return R.length&&(v.fw=R.join(",")),`${g}?${(0,O.xO)(v).slice(1)}`}function gh(){return gh=(0,c.Z)(function*(m){const h=yield Lr(m),g=gn().gapi;return V(g,m,"internal-error"),h.open({where:document.body,url:Ir(m),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:co,dontclear:!0},v=>new Promise(function(){var T=(0,c.Z)(function*(R,W){yield v.restyle({setHideOnLeave:!1});const oe=me(m,"network-request-failed"),Fe=gn().setTimeout(()=>{W(oe)},ph.get());function Ke(){gn().clearTimeout(Fe),R(v)}v.ping(Ke).then(Ke,()=>{W(oe)})});return function(R,W){return T.apply(this,arguments)}}()))}),gh.apply(this,arguments)}const vu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ni{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wu(m,h,g,v,T,R){V(m.config.authDomain,m,"auth-domain-config-required"),V(m.config.apiKey,m,"invalid-api-key");const W={apiKey:m.config.apiKey,appName:m.name,authType:g,redirectUrl:v,v:re.SDK_VERSION,eventId:T};if(h instanceof hi){h.setDefaultLanguage(m.languageCode),W.providerId=h.providerId||"",(0,O.xb)(h.getCustomParameters())||(W.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Fe,Ke]of Object.entries(R||{}))W[Fe]=Ke}if(h instanceof Ks){const Fe=h.getScopes().filter(Ke=>""!==Ke);Fe.length>0&&(W.scopes=Fe.join(","))}m.tenantId&&(W.tid=m.tenantId);const oe=W;for(const Fe of Object.keys(oe))void 0===oe[Fe]&&delete oe[Fe];return`${function nm({config:m}){return m.emulator?$e(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,O.xO)(oe).slice(1)}`}const Ei="webStorageSupport",Uc=class ep{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ws,this._completeRedirectFn=Xe,this._overrideRedirectResult=xc}_openPopup(h,g,v,T){var R=this;return(0,c.Z)(function*(){var W;Oe(null===(W=R.eventManagers[h._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const oe=wu(h,g,v,le(),T);return function Rt(m,h,g,v=500,T=600){const R=Math.max((window.screen.availHeight-T)/2,0).toString(),W=Math.max((window.screen.availWidth-v)/2,0).toString();let oe="";const Fe=Object.assign(Object.assign({},vu),{width:v.toString(),height:T.toString(),top:R,left:W}),Ke=(0,O.z$)().toLowerCase();g&&(oe=dt(Ke)?"_blank":g),te(Ke)&&(h=h||"http://localhost",Fe.scrollbars="yes");const ut=Object.entries(Fe).reduce((Un,[Vr,Ou])=>`${Un}${Vr}=${Ou},`,"");if(function Nn(m=(0,O.z$)()){var h;return kt(m)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Ke)&&"_self"!==oe)return function Cu(m,h){const g=document.createElement("a");g.href=m,g.target=h;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(v)}(h||"",oe),new ni(null);const at=window.open(h||"",oe,ut);V(at,m,"popup-blocked");try{at.focus()}catch{}return new ni(at)}(h,oe,bs())})()}_openRedirect(h,g,v,T){var R=this;return(0,c.Z)(function*(){return yield R._originValidation(h),function Qi(m){gn().location.href=m}(wu(h,g,v,le(),T)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:T,promise:R}=this.eventManagers[g];return T?Promise.resolve(T):(Oe(R,"If manager is not set, promise should be"),R)}const v=this.initAndGetManager(h);return this.eventManagers[g]={promise:v},v.catch(()=>{delete this.eventManagers[g]}),v}initAndGetManager(h){var g=this;return(0,c.Z)(function*(){const v=yield function na(m){return gh.apply(this,arguments)}(h),T=new As(h);return v.register("authEvent",R=>(V(R?.authEvent,h,"invalid-auth-event"),{status:T.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:T},g.iframes[h._key()]=v,T})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(Ei,{type:Ei},T=>{var R;const W=null===(R=T?.[0])||void 0===R?void 0:R[Ei];void 0!==W&&g(!!W),ve(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Xn(m){return Fc.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return nh()||Je()||kt()}};class tp{constructor(h){this.factorId=h}_process(h,g,v){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,v);case"signin":return this._finalizeSignIn(h,g.credential);default:return pe("unexpected MultiFactorSessionType")}}}class np extends tp{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new np(h)}_finalizeEnroll(h,g,v){return function Zf(m,h){return vt(m,"POST","/v2/accounts/mfaEnrollment:finalize",Ze(m,h))}(h,{idToken:g,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function qa(m,h){return vt(m,"POST","/v2/accounts/mfaSignIn:finalize",Ze(m,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Yt=(()=>{class m{constructor(){}static assertion(g){return np._fromCredential(g)}}return m.FACTOR_ID="phone",m})();var xi="@firebase/auth";class _h{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(v=>{h(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fi(){return window}function sa(){return(sa=(0,c.Z)(function*(m,h,g){var v;const{BuildInfo:T}=Fi();Oe(h.sessionId,"AuthEvent did not contain a session ID");const R=yield Vc(h.sessionId),W={};return kt()?W.ibi=T.packageName:ht()?W.apn=T.packageName:ve(m,"operation-not-supported-in-this-environment"),T.displayName&&(W.appDisplayName=T.displayName),W.sessionId=R,wu(m,g,h.type,void 0,null!==(v=h.eventId)&&void 0!==v?v:void 0,W)})).apply(this,arguments)}function Li(){return(Li=(0,c.Z)(function*(m){const{BuildInfo:h}=Fi(),g={};kt()?g.iosBundleId=h.packageName:ht()?g.androidPackageName=h.packageName:ve(m,"operation-not-supported-in-this-environment"),yield ei(m,g)})).apply(this,arguments)}function Ns(){return(Ns=(0,c.Z)(function*(m,h,g){const{cordova:v}=Fi();let T=()=>{};try{yield new Promise((R,W)=>{let oe=null;function Fe(){var at;R();const Un=null===(at=v.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof Un&&Un(),"function"==typeof g?.close&&g.close()}function Ke(){oe||(oe=window.setTimeout(()=>{W(me(m,"redirect-cancelled-by-user"))},2e3))}function ut(){"visible"===document?.visibilityState&&Ke()}h.addPassiveListener(Fe),document.addEventListener("resume",Ke,!1),ht()&&document.addEventListener("visibilitychange",ut,!1),T=()=>{h.removePassiveListener(Fe),document.removeEventListener("resume",Ke,!1),document.removeEventListener("visibilitychange",ut,!1),oe&&window.clearTimeout(oe)}})}finally{T()}})).apply(this,arguments)}function Vc(m){return Os.apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(m){const h=Bc(m),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Bc(m){if(Oe(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(m);const h=new ArrayBuffer(m.length),g=new Uint8Array(h);for(let v=0;v<m.length;v++)g[v]=m.charCodeAt(v);return g}(0,O.Pz)("authIdTokenMaxAge"),function il(m){(0,re._registerComponent)(new ue.wA("auth",(h,{options:g})=>{const v=h.getProvider("app").getImmediate(),T=h.getProvider("heartbeat"),{apiKey:R,authDomain:W}=v.options;return((oe,Fe)=>{V(R&&!R.includes(":"),"invalid-api-key",{appName:oe.name}),V(!W?.includes(":"),"argument-error",{appName:oe.name});const Ke={apiKey:R,authDomain:W,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sa(m)},ut=new cc(oe,Fe,Ke);return function ie(m,h){const g=h?.persistence||[],v=(Array.isArray(g)?g:[g]).map(it);h?.errorMap&&m._updateErrorMap(h.errorMap),m._initializeWithPersistence(v,h?.popupRedirectResolver)}(ut,g),ut})(v,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,v)=>{h.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new ue.wA("auth-internal",h=>{const g=fn(h.getProvider("auth").getImmediate());return new _h(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)(xi,"0.21.4",function er(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,re.registerVersion)(xi,"0.21.4","esm2017")}("Browser");class sl extends As{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,c.Z)(function*(){yield h.initPromise})()}}function Ch(m){return ol.apply(this,arguments)}function ol(){return(ol=(0,c.Z)(function*(m){const h=yield wh()._get(al(m));return h&&(yield wh()._remove(al(m))),h})).apply(this,arguments)}function am(){const m=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const v=Math.floor(Math.random()*h.length);m.push(h.charAt(v))}return m.join("")}function wh(){return it(iu)}function al(m){return U("authEvent",m.config.apiKey,m.name)}function Tu(m){if(!m?.includes("?"))return{};const[h,...g]=m.split("?");return(0,O.zd)(g.join("?"))}const Au=class sp{constructor(){this._redirectPersistence=ws,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Xe,this._overrideRedirectResult=xc}_initialize(h){var g=this;return(0,c.Z)(function*(){const v=h._key();let T=g.eventManagers.get(v);return T||(T=new sl(h),g.eventManagers.set(v,T),g.attachCallbackListeners(h,T)),T})()}_openPopup(h){ve(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,v,T){var R=this;return(0,c.Z)(function*(){!function sm(m){var h,g,v,T,R,W,oe,Fe,Ke,ut;const at=Fi();V("function"==typeof(null===(h=at?.universalLinks)||void 0===h?void 0:h.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),V(typeof(null===(g=at?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),V("function"==typeof(null===(R=null===(T=null===(v=at?.cordova)||void 0===v?void 0:v.plugins)||void 0===T?void 0:T.browsertab)||void 0===R?void 0:R.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"==typeof(null===(Fe=null===(oe=null===(W=at?.cordova)||void 0===W?void 0:W.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===Fe?void 0:Fe.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"==typeof(null===(ut=null===(Ke=at?.cordova)||void 0===Ke?void 0:Ke.InAppBrowser)||void 0===ut?void 0:ut.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const W=yield R._initialize(h);yield W.initialized(),W.resetRedirect(),function vi(){Jr.clear()}(),yield R._originValidation(h);const oe=function Iu(m,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:am(),postBody:null,tenantId:m.tenantId,error:me(m,"no-auth-event")}}(h,v,T);yield function Su(m,h){return wh()._set(al(m),h)}(h,oe);const Fe=yield function xt(m,h,g){return sa.apply(this,arguments)}(h,oe,g),Ke=yield function Eh(m){const{cordova:h}=Fi();return new Promise(g=>{h.plugins.browsertab.isAvailable(v=>{let T=null;v?h.plugins.browsertab.openUrl(m):T=h.InAppBrowser.open(m,function qr(m=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),g(T)})})}(Fe);return function bu(m,h,g){return Ns.apply(this,arguments)}(h,W,Ke)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function im(m){return Li.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:v,handleOpenURL:T,BuildInfo:R}=Fi(),W=setTimeout((0,c.Z)(function*(){yield Ch(h),g.onEvent(Mu())}),500),oe=function(){var ut=(0,c.Z)(function*(at){clearTimeout(W);const Un=yield Ch(h);let Vr=null;Un&&at?.url&&(Vr=function om(m,h){var g,v;const T=function um(m){const h=Tu(m),g=h.link?decodeURIComponent(h.link):void 0,v=Tu(g).link,T=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Tu(T).link||T||v||g||m}(h);if(T.includes("/__/auth/callback")){const R=Tu(T),W=R.firebaseError?function lm(m){try{return JSON.parse(m)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,oe=null===(v=null===(g=W?.code)||void 0===g?void 0:g.split("auth/"))||void 0===v?void 0:v[1],Fe=oe?me(oe):null;return Fe?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Fe,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:T,postBody:null}}return null}(Un,at.url)),g.onEvent(Vr||Mu())});return function(Un){return ut.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,oe);const Fe=T,Ke=`${R.packageName.toLowerCase()}://`;Fi().handleOpenURL=function(){var ut=(0,c.Z)(function*(at){if(at.toLowerCase().startsWith(Ke)&&oe({url:at}),"function"==typeof Fe)try{Fe(at)}catch(Un){console.error(Un)}});return function(at){return ut.apply(this,arguments)}}()}};function Mu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:me("no-auth-event")}}function ul(){var m;return(null===(m=self?.location)||void 0===m?void 0:m.protocol)||null}function ap(m=(0,O.z$)()){return!("file:"!==ul()&&"ionic:"!==ul()&&"capacitor:"!==ul()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function $c(){try{const m=self.localStorage,h=bs();if(m)return m.setItem(h,"1"),m.removeItem(h),!function Dh(m=(0,O.z$)()){return function fo(){return(0,O.w1)()&&11===document?.documentMode}()||function cl(m=(0,O.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,O.hl)()}catch{return Ru()&&(0,O.hl)()}return!1}function Ru(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ts(){return(function op(){return"http:"===ul()||"https:"===ul()}()||(0,O.ru)()||ap())&&!function jc(){return(0,O.b$)()||(0,O.UG)()}()&&$c()&&!Ru()}function Ih(){return ap()&&typeof document<"u"}function oa(){return(oa=(0,c.Z)(function*(){return!!Ih()&&new Promise(m=>{const h=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),m(!0)})})})).apply(this,arguments)}const tr={LOCAL:"local",NONE:"none",SESSION:"session"},Ci=V,zc="persistence";function Sh(m){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,c.Z)(function*(m){yield m._initializationPromise;const h=dl(),g=U(zc,m.config.apiKey,m.name);h&&h.setItem(g,m._getPersistence())})).apply(this,arguments)}function dl(){var m;try{return(null===(m=function lp(){return typeof window<"u"?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch{return null}}const ns=V;class Ui{constructor(){this.browserResolver=it(Uc),this.cordovaResolver=it(Au),this.underlyingResolver=null,this._redirectPersistence=ws,this._completeRedirectFn=Xe,this._overrideRedirectResult=xc}_initialize(h){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,v,T){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(h,g,v,T)})()}_openRedirect(h,g,v,T){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(h,g,v,T)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Ih()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ns(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,c.Z)(function*(){if(h.underlyingResolver)return;const g=yield function Gc(){return oa.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function ks(m){return m.unwrap()}function Wc(m){return cp(m)}function cp(m){const{_tokenResponse:h}=m instanceof O.ZR?m.customData:m;if(!h)return null;if(!(m instanceof O.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return mu.credentialFromResult(m);const g=h.providerId;if(!g||"password"===g)return null;let v;switch(g){case"google.com":v=pc;break;case"facebook.com":v=Hl;break;case"github.com":v=gc;break;case"twitter.com":v=Gf;break;default:const{oauthIdToken:T,oauthAccessToken:R,oauthTokenSecret:W,pendingToken:oe,nonce:Fe}=h;return R||W||T||oe?oe?g.startsWith("saml.")?Ys._create(g,oe):Nr._fromParams({providerId:g,signInMethod:g,pendingToken:oe,idToken:T,accessToken:R}):new Fo(g).credential({idToken:T,accessToken:R,rawNonce:Fe}):null}return m instanceof O.ZR?v.credentialFromError(m):v.credentialFromResult(m)}function Ur(m,h){return h.catch(g=>{throw g instanceof O.ZR&&function po(m,h){var g;const v=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new Ah(m,function Gn(m,h){var g;const v=(0,O.m9)(m),T=h;return V(h.customData.operationType,v,"argument-error"),V(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,v,"argument-error"),ru._fromError(v,T)}(m,h));else if(v){const T=cp(h),R=h;T&&(R.credential=T,R.tenantId=v.tenantId||void 0,R.email=v.email||void 0,R.phoneNumber=v.phoneNumber||void 0)}}(m,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:Wc(g),additionalUserInfo:ah(g),user:xs.getOrCreate(T)}})}function dp(m,h){return Th.apply(this,arguments)}function Th(){return(Th=(0,c.Z)(function*(m,h){const g=yield h;return{verificationId:g.verificationId,confirm:v=>Ur(m,g.confirm(v))}})).apply(this,arguments)}class Ah{constructor(h,g){this.resolver=g,this.auth=function la(m){return m.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Ur(ks(this.auth),this.resolver.resolveSignIn(h))}}class xs{constructor(h){this._delegate=h,this.multiFactor=function Va(m){const h=(0,O.m9)(m);return Es.has(h)||Es.set(h,Go._fromUser(h)),Es.get(h)}(h)}static getOrCreate(h){return xs.USER_MAP.has(h)||xs.USER_MAP.set(h,new xs(h)),xs.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,c.Z)(function*(){return Ur(g.auth,Dn(g._delegate,h))})()}linkWithPhoneNumber(h,g){var v=this;return(0,c.Z)(function*(){return dp(v.auth,function Yf(m,h,g){return Rc.apply(this,arguments)}(v._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,c.Z)(function*(){return Ur(g.auth,function fv(m,h,g){return Jn.apply(this,arguments)}(g._delegate,h,Ui))})()}linkWithRedirect(h){var g=this;return(0,c.Z)(function*(){return yield Sh(fn(g.auth)),function q(m,h,g){return function J(m,h,g){return be.apply(this,arguments)}(m,h,g)}(g._delegate,h,Ui)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,c.Z)(function*(){return Ur(g.auth,_s(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return dp(this.auth,function Pc(m,h,g){return pu.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return Ur(this.auth,function hv(m,h,g){return hh.apply(this,arguments)}(this._delegate,h,Ui))}reauthenticateWithRedirect(h){var g=this;return(0,c.Z)(function*(){return yield Sh(fn(g.auth)),function D(m,h,g){return function A(m,h,g){return L.apply(this,arguments)}(m,h,g)}(g._delegate,h,Ui)})()}sendEmailVerification(h){return function vc(m,h){return Jl.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,c.Z)(function*(){return yield function Ta(m,h){return Qs.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function Ec(m,h){return Cc((0,O.m9)(m),h,null)}(this._delegate,h)}updatePassword(h){return function $o(m,h){return Cc((0,O.m9)(m),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function gu(m,h){return Oc.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function vs(m,h){return fi.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function La(m,h,g){return kn.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xs.USER_MAP=new WeakMap;const hl=V;let Nu=(()=>{class m{constructor(g,v){if(this.app=g,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;hl(T,"invalid-api-key",{appName:g.name}),hl(T,"invalid-api-key",{appName:g.name});const R=typeof window<"u"?Ui:void 0;this._delegate=v.initialize({options:{persistence:hp(T,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Ve),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,v){!function Fl(m,h,g){const v=fn(m);V(v._canInitEmulator,v,"emulator-config-failed"),V(/^https?:\/\//.test(h),v,"invalid-emulator-scheme");const T=!!g?.disableWarnings,R=No(h),{host:W,port:oe}=function Oo(m){const h=No(m),g=/(\/\/)?([^?#/]+)/.exec(m.substr(h.length));if(!g)return{host:"",port:null};const v=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(v);if(T){const R=T[1];return{host:R,port:Vt(v.substr(R.length+1))}}{const[R,W]=v.split(":");return{host:R,port:Vt(W)}}}(h);v.config.emulator={url:`${R}//${W}${null===oe?"":`:${oe}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:W,port:oe,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function On(){function m(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,g,v)}applyActionCode(g){return function Pa(m,h){return _c.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Na(this._delegate,g)}confirmPasswordReset(g,v){return function Ho(m,h,g){return Et.apply(this,arguments)}(this._delegate,g,v)}createUserWithEmailAndPassword(g,v){var T=this;return(0,c.Z)(function*(){return Ur(T._delegate,function sh(m,h,g){return Yl.apply(this,arguments)}(T._delegate,g,v))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function xa(m,h){return Fa.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function yc(m,h){return"EMAIL_SIGNIN"===xo.parseLink(h)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){hl(ts(),g._delegate,"operation-not-supported-in-this-environment");const v=yield function Ue(m,h){return nt.apply(this,arguments)}(g._delegate,Ui);return v?Ur(g._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function cm(m,h){fn(m)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,v,T){const{next:R,error:W,complete:oe}=Zc(g,v,T);return this._delegate.onAuthStateChanged(R,W,oe)}onIdTokenChanged(g,v,T){const{next:R,error:W,complete:oe}=Zc(g,v,T);return this._delegate.onIdTokenChanged(R,W,oe)}sendSignInLinkToEmail(g,v){return function Bt(m,h,g){return Ql.apply(this,arguments)}(this._delegate,g,v)}sendPasswordResetEmail(g,v){return function Mi(m,h,g){return Bo.apply(this,arguments)}(this._delegate,g,v||void 0)}setPersistence(g){var v=this;return(0,c.Z)(function*(){let T;switch(function aa(m,h){Ci(Object.values(tr).includes(h),m,"invalid-persistence-type"),(0,O.b$)()?Ci(h!==tr.SESSION,m,"unsupported-persistence-type"):(0,O.UG)()?Ci(h===tr.NONE,m,"unsupported-persistence-type"):Ru()?Ci(h===tr.NONE||h===tr.LOCAL&&(0,O.hl)(),m,"unsupported-persistence-type"):Ci(h===tr.NONE||$c(),m,"unsupported-persistence-type")}(v._delegate,g),g){case tr.SESSION:T=ws;break;case tr.LOCAL:T=(yield it(Ts)._isAvailable())?Ts:iu;break;case tr.NONE:T=B;break;default:return ve("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Ur(this._delegate,function mc(m){return ih.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Ur(this._delegate,yn(this._delegate,g))}signInWithCustomToken(g){return Ur(this._delegate,function ys(m,h){return Fn.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,v){return Ur(this._delegate,function de(m,h,g){return yn((0,O.m9)(m),Bl.credential(h,g))}(this._delegate,g,v))}signInWithEmailLink(g,v){return Ur(this._delegate,function $n(m,h,g){return jo.apply(this,arguments)}(this._delegate,g,v))}signInWithPhoneNumber(g,v){return dp(this._delegate,function Kt(m,h,g){return _i.apply(this,arguments)}(this._delegate,g,v))}signInWithPopup(g){var v=this;return(0,c.Z)(function*(){return hl(ts(),v._delegate,"operation-not-supported-in-this-environment"),Ur(v._delegate,function uo(m,h,g){return el.apply(this,arguments)}(v._delegate,g,Ui))})()}signInWithRedirect(g){var v=this;return(0,c.Z)(function*(){return hl(ts(),v._delegate,"operation-not-supported-in-this-environment"),yield Sh(v._delegate),function yu(m,h,g){return function ea(m,h,g){return b.apply(this,arguments)}(m,h,g)}(v._delegate,g,Ui)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Kl(m,h){return Oa.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=tr,m})();function Zc(m,h,g){let v=m;"function"!=typeof m&&({next:v,error:h,complete:g}=m);const T=v;return{next:W=>T(W&&xs.getOrCreate(W)),error:h,complete:g}}function hp(m,h){const g=function up(m,h){const g=dl();if(!g)return[];const v=U(zc,m,h);switch(g.getItem(v)){case tr.NONE:return[B];case tr.LOCAL:return[Ts,ws];case tr.SESSION:return[ws];default:return[]}}(m,h);if(typeof self<"u"&&!g.includes(Ts)&&g.push(Ts),typeof window<"u")for(const v of[iu,ws])g.includes(v)||g.push(v);return g.includes(B)||g.push(B),g}class qc{constructor(){this.providerId="phone",this._delegate=new mu(ks(Y.Z.auth()))}static credential(h,g){return mu.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}qc.PHONE_SIGN_IN_METHOD=mu.PHONE_SIGN_IN_METHOD,qc.PROVIDER_ID=mu.PROVIDER_ID;const Mh=V;class fp{constructor(h,g,v=Y.Z.app()){var T;Mh(null===(T=v.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Yo(h,g,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function dm(m){m.INTERNAL.registerComponent(new ue.wA("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),v=h.getProvider("auth");return new Nu(g,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Bl,FacebookAuthProvider:Hl,GithubAuthProvider:gc,GoogleAuthProvider:pc,OAuthProvider:Fo,SAMLAuthProvider:kr,PhoneAuthProvider:qc,PhoneMultiFactorGenerator:Yt,RecaptchaVerifier:fp,TwitterAuthProvider:Gf,Auth:Nu,AuthCredential:bn,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.3.4")}(Y.Z)},8766:(rt,ye,k)=>{k.d(ye,{Lj:()=>ve,X3:()=>Pe});var c=k(5861);let O,re;const ue=new WeakMap,ae=new WeakMap,se=new WeakMap,H=new WeakMap,j=new WeakMap;let Ee={get(V,pe,Oe){if(V instanceof IDBTransaction){if("done"===pe)return ae.get(V);if("objectStoreNames"===pe)return V.objectStoreNames||se.get(V);if("store"===pe)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return Ce(V[pe])},set:(V,pe,Oe)=>(V[pe]=Oe,!0),has:(V,pe)=>V instanceof IDBTransaction&&("done"===pe||"store"===pe)||pe in V};function ce(V){return"function"==typeof V?function Qe(V){return V!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ee(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(V)?function(...pe){return V.apply(we(this),pe),Ce(ue.get(this))}:function(...pe){return Ce(V.apply(we(this),pe))}:function(pe,...Oe){const Be=V.call(we(this),pe,...Oe);return se.set(Be,pe.sort?pe.sort():[pe]),Ce(Be)}}(V):(V instanceof IDBTransaction&&function ke(V){if(ae.has(V))return;const pe=new Promise((Oe,Be)=>{const it=()=>{V.removeEventListener("complete",We),V.removeEventListener("error",ie),V.removeEventListener("abort",ie)},We=()=>{Oe(),it()},ie=()=>{Be(V.error||new DOMException("AbortError","AbortError")),it()};V.addEventListener("complete",We),V.addEventListener("error",ie),V.addEventListener("abort",ie)});ae.set(V,pe)}(V),((V,pe)=>pe.some(Oe=>V instanceof Oe))(V,function ne(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(V,Ee):V)}function Ce(V){if(V instanceof IDBRequest)return function Z(V){const pe=new Promise((Oe,Be)=>{const it=()=>{V.removeEventListener("success",We),V.removeEventListener("error",ie)},We=()=>{Oe(Ce(V.result)),it()},ie=()=>{Be(V.error),it()};V.addEventListener("success",We),V.addEventListener("error",ie)});return pe.then(Oe=>{Oe instanceof IDBCursor&&ue.set(Oe,V)}).catch(()=>{}),j.set(pe,V),pe}(V);if(H.has(V))return H.get(V);const pe=ce(V);return pe!==V&&(H.set(V,pe),j.set(pe,V)),pe}const we=V=>j.get(V);function Pe(V,pe,{blocked:Oe,upgrade:Be,blocking:it,terminated:We}={}){const ie=indexedDB.open(V,pe),le=Ce(ie);return Be&&ie.addEventListener("upgradeneeded",ge=>{Be(Ce(ie.result),ge.oldVersion,ge.newVersion,Ce(ie.transaction))}),Oe&&ie.addEventListener("blocked",()=>Oe()),le.then(ge=>{We&&ge.addEventListener("close",()=>We()),it&&ge.addEventListener("versionchange",()=>it())}).catch(()=>{}),le}function ve(V,{blocked:pe}={}){const Oe=indexedDB.deleteDatabase(V);return pe&&Oe.addEventListener("blocked",()=>pe()),Ce(Oe).then(()=>{})}const me=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Ne=new Map;function Ae(V,pe){if(!(V instanceof IDBDatabase)||pe in V||"string"!=typeof pe)return;if(Ne.get(pe))return Ne.get(pe);const Oe=pe.replace(/FromIndex$/,""),Be=pe!==Oe,it=De.includes(Oe);if(!(Oe in(Be?IDBIndex:IDBObjectStore).prototype)||!it&&!me.includes(Oe))return;const We=function(){var ie=(0,c.Z)(function*(le,...ge){const Ie=this.transaction(le,it?"readwrite":"readonly");let Re=Ie.store;return Be&&(Re=Re.index(ge.shift())),(yield Promise.all([Re[Oe](...ge),it&&Ie.done]))[0]});return function(ge){return ie.apply(this,arguments)}}();return Ne.set(pe,We),We}!function Ve(V){Ee=V(Ee)}(V=>({...V,get:(pe,Oe,Be)=>Ae(pe,Oe)||V.get(pe,Oe,Be),has:(pe,Oe)=>!!Ae(pe,Oe)||V.has(pe,Oe)}))},5861:(rt,ye,k)=>{function c(O,re,ne,ee,ue,ae,se){try{var H=O[ae](se),j=H.value}catch(Z){return void ne(Z)}H.done?re(j):Promise.resolve(j).then(ee,ue)}function Y(O){return function(){var re=this,ne=arguments;return new Promise(function(ee,ue){var ae=O.apply(re,ne);function se(j){c(ae,ee,ue,se,H,"next",j)}function H(j){c(ae,ee,ue,se,H,"throw",j)}se(void 0)})}}k.d(ye,{Z:()=>Y})}},rt=>{rt(rt.s=441)}]);